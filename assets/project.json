{"targets":[{"isStage":true,"name":"Stage","variables":{"`jEk@4|i[#Fk?(8x)AV.-my variable":["my variable",0],"*6drhXP:uEQ|CIv1S8w@":["tmp",""],"2.8hHiaGU}W_ZtWSFr8{":["i",6],"eQwx-s}=a#9yHIAYl?I!":["tmp1","test"],"npUY#k@VmQF+eQ;Grb`b":["j",1],"kb!NJ48,X=3E+A}v$pMh":["boxes","{\"drinking_age\":\"21\",\"age?\":\"13\"}"],"eJT3;YUNKbqbDr[OMj)a":["k",1],"Nb_hrG-xLFDC,w`vcT`x":["tmp2","[\"test\"]"],"E1O6Ig#rMIt_+F`~oyf*":["m",6],"IJ!vv`_]-Kj:B(*KP)R5":["n",0],"Njau~Rd+?m4v*qz$JPRw":["mode","0"],"-[/s5Ci!Vm_AYWv8F$C^":["code.toimport",0],"r[g}EQf@c1m5dOd_z]Z2":["o",10297502],"*Y4Kh;pE7IVVbDj/Jwk/":["tmp3",0]},"lists":{";A!-EsNOQGwq7!9H*J8b":["code (run)",["{\"cmd\":\"box\",\"args\":[\"drinking_age\",\"21\"]}","{\"cmd\":\"ask\",\"args\":[\"age?\"]}","{\"cmd\":\"say\",\"args\":[\"is~$age?:~>=~:$drinking_age~?\",\"2\"]}","{\"cmd\":\"box\",\"args\":[\"test\",\"data\"]}","{\"cmd\":\"say\",\"args\":[\"~\",\"1\"]}","{\"cmd\":\"del\",\"args\":[\"test\"]}"]],"9O|/dr-6%0yRU!*jD@Cb":["code",["box drinking_age|21","ask age?","say is~$age?:~>=~:$drinking_age~?|2","box test|data","say ~|1","del test"]],"_Im,zJg}7i]sA]LkT)iJ":["[debug] boxes",["[\"drinking_age\",\"21\"]","[\"age?\",\"13\"]"]],"}dDt?K()T1V#X=R=X]hf":["console",["age?  : 13","is 13 >= 21 ?","~"]]},"broadcasts":{"A*g8r3Aywmm^tj~`of++":"runcode","M4@~!}?lZ{|!Z.QpkZjH":"box","Anm|pP*NqY=G[VcM!iDY":"b","D,pnk6;v8oJ~$@kx@/%]":"ask","tM(*{49`]oVrP,C-q5.P":"a","?Fw3/@M_kmLrs6yE[gjo":"say","i~n~KSpah*[cXWwg3{P4":"s","_0OSAir{{kT=2!Wq%I5@":"del","/SI2~M[:oM?LSV,Pzpo.":"d"},"blocks":{},"comments":{"b@":{"blockId":null,"x":50,"y":50,"width":350,"height":170,"minimized":false,"text":"Configuration for https://turbowarp.org/\nYou can move, resize, and minimize this comment, but don't edit it by hand. This comment can be deleted to remove the stored settings.\n{\"framerate\":250,\"runtimeOptions\":{\"maxClones\":Infinity,\"miscLimits\":false,\"fencing\":false},\"interpolation\":true,\"turbo\":true,\"hq\":true} // _twconfig_"}},"currentCostume":0,"costumes":[{"name":"backdrop1","bitmapResolution":1,"dataFormat":"svg","assetId":"f54ed3b0ed99df1c8520aeab11610d64","md5ext":"f54ed3b0ed99df1c8520aeab11610d64.svg","rotationCenterX":240,"rotationCenterY":180}],"sounds":[],"volume":100,"layerOrder":0,"tempo":60,"videoTransparency":50,"videoState":"on","textToSpeechLanguage":null},{"isStage":false,"name":"boxy :3","variables":{},"lists":{},"broadcasts":{},"blocks":{"V":{"opcode":"procedures_definition","next":"W","parent":null,"inputs":{"custom_block":[1,"j"]},"fields":{},"topLevel":true},"j":{"opcode":"procedures_prototype","next":null,"parent":"V","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,"aM"],"sMWSK[e`nP!.#1hm5o6[":[1,"aN"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","argumentnames":"[\"input#\",\"line#\"]","argumentdefaults":"[\"\",\"\"]","warp":"true"}},"aM":{"opcode":"argument_reporter_string_number","next":null,"parent":"j","inputs":{},"fields":{"VALUE":["input#",null]},"shadow":true},"aN":{"opcode":"argument_reporter_string_number","next":null,"parent":"j","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"W":{"opcode":"procedures_return","next":null,"parent":"V","inputs":{"VALUE":[3,"X",[10,""]]},"fields":{}},"X":{"opcode":"procedures_call","next":null,"parent":"W","inputs":{"RTR2*3KVWkD)pO1G4:X%":[3,"k",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get box data %s","argumentids":"[\"RTR2*3KVWkD)pO1G4:X%\"]","warp":"true","return":"1"}},"k":{"opcode":"skyhigh173JSON_json_array_get","next":null,"parent":"X","inputs":{"item":[3,"aO",[4,"1"]],"json":[3,"Y",[10,"[\"scratch\",\"TurboWarp\"]"]]},"fields":{}},"aO":{"opcode":"argument_reporter_string_number","next":null,"parent":"k","inputs":{},"fields":{"VALUE":["input#",null]}},"Y":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"k","inputs":{"item":[1,[10,"args"]],"json":[3,"Z",[10,"{\"key\":\"value\"}"]]},"fields":{}},"Z":{"opcode":"data_itemoflist","next":null,"parent":"Y","inputs":{"INDEX":[3,"aP",[7,"1"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"aP":{"opcode":"argument_reporter_string_number","next":null,"parent":"Z","inputs":{},"fields":{"VALUE":["line#",null]}},"!":{"opcode":"procedures_definition","next":"#","parent":null,"inputs":{"custom_block":[1,"%"]},"fields":{},"topLevel":true},"%":{"opcode":"procedures_prototype","next":null,"parent":"!","inputs":{"tx=G`+RuTkIT/GbZ.p26":[1,"aQ"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","argumentnames":"[\"line#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"aQ":{"opcode":"argument_reporter_string_number","next":null,"parent":"%","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"#":{"opcode":"procedures_return","next":null,"parent":"!","inputs":{"VALUE":[3,"(",[10,""]]},"fields":{}},"(":{"opcode":"strings_split","next":null,"parent":"#","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,")",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},")":{"opcode":"data_itemoflist","next":null,"parent":"(","inputs":{"INDEX":[3,"aR",[7,"1"]]},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"aR":{"opcode":"argument_reporter_string_number","next":null,"parent":")","inputs":{},"fields":{"VALUE":["line#",null]}},"*":{"opcode":"procedures_definition","next":"l","parent":null,"inputs":{"custom_block":[1,"+"]},"fields":{},"topLevel":true},"+":{"opcode":"procedures_prototype","next":null,"parent":"*","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[1,"aS"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","argumentnames":"[\"line#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"aS":{"opcode":"argument_reporter_string_number","next":null,"parent":"+","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"l":{"opcode":"data_setvariableto","next":"aT","parent":"*","inputs":{"VALUE":[3,",",[10,"0"]]},"fields":{"VARIABLE":["tmp2","Nb_hrG-xLFDC,w`vcT`x"]}},",":{"opcode":"skyhigh173JSON_json_array_create","next":null,"parent":"l","inputs":{"text":[3,"-",[10,"a,b,c"]],"d":[1,[10,"|"]]},"fields":{}},"-":{"opcode":"strings_split","next":null,"parent":",","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,".",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},".":{"opcode":"data_itemoflist","next":null,"parent":"-","inputs":{"INDEX":[3,"aU",[7,"1"]]},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"aU":{"opcode":"argument_reporter_string_number","next":null,"parent":".","inputs":{},"fields":{"VALUE":["line#",null]}},"aT":{"opcode":"procedures_return","next":null,"parent":"l","inputs":{"VALUE":[3,[12,"tmp2","Nb_hrG-xLFDC,w`vcT`x"],[10,""]]},"fields":{}},"/":{"opcode":"procedures_definition","next":":","parent":null,"inputs":{"custom_block":[1,"aV"]},"fields":{},"topLevel":true},"aV":{"opcode":"procedures_prototype","next":null,"parent":"/","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"make code","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},":":{"opcode":"data_deletealloflist","next":"m","parent":"/","inputs":{},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"m":{"opcode":"control_for_each","next":null,"parent":":","inputs":{"VALUE":[3,"aW",[6,"10"]],"SUBSTACK":[2,";"]},"fields":{"VARIABLE":["i","2.8hHiaGU}W_ZtWSFr8{"]}},"aW":{"opcode":"data_lengthoflist","next":null,"parent":"m","inputs":{},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},";":{"opcode":"data_addtolist","next":null,"parent":"m","inputs":{"ITEM":[3,"n",[10,"thing"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"n":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":";","inputs":{"item":[1,[10,"args"]],"json":[3,"=",[10,"{\"key\":\"value\"}"]],"value":[3,"aX",[10,"new value"]]},"fields":{}},"=":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"n","inputs":{"item":[1,[10,"cmd"]],"json":[1,[10,"{}"]],"value":[3,"aY",[10,"new value"]]},"fields":{}},"aY":{"opcode":"procedures_call","next":null,"parent":"=","inputs":{"tx=G`+RuTkIT/GbZ.p26":[3,[12,"i","2.8hHiaGU}W_ZtWSFr8{"],[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","warp":"true","return":"1"}},"aX":{"opcode":"procedures_call","next":null,"parent":"n","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[3,[12,"i","2.8hHiaGU}W_ZtWSFr8{"],[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","warp":"true","return":"1"}},"?":{"opcode":"procedures_definition","next":"o","parent":null,"inputs":{"custom_block":[1,"@"]},"fields":{},"topLevel":true},"@":{"opcode":"procedures_prototype","next":null,"parent":"?","inputs":{"RTR2*3KVWkD)pO1G4:X%":[1,"aZ"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get box data %s","argumentids":"[\"RTR2*3KVWkD)pO1G4:X%\"]","argumentnames":"[\"data\"]","argumentdefaults":"[\"\",\"\",\"\"]","warp":"true"}},"aZ":{"opcode":"argument_reporter_string_number","next":null,"parent":"@","inputs":{},"fields":{"VALUE":["data",null]},"shadow":true},"o":{"opcode":"data_setvariableto","next":"a","parent":"?","inputs":{"VALUE":[3,"a!",[10,"0"]]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"a!":{"opcode":"argument_reporter_string_number","next":null,"parent":"o","inputs":{},"fields":{"VALUE":["data",null]}},"a":{"opcode":"control_for_each","next":"b","parent":"o","inputs":{"VALUE":[3,"[",[6,"10"]],"SUBSTACK":[2,"p"]},"fields":{"VARIABLE":["j","npUY#k@VmQF+eQ;Grb`b"]}},"a#":{"opcode":"strings_count","next":null,"parent":"[","inputs":{"SUBSTRING":[1,[10,"$"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"p":{"opcode":"data_setvariableto","next":"q","parent":"a","inputs":{"VALUE":[3,"]",[10,"box"]]},"fields":{"VARIABLE":["tmp","*6drhXP:uEQ|CIv1S8w@"]}},"]":{"opcode":"strings_split","next":null,"parent":"p","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"^",[10,"apple"]],"SPLIT":[1,[10,"~"]]},"fields":{}},"^":{"opcode":"strings_split","next":null,"parent":"]","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"_",[10,"apple"]],"SPLIT":[1,[10,":"]]},"fields":{}},"_":{"opcode":"strings_split","next":null,"parent":"^","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"a%",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"a%":{"opcode":"strings_split","next":null,"parent":"_","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]],"SPLIT":[1,[10,"$"]]},"fields":{}},"q":{"opcode":"data_setvariableto","next":"a(","parent":"p","inputs":{"VALUE":[3,"r",[10,"$box"]]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"r":{"opcode":"strings_replace","next":null,"parent":"q","inputs":{"SUBSTRING":[3,"a)",[10,"world"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"$box:ing123"]],"REPLACE":[3,"a*",[10,"fellow Scratchers"]]},"fields":{}},"a)":{"opcode":"operator_join","next":null,"parent":"r","inputs":{"STRING1":[1,[10,"$"]],"STRING2":[3,[12,"tmp","*6drhXP:uEQ|CIv1S8w@"],[10,"banana"]]},"fields":{}},"a*":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"r","inputs":{"item":[3,[12,"tmp","*6drhXP:uEQ|CIv1S8w@"],[10,"box"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"`":{"opcode":"data_setvariableto","next":null,"parent":"b","inputs":{"VALUE":[3,"{",[10,"test:ing123"]]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"{":{"opcode":"strings_replace","next":null,"parent":"`","inputs":{"SUBSTRING":[1,[10,"~"]],"STRING":[3,"s",[10,"Hello world!"]],"REPLACE":[1,[10," "]]},"fields":{}},"s":{"opcode":"operator_join","next":null,"parent":"{","inputs":{"STRING1":[3,"a+",[10,"apple "]],"STRING2":[3,"t",[10,"banana"]]},"fields":{}},"a+":{"opcode":"strings_split","next":null,"parent":"s","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]],"SPLIT":[1,[10,":"]]},"fields":{}},"t":{"opcode":"strings_letters_of","next":null,"parent":"s","inputs":{"LETTER1":[3,"|",[4,"2"]],"LETTER2":[3,"a,",[4,"4"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"|":{"opcode":"operator_add","next":null,"parent":"t","inputs":{"NUM1":[3,"a-",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"a-":{"opcode":"strings_indexof","next":null,"parent":"|","inputs":{"SUBSTRING":[1,[10,":"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"a,":{"opcode":"operator_length","next":null,"parent":"t","inputs":{"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"a.":{"opcode":"procedures_return","next":null,"parent":"b","inputs":{"VALUE":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,""]]},"fields":{}},"a/":{"opcode":"event_whenbroadcastreceived","next":"}","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["runcode","A*g8r3Aywmm^tj~`of++"]},"topLevel":true},"}":{"opcode":"data_setvariableto","next":"~","parent":"a/","inputs":{"VALUE":[1,[10,"{}"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"~":{"opcode":"data_deletealloflist","next":"u","parent":"}","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"u":{"opcode":"control_for_each","next":null,"parent":"~","inputs":{"VALUE":[3,"a:",[6,"10"]],"SUBSTACK":[2,"aa"]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]}},"a:":{"opcode":"data_lengthoflist","next":null,"parent":"u","inputs":{},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"aa":{"opcode":"event_broadcastandwait","next":null,"parent":"u","inputs":{"BROADCAST_INPUT":[3,"ab",[11,"runcode","A*g8r3Aywmm^tj~`of++"]]},"fields":{}},"ab":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"aa","inputs":{"item":[1,[10,"cmd"]],"json":[3,"a;",[10,"{\"key\":\"value\"}"]]},"fields":{}},"a;":{"opcode":"data_itemoflist","next":null,"parent":"ab","inputs":{"INDEX":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[7,"1"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"a=":{"opcode":"event_whenbroadcastreceived","next":"ac","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["box","M4@~!}?lZ{|!Z.QpkZjH"]},"topLevel":true},"ac":{"opcode":"data_setvariableto","next":null,"parent":"a=","inputs":{"VALUE":[3,"v",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"v":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"ac","inputs":{"item":[3,"a?",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"a@",[10,"new value"]]},"fields":{}},"a?":{"opcode":"procedures_call","next":null,"parent":"v","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"a@":{"opcode":"procedures_call","next":null,"parent":"v","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"2"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"a[":{"opcode":"event_whenbroadcastreceived","next":"a]","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["b","Anm|pP*NqY=G[VcM!iDY"]},"topLevel":true},"a]":{"opcode":"event_broadcastandwait","next":null,"parent":"a[","inputs":{"BROADCAST_INPUT":[1,[11,"box","M4@~!}?lZ{|!Z.QpkZjH"]]},"fields":{}},"a^":{"opcode":"event_whenbroadcastreceived","next":"c","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["ask","D,pnk6;v8oJ~$@kx@/%]"]},"topLevel":true},"c":{"opcode":"control_if_else","next":null,"parent":"a^","inputs":{"CONDITION":[2,"a_"],"SUBSTACK":[2,"ad"],"SUBSTACK2":[2,"ae"]},"fields":{}},"a_":{"opcode":"operator_equals","next":null,"parent":"c","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"ad":{"opcode":"data_addtolist","next":"w","parent":"c","inputs":{"ITEM":[1,[10,"|"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"w":{"opcode":"mobilekeyboard0419_showKeyboardBlock","next":"d","parent":"ad","inputs":{"TYPE":[1,"a`"]},"fields":{}},"a`":{"opcode":"mobilekeyboard0419_menu_keyboardtypes","next":null,"parent":"w","inputs":{},"fields":{"keyboardtypes":["alphabetical",null]},"shadow":true},"d":{"opcode":"control_repeat_until","next":"e","parent":"w","inputs":{"CONDITION":[2,"af"],"SUBSTACK":[2,"x"]},"fields":{}},"af":{"opcode":"operator_not","next":null,"parent":"d","inputs":{"OPERAND":[2,"a{"]},"fields":{}},"a{":{"opcode":"mobilekeyboard0419_isKeyboardOpen","next":null,"parent":"af","inputs":{},"fields":{}},"x":{"opcode":"data_replaceitemoflist","next":null,"parent":"d","inputs":{"INDEX":[3,"a|",[7,"1"]],"ITEM":[3,"y",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"a|":{"opcode":"data_lengthoflist","next":null,"parent":"x","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"y":{"opcode":"operator_join","next":null,"parent":"x","inputs":{"STRING1":[3,"ag",[10,"apple "]],"STRING2":[3,"z",[10,"banana"]]},"fields":{}},"ag":{"opcode":"operator_join","next":null,"parent":"y","inputs":{"STRING1":[3,"a}",[10,"apple "]],"STRING2":[1,[10,"  : "]]},"fields":{}},"a}":{"opcode":"procedures_call","next":null,"parent":"ag","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"z":{"opcode":"operator_join","next":null,"parent":"y","inputs":{"STRING1":[3,"A",[10,"apple "]],"STRING2":[3,"B",[10,"banana"]]},"fields":{}},"A":{"opcode":"strings_letters_of","next":null,"parent":"z","inputs":{"LETTER1":[1,[4,"1"]],"LETTER2":[3,"a~",[4,"4"]],"STRING":[3,"ba",[10,"apple"]]},"fields":{}},"a~":{"opcode":"mobilekeyboard0419_getCursorPosition","next":null,"parent":"A","inputs":{},"fields":{}},"ba":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"A","inputs":{},"fields":{}},"B":{"opcode":"operator_join","next":null,"parent":"z","inputs":{"STRING1":[3,"ah",[10,"apple "]],"STRING2":[3,"f",[10,"banana"]]},"fields":{}},"ah":{"opcode":"utilities_ternaryOperator","next":null,"parent":"B","inputs":{"A":[2,"ai"],"B":[1,[10,"|"]],"C":[1,[10,""]]},"fields":{}},"ai":{"opcode":"operator_not","next":null,"parent":"ah","inputs":{"OPERAND":[2,"aj"]},"fields":{}},"aj":{"opcode":"operator_equals","next":null,"parent":"ai","inputs":{"OPERAND1":[3,"ak",[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"ak":{"opcode":"operator_mod","next":null,"parent":"aj","inputs":{"NUM1":[3,"al",[4,""]],"NUM2":[1,[4,"3"]]},"fields":{}},"al":{"opcode":"operator_round","next":null,"parent":"ak","inputs":{"NUM":[3,"am",[4,""]]},"fields":{}},"am":{"opcode":"operator_divide","next":null,"parent":"al","inputs":{"NUM1":[3,"bb",[4,"1000"]],"NUM2":[1,[4,"500"]]},"fields":{}},"bb":{"opcode":"utilities_currentMillisecond","next":null,"parent":"am","inputs":{},"fields":{}},"f":{"opcode":"strings_letters_of","next":null,"parent":"B","inputs":{"LETTER1":[3,"an",[4,"2"]],"LETTER2":[3,"ao",[4,"4"]],"STRING":[3,"bc",[10,"apple"]]},"fields":{}},"an":{"opcode":"operator_add","next":null,"parent":"f","inputs":{"NUM1":[3,"bd",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"bd":{"opcode":"mobilekeyboard0419_getCursorPosition","next":null,"parent":"an","inputs":{},"fields":{}},"ao":{"opcode":"operator_length","next":null,"parent":"f","inputs":{"STRING":[3,"be",[10,"apple"]]},"fields":{}},"be":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"ao","inputs":{},"fields":{}},"bc":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"f","inputs":{},"fields":{}},"e":{"opcode":"data_replaceitemoflist","next":"ap","parent":"d","inputs":{"INDEX":[3,"bf",[7,"1"]],"ITEM":[3,"C",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bf":{"opcode":"data_lengthoflist","next":null,"parent":"e","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"C":{"opcode":"operator_join","next":null,"parent":"e","inputs":{"STRING1":[3,"aq",[10,"apple "]],"STRING2":[3,"bg",[10,"banana"]]},"fields":{}},"aq":{"opcode":"operator_join","next":null,"parent":"C","inputs":{"STRING1":[3,"bh",[10,"apple "]],"STRING2":[1,[10,"  : "]]},"fields":{}},"bh":{"opcode":"procedures_call","next":null,"parent":"aq","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bg":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"C","inputs":{},"fields":{}},"ap":{"opcode":"data_setvariableto","next":null,"parent":"e","inputs":{"VALUE":[3,"D",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"D":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"ap","inputs":{"item":[3,"ar",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"bi",[10,"new value"]]},"fields":{}},"ar":{"opcode":"strings_reverse","next":null,"parent":"D","inputs":{"STRING":[3,"as",[10,"apple"]]},"fields":{}},"as":{"opcode":"strings_split","next":null,"parent":"ar","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"at",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"at":{"opcode":"strings_reverse","next":null,"parent":"as","inputs":{"STRING":[3,"bj",[10,"apple"]]},"fields":{}},"bj":{"opcode":"procedures_call","next":null,"parent":"at","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bi":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"D","inputs":{},"fields":{}},"E":{"opcode":"sensing_askandwait","next":"F","parent":"ae","inputs":{"QUESTION":[3,"bk",[10,"What's your name?"]]},"fields":{}},"bk":{"opcode":"procedures_call","next":null,"parent":"E","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"F":{"opcode":"data_setvariableto","next":"G","parent":"E","inputs":{"VALUE":[3,"H",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"H":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"F","inputs":{"item":[3,"au",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"bl",[10,"new value"]]},"fields":{}},"au":{"opcode":"strings_reverse","next":null,"parent":"H","inputs":{"STRING":[3,"av",[10,"apple"]]},"fields":{}},"av":{"opcode":"strings_split","next":null,"parent":"au","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"aw",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"aw":{"opcode":"strings_reverse","next":null,"parent":"av","inputs":{"STRING":[3,"bm",[10,"apple"]]},"fields":{}},"bm":{"opcode":"procedures_call","next":null,"parent":"aw","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bn":{"opcode":"sensing_answer","next":null,"parent":"I","inputs":{},"fields":{}},"bo":{"opcode":"event_whenbroadcastreceived","next":"bp","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["a","tM(*{49`]oVrP,C-q5.P"]},"topLevel":true},"bp":{"opcode":"event_broadcastandwait","next":null,"parent":"bo","inputs":{"BROADCAST_INPUT":[1,[11,"ask","D,pnk6;v8oJ~$@kx@/%]"]]},"fields":{}},"bq":{"opcode":"event_whenbroadcastreceived","next":"g","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["say","?Fw3/@M_kmLrs6yE[gjo"]},"topLevel":true},"g":{"opcode":"control_if_else","next":null,"parent":"bq","inputs":{"CONDITION":[2,"br"],"SUBSTACK":[2,"J"],"SUBSTACK2":[2,"K"]},"fields":{}},"br":{"opcode":"operator_equals","next":null,"parent":"g","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"J":{"opcode":"data_addtolist","next":"ax","parent":"g","inputs":{"ITEM":[3,"bs",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bs":{"opcode":"procedures_call","next":null,"parent":"J","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"ax":{"opcode":"control_wait","next":null,"parent":"J","inputs":{"DURATION":[3,"bt",[5,"1"]]},"fields":{}},"bt":{"opcode":"procedures_call","next":null,"parent":"ax","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"2"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"L":{"opcode":"looks_sayforsecs","next":null,"parent":"K","inputs":{"MESSAGE":[3,"bu",[10,"Hello!"]],"SECS":[3,"bv",[4,"2"]]},"fields":{}},"bu":{"opcode":"procedures_call","next":null,"parent":"L","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bv":{"opcode":"procedures_call","next":null,"parent":"L","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"2"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bw":{"opcode":"event_whenbroadcastreceived","next":"bx","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["s","i~n~KSpah*[cXWwg3{P4"]},"topLevel":true},"bx":{"opcode":"event_broadcastandwait","next":null,"parent":"bw","inputs":{"BROADCAST_INPUT":[1,[11,"say","?Fw3/@M_kmLrs6yE[gjo"]]},"fields":{}},"by":{"opcode":"event_whenthisspriteclicked","next":"bz","parent":null,"inputs":{},"fields":{},"topLevel":true},"bz":{"opcode":"event_broadcast","next":null,"parent":"by","inputs":{"BROADCAST_INPUT":[1,[11,"runcode","A*g8r3Aywmm^tj~`of++"]]},"fields":{}},"bA":{"opcode":"event_whenbroadcastreceived","next":"ay","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["del","_0OSAir{{kT=2!Wq%I5@"]},"topLevel":true},"ay":{"opcode":"data_setvariableto","next":null,"parent":"bA","inputs":{"VALUE":[3,"az",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"az":{"opcode":"skyhigh173JSON_json_delete","next":null,"parent":"ay","inputs":{"item":[3,"bB",[10,"key2"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{}},"bB":{"opcode":"procedures_call","next":null,"parent":"az","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bC":{"opcode":"event_whenbroadcastreceived","next":"bD","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["d","/SI2~M[:oM?LSV,Pzpo."]},"topLevel":true},"bD":{"opcode":"event_broadcastandwait","next":null,"parent":"bC","inputs":{"BROADCAST_INPUT":[1,[11,"d","/SI2~M[:oM?LSV,Pzpo."]]},"fields":{}},"bE":{"opcode":"lmsMoreEvents_everyDuration","next":"aA","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"aA":{"opcode":"procedures_call","next":"h","parent":"bE","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"make code","argumentids":"[]","warp":"true"}},"h":{"opcode":"skyhigh173JSON_json_vm_setlist","next":"i","parent":"aA","inputs":{"list":[1,"bF"],"json":[3,"bG",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"bF":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"h","inputs":{},"fields":{"get_list":["_Im,zJg}7i]sA]LkT)iJ",null]},"shadow":true},"bG":{"opcode":"skyhigh173JSON_json_get_all","next":null,"parent":"h","inputs":{"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{"Stype":["datas",null]}},"i":{"opcode":"control_if_else","next":null,"parent":"h","inputs":{"CONDITION":[2,"bH"],"SUBSTACK":[2,"bI"],"SUBSTACK2":[2,"bJ"]},"fields":{}},"bH":{"opcode":"operator_equals","next":null,"parent":"i","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"bI":{"opcode":"data_showlist","next":null,"parent":"i","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bJ":{"opcode":"data_hidelist","next":null,"parent":"i","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bK":{"opcode":"event_whenflagclicked","next":"M","parent":null,"inputs":{},"fields":{},"topLevel":true},"M":{"opcode":"shovelcss_changecss","next":"N","parent":"bK","inputs":{"COLORABLE":[1,"bL"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"bL":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"M","inputs":{},"fields":{"COLORABLE_MENU":["monitor text",null]},"shadow":true},"N":{"opcode":"shovelcss_changecss","next":"O","parent":"M","inputs":{"COLORABLE":[1,"bM"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"bM":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"N","inputs":{},"fields":{"COLORABLE_MENU":["list value text",null]},"shadow":true},"O":{"opcode":"shovelcss_changecss","next":"P","parent":"N","inputs":{"COLORABLE":[1,"bN"],"COLOR":[1,[9,"#1f1f1f"]]},"fields":{}},"bN":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"O","inputs":{},"fields":{"COLORABLE_MENU":["list header background",null]},"shadow":true},"P":{"opcode":"shovelcss_changecss","next":"Q","parent":"O","inputs":{"COLORABLE":[1,"bO"],"COLOR":[1,[9,"#1f1f1f"]]},"fields":{}},"bO":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"P","inputs":{},"fields":{"COLORABLE_MENU":["list footer background",null]},"shadow":true},"Q":{"opcode":"shovelcss_changecss","next":"aB","parent":"P","inputs":{"COLORABLE":[1,"bP"],"COLOR":[1,[9,"#353535"]]},"fields":{}},"bP":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"Q","inputs":{},"fields":{"COLORABLE_MENU":["monitor background",null]},"shadow":true},"aB":{"opcode":"shovelcss_changecss","next":null,"parent":"Q","inputs":{"COLORABLE":[1,"bQ"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"bQ":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"aB","inputs":{},"fields":{"COLORABLE_MENU":["list value background",null]},"shadow":true},"bR":{"opcode":"lmsMoreEvents_everyDuration","next":"bS","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"bS":{"opcode":"motion_gotoxy","next":null,"parent":"bR","inputs":{"X":[1,[4,"-230"]],"Y":[1,[4,"168"]]},"fields":{}},"b":{"opcode":"control_repeat","next":"a.","parent":"a","inputs":{"TIMES":[3,"bT",[6,"10"]],"SUBSTACK":[2,"`"]},"fields":{}},"bT":{"opcode":"strings_count","next":null,"parent":"b","inputs":{"SUBSTRING":[1,[10,":"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"a(":{"opcode":"control_wait","next":null,"parent":"q","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"[":{"opcode":"operator_add","next":null,"parent":"a","inputs":{"NUM1":[1,[4,"1"]],"NUM2":[3,"a#",[4,""]]},"fields":{}},"ae":{"opcode":"data_addtolist","next":"E","parent":"c","inputs":{"ITEM":[1,[10,"|"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"I":{"opcode":"operator_join","next":null,"parent":"G","inputs":{"STRING1":[3,"aC",[10,"apple "]],"STRING2":[3,"bn",[10,"banana"]]},"fields":{}},"aC":{"opcode":"operator_join","next":null,"parent":"I","inputs":{"STRING1":[3,"bU",[10,"apple "]],"STRING2":[1,[10,"  : "]]},"fields":{}},"bU":{"opcode":"procedures_call","next":null,"parent":"aC","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"G":{"opcode":"data_replaceitemoflist","next":null,"parent":"F","inputs":{"INDEX":[3,"bV",[7,"1"]],"ITEM":[3,"I",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bV":{"opcode":"data_lengthoflist","next":null,"parent":"G","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"K":{"opcode":"data_addtolist","next":"L","parent":"g","inputs":{"ITEM":[3,"bW",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bW":{"opcode":"procedures_call","next":null,"parent":"K","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,[10,"1"]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"bl":{"opcode":"sensing_answer","next":null,"parent":"H","inputs":{},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"boxey (art by my mom)","bitmapResolution":1,"dataFormat":"svg","assetId":"09ec1af4bd1ed4ecac58693f3e822076","md5ext":"09ec1af4bd1ed4ecac58693f3e822076.svg","rotationCenterX":20.086035866941188,"rotationCenterY":22.064059999999984},{"name":"boxedLANG icon (art by me)","bitmapResolution":1,"dataFormat":"svg","assetId":"8938855f0031f19169542518c93d2995","md5ext":"8938855f0031f19169542518c93d2995.svg","rotationCenterX":25.612855000000025,"rotationCenterY":25.612864849112782}],"sounds":[],"volume":100,"layerOrder":1,"visible":true,"x":-230,"y":168,"size":50,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"mode","variables":{},"lists":{},"broadcasts":{},"blocks":{"bX":{"opcode":"event_whenthisspriteclicked","next":"aD","parent":null,"inputs":{},"fields":{},"topLevel":true},"aD":{"opcode":"data_setvariableto","next":null,"parent":"bX","inputs":{"VALUE":[3,"aE",[10,"0"]]},"fields":{"VARIABLE":["mode","Njau~Rd+?m4v*qz$JPRw"]}},"aE":{"opcode":"utilities_ternaryOperator","next":null,"parent":"aD","inputs":{"A":[2,"bY"],"B":[1,[10,"0"]],"C":[1,[10,"1"]]},"fields":{}},"bY":{"opcode":"operator_equals","next":null,"parent":"aE","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"bZ":{"opcode":"lmsMoreEvents_whenValueChanged","next":"aF","parent":null,"inputs":{"INPUT":[2,[12,"mode","Njau~Rd+?m4v*qz$JPRw"]]},"fields":{},"topLevel":true},"aF":{"opcode":"looks_switchcostumeto","next":null,"parent":"bZ","inputs":{"COSTUME":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],"b!"]},"fields":{}},"b!":{"opcode":"looks_costume","next":null,"parent":"aF","inputs":{},"fields":{"COSTUME":["0",null]},"shadow":true},"b#":{"opcode":"lmsMoreEvents_everyDuration","next":"b%","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"b%":{"opcode":"motion_gotoxy","next":null,"parent":"b#","inputs":{"X":[1,[4,"70"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":1,"costumes":[{"name":"1","bitmapResolution":1,"dataFormat":"svg","assetId":"17ca2899092ae1237dca269e4210a20c","md5ext":"17ca2899092ae1237dca269e4210a20c.svg","rotationCenterX":15.95452499999999,"rotationCenterY":11.86361500000001},{"name":"0","bitmapResolution":1,"dataFormat":"svg","assetId":"7570e32bd2cfa2088172be7ee94e8778","md5ext":"7570e32bd2cfa2088172be7ee94e8778.svg","rotationCenterX":15.954545454545467,"rotationCenterY":11.863636363636402}],"sounds":[],"volume":100,"layerOrder":2,"visible":true,"x":70,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"export","variables":{},"lists":{},"broadcasts":{},"blocks":{"aG":{"opcode":"skyhigh173JSON_json_vm_getlist","next":null,"parent":"aH","inputs":{"list":[1,"b("]},"fields":{}},"b(":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"aG","inputs":{},"fields":{"get_list":["9O|/dr-6%0yRU!*jD@Cb",null]},"shadow":true},"aH":{"opcode":"filesExpanded_download","next":null,"parent":"b)","inputs":{"text":[3,"aG",[10,"Hello, world!"]],"file":[1,[10,"exported_code.bx"]]},"fields":{}},"b)":{"opcode":"event_whenthisspriteclicked","next":"aH","parent":null,"inputs":{},"fields":{},"topLevel":true},"b*":{"opcode":"lmsMoreEvents_everyDuration","next":"b+","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"b+":{"opcode":"motion_gotoxy","next":null,"parent":"b*","inputs":{"X":[1,[4,"-15"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"2f9e0e680f62a2cd9b5df9b1f089747d","md5ext":"2f9e0e680f62a2cd9b5df9b1f089747d.svg","rotationCenterX":21.166664999999995,"rotationCenterY":9.25}],"sounds":[],"volume":100,"layerOrder":3,"visible":true,"x":-15,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"import","variables":{},"lists":{},"broadcasts":{},"blocks":{"b,":{"opcode":"event_whenthisspriteclicked","next":"aI","parent":null,"inputs":{},"fields":{},"topLevel":true},"R":{"opcode":"skyhigh173JSON_json_vm_setlist","next":null,"parent":"S","inputs":{"list":[1,"b-"],"json":[3,"T",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"b-":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"R","inputs":{},"fields":{"get_list":["9O|/dr-6%0yRU!*jD@Cb"]},"shadow":true},"aJ":{"opcode":"filesExpanded_showPickerExtensionsAs","next":null,"parent":"S","inputs":{"extension":[1,[10,".bx"]],"as":[1,"b."]},"fields":{}},"b.":{"opcode":"filesExpanded_menu_encoding","next":null,"parent":"aJ","inputs":{},"fields":{"encoding":["text"]},"shadow":true},"U":{"opcode":"filesExpanded_setOpenMode","next":"S","parent":"aI","inputs":{"mode":[1,"b/"]},"fields":{}},"b/":{"opcode":"filesExpanded_menu_automaticallyOpen","next":null,"parent":"U","inputs":{},"fields":{"automaticallyOpen":["selector",null]},"shadow":true},"b:":{"opcode":"motion_gotoxy","next":null,"parent":"b;","inputs":{"X":[1,[4,"30"]],"Y":[1,[4,"170"]]},"fields":{}},"b;":{"opcode":"lmsMoreEvents_everyDuration","next":"b:","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"aK":{"opcode":"skyhigh173JSON_json_array_create","next":null,"parent":"T","inputs":{"text":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"a,b,c"]],"d":[3,"b=",[10,","]]},"fields":{}},"b=":{"opcode":"utilities_newline","next":null,"parent":"aK","inputs":{},"fields":{}},"T":{"opcode":"utilities_ternaryOperator","next":null,"parent":"R","inputs":{"B":[3,"aK",[10,"banana"]],"C":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"apple"]],"A":[2,"aL"]},"fields":{}},"b?":{"opcode":"utilities_newline","next":null,"parent":"aL","inputs":{},"fields":{}},"aL":{"opcode":"operator_contains","next":null,"parent":"T","inputs":{"STRING1":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"apple"]],"STRING2":[3,"b?",[10,"a"]]},"fields":{}},"aI":{"opcode":"data_deletealloflist","next":"U","parent":"b,","inputs":{},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"S":{"opcode":"data_setvariableto","next":"R","parent":"U","inputs":{"VALUE":[3,"aJ",[10,"0"]]},"fields":{"VARIABLE":["code.toimport","-[/s5Ci!Vm_AYWv8F$C^"]}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"e19499063d83836d502f17a5c5633a8e","md5ext":"e19499063d83836d502f17a5c5633a8e.svg","rotationCenterX":21.166666666666714,"rotationCenterY":9.25}],"sounds":[],"volume":100,"layerOrder":4,"visible":true,"x":30,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"}],"monitors":[{"id":"9O|/dr-6%0yRU!*jD@Cb","mode":"list","opcode":"data_listcontents","params":{"LIST":"code"},"spriteName":null,"value":[],"width":480,"height":180,"x":0,"y":179,"visible":true},{"id":";A!-EsNOQGwq7!9H*J8b","mode":"list","opcode":"data_listcontents","params":{"LIST":"code (run)"},"spriteName":null,"value":[],"width":243,"height":197,"x":235,"y":0,"visible":false},{"id":"kb!NJ48,X=3E+A}v$pMh","mode":"default","opcode":"data_variable","params":{"VARIABLE":"boxes"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"_Im,zJg}7i]sA]LkT)iJ","mode":"list","opcode":"data_listcontents","params":{"LIST":"[debug] boxes"},"spriteName":null,"value":[],"width":148,"height":200,"x":330,"y":0,"visible":true},{"id":"}dDt?K()T1V#X=R=X]hf","mode":"list","opcode":"data_listcontents","params":{"LIST":"console"},"spriteName":null,"value":[],"width":329,"height":160,"x":0,"y":22,"visible":false}],"extensions":["skyhigh173JSON","strings","mobilekeyboard0419","utilities","lmsMoreEvents","shovelcss","filesExpanded"],"extensionURLs":{"skyhigh173JSON":"https://extensions.turbowarp.org/Skyhigh173/json.js","strings":"https://extensions.turbowarp.org/text.js","mobilekeyboard0419":"https://extensions.turbowarp.org/veggiecan/mobilekeyboard.js","utilities":"https://extensions.turbowarp.org/utilities.js","lmsMoreEvents":"https://extensions.turbowarp.org/Lily/MoreEvents.js","shovelcss":"https://extensions.turbowarp.org/TheShovel/CustomStyles.js","filesExpanded":"data:text/javascript;base64,Ly8gTmFtZTogRmlsZXMgRXhwYW5kZWQKLy8gSUQ6IGZpbGVzRXhwYW5kZWQKLy8gRGVzY3JpcHRpb246IFJlYWQsIHVwbG9hZCwgYW5kIGRvd25sb2FkIGZpbGVzLgovLyBCeTogR2FyYm9NdWZmaW4KLy8gQnk6IFNoYXJrUG9vbAovLyBCeTogRHJhZ28gQ3V2ZW4gPGh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzL01BUlRJTkVMUExBWVovPgovLyBCeTogMHpuencgPGh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzLzB6bnp3Lz4KLy8gTGljZW5zZTogTUlUIEFORCBNUEwtMi4wCgovLyBWZXJzaW9uOiAxLjcuMTEKCihmdW5jdGlvbiAoU2NyYXRjaCkgewogICJ1c2Ugc3RyaWN0IjsKICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy51bnNhbmRib3hlZCkgdGhyb3cgbmV3IEVycm9yKCJGaWxlcyBFeHBhbmRlZCBleHRlbnNpb24gbXVzdCBiZSBydW4gdW5zYW5kYm94ZWQiKTsKCiAgY29uc3QgbWVudUljb25VUkkgPQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TXpNdU1UWTBJaUJvWldsbmFIUTlJakV6TXk0eE5qUWlJSFpwWlhkQ2IzZzlJakFnTUNBeE16TXVNVFkwSURFek15NHhOalFpUGp4bklITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0krUEhCaGRHZ2daRDBpVFRNZ05qWXVOVGd5UXpNZ016RXVORFkzSURNeExqUTJOeUF6SURZMkxqVTRNaUF6Y3pZekxqVTRNaUF5T0M0ME5qY2dOak11TlRneUlEWXpMalU0TWkweU9DNDBOamNnTmpNdU5UZ3lMVFl6TGpVNE1pQTJNeTQxT0RKVE15QXhNREV1TmprM0lETWdOall1TlRneWVpSWdabWxzYkQwaUkyWmpZakV3TXlJZ2MzUnliMnRsUFNJalltWTRZakV4SWlCemRISnZhMlV0ZDJsa2RHZzlJallpTHo0OGNHRjBhQ0JrUFNKTk9Ua3VPRGt5SURRNUxqa3lOM1kwT1M0NU5qUmpNQ0EwTGpVNExUTXVOelE0SURndU16STRMVGd1TXpJNElEZ3VNekk0U0RReExqVTFPR010TkM0MU9DQXdMVGd1TWpnMUxUTXVOelE0TFRndU1qZzFMVGd1TXpJNGJDNHdOREV0TmpZdU5qRTRZekF0TkM0MU9DQXpMamN3TmkwNExqTXlPQ0E0TGpJNE5pMDRMak15T0dnek15NHpNWG9pSUdacGJHdzlJbTV2Ym1VaUlITjBjbTlyWlMxdmNHRmphWFI1UFNJdU1UUTVJaUJ6ZEhKdmEyVTlJaU13TURBaUlITjBjbTlyWlMxM2FXUjBhRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5PVGt1T0RreUlEUTVMamt5TjNZME9TNDVOalJqTUNBMExqVTRMVE11TnpRNElEZ3VNekk0TFRndU16STRJRGd1TXpJNFNEUXhMalUxT0dNdE5DNDFPQ0F3TFRndU1qZzFMVE11TnpRNExUZ3VNamcxTFRndU16STRiQzR3TkRFdE5qWXVOakU0WXpBdE5DNDFPQ0F6TGpjd05pMDRMak15T0NBNExqSTROaTA0TGpNeU9HZ3pNeTR6TVhvaUlHWnBiR3c5SWlObVptWWlMejQ4Y0dGMGFDQmtQU0pOTnpBdU56SXlJRFUwTGpFeE5WWXpNUzR4Tmpkc01qSXVPVFEzSURJeUxqazBPSG9pSUdacGJHdzlJaU5tWTJJeE1ETWlMejQ4Y0dGMGFDQmtQU0pOT0RRdU5qWTRJRFk1TGpreE5HTXRMakF5TGpBNE9DMHVNRE0yTGpFM05TMHVNRFl5TGpJMk1pMHVNRGMzTGpNeU5DMHVNak0ySURFdU1Ea3RMak01TmlBeUxqVTROM0V1TURBeExqQXpPQzB1TURBMUxqQTJNV011T0RnZ015NDFNemd0TGpZd01pQTFMalk1TWkweExqVTROQ0EyTGpZM05HRXlJRElnTUNBd0lERXRMakl1TVRsakxTNDVOakl1T0RjMUxUSXVOalF6SURFdU9URTRMVFV1TVRVeUlERXVPVEU0WVRjdU5qVWdOeTQyTlNBd0lEQWdNUzB6TGpRek5TMHVOemcyWXk0d01qWWdNUzQwTURNdU1EUXhJRE11TXpNM0xqQTBNU0EyTGpBeVlUWXVPU0EyTGprZ01DQXdJREVnTWk0ME9UUWdNUzQxTXpnZ055NHhJRGN1TVNBd0lEQWdNU0F5TGpJeElEVXVNVFkzWXpBZ01pNDVNUzB4TGpZM05TQTFMalEwTFRRdU16YzFJRFl1TlRrM2NTMHVNVEF6TGpBME9DMHVNakExTGpBNE9HTXRMamt3TlM0ek5EUXRNUzQ1TWpNdU5URTBMVE11TVRFMkxqVXhOQzB1TkRNeUlEQXRMamc1TlMwdU1ESXRNUzR6T1RrdExqQTJOMkV4T0NBeE9DQXdJREFnTUMweExqSTVOUzR3TURWakxTNDVOekl1TVRBNExUSXVNelF1TWpFMkxUUXVNVGN1TXpFNUxTNHdNellnTUMwdU1EY3lMakF3TlMwdU1URTBMakF3TlhFdExqTTJMakF4TlMwdU5qazVMakF4TldNdE15NHlOelVnTUMwMUxqWTJOaTB4TGpBek9DMDNMakV4TFRNdU1EaHhMUzR3TkRZdExqQTJMUzR3T0RNdExqRXlNMk10TVM0ME55MHlMakU1TlMweExqVXhNaTAwTGprM01pMHVNVEV6TFRjdU1qUnhMakF4TnkwdU1ETTFMakEwTVMwdU1EY3hZeTQ0T1MweExqTTVPU0F5TGpFNUxUSXVNemsySURNdU9EYzNMVEl1T1RnekxqQXlMUzQ1T1RJdU1ERTFMVEl1TWpNMkxTNHdNVFl0TXk0M01USmhOeTQxSURjdU5TQXdJREFnTVMweUxqZzVMalUxTldNdE1pNDROak1nTUMwMUxqSXlPQzB4TGpjd01TMDJMakExTVMwMExqSTRPQzB1TVRjdExqVXlOQzB1TXpNdE1TNHlPUzB1TnkwekxqQXhPR0V5SURJZ01DQXdJREV0TGpBek5TMHVNVGcxYkMwdU56WXhMVFF1TWpVeVlUY2dOeUF3SURBZ01DMHVNVEF6TFM0ek1qUmpMUzR6T1RZdE1TNHhNall0TGpVNE1TMHlMakE0TXkwdU5UZ3hMVE11TURBNElEQXRNUzR4TkRjdU16TTBMVEl1T0RnZ01TNDVNVGd0TkM0Mk1EY3VOemszTFM0NE56UWdNaTR5TkRjdE1pNHdNRFVnTkM0MU9ERXRNaTR6TjNFdU5ETXpMUzR3TnpFdU9EYzBMUzR3TnpKb05TNDJPRGR4TGpFNU1pQXdJQzR6T0RVdU1ERTFZVGN5SURjeUlEQWdNQ0F3SURVdU56Z3RMakF3TlNBNE15QTRNeUF3SURBZ01DQTJMamt6TFM0MU9UWmpMakkxT0MwdU1EZ3pMalV6TmkwdU1UWTFMamd6TkMwdU1qTTNMakk0TXkwdU1EY3lMalUzTFM0eE1UZ3VPRFU0TFM0eE5TQXlMakU1TFM0eUlEUXVNak15TGpRek15QTFMamd5SURFdU56a2dNUzQ1TnlBeExqWTVNaUF5TGpnMElEUXVNalV5SURJdU16SWdOaTQ0TlRRaUlHWnBiR3c5SWlOaVpqaGlNVEVpTHo0OGNHRjBhQ0JrUFNKTk56a3VNVEl4SURZNExqZ3dObkV0TGpNeE5pQXhMakkyTmkwdU5UUXpJRE11TkRNM0xTNHdPU0F4TGpBNE5pNHdPU0F4TGpjMk5DNHpNVFlnTVM0eE16RXRMakEwTkNBeExqUTVNeTB1TkRrNUxqUTFNUzB4TGpNMU55NDBOVEl0TGprNU5pQXdMVEV1TXpFeUxTNDFPVEpCTkRFZ05ERWdNQ0F3SURFZ056WWdOekV1T1RRemNTNHdPUzB4TGprMkxqQTVMVEl1TURVdExqQTBOU0F3TFM0eE16VXRMakE1TWkwMExqSXdOeTR4T0RNdE55NDVNVFV1TlRRMUxTNHdPUzQwTlRNZ01DQXhMalExTGpFNElERXVOREEwTGpFNElERXVOak10TGpFNElERXVOREEyTFM0eE9DQTBMakUzTGpFNElERXVNVGM1TGpFNElERXdMakV3Tm5ZekxqTXdPWEV3SUM0M055NHlNalVnTVM0d09EZG9NaTQzTnpkeExqYzJNaTB1TURrZ01TNHlNekl1TXpZeUxqUTNMalExTXk0ME55QXhMakE0TlNBd0lDNDVPVFF0TGprMUlERXVOREF6TFM0MU9EZ3VNakkxTFRJdU1EZ3VNRGt0TGpjeU15MHVNRFExTFRJdU1USTJJREF0TVM0eU5qVXVNVFUzTFRRdU1EY3VNekUyTFRJdU5EUXpMakE1TFRJdU9UZzFMUzQyTnpndExqTTJNeTB1TlRReUlEQXRNUzR4TXk0Mk16SXRMams1TlNBekxqTXdNaTB1T1RrMUxqazBPQ0F3SURFdU1UYzFMUzR4TlRndU1qSTJMUzR4Tmk0eU1qWXRMall4VmpnNUxqQXpjUzR4TXpVdE1pNHpNRElnTUMwMkxqZzJNUzB1TVRndE5pNDFORFF1TVRneExURXhMalV3T1d3dExqRXpOeTB1TVRNMmNTMHhMall6Tnk0d09TMDFMakkzTlMwdU1Ea3RMalF4SURBdE1pNDNOelF1TVRneExqVTROeUEwTGpFeE55NDNNak1nTmk0eE9UWWdNQ0F1TWpjeUxTNHdPU0F4TGpJeU1TMHVNRFEyTGpZM09DMHhMakV6TVM0Mk56a3RMalU0T1NBd0xTNDJOemd0TGpRd05DMHVNRFEyTFM0d09TMHVOVFF6TFRJdU5ESXliQzB1TnpZNUxUUXVNekEyY1RBdExqRTNPUzB1TXpFMkxURXVNVEl4TFM0eU55MHVOelkwTFM0eU55MHhMakUyTmkwdU1EQXhMUzR6TVRVdU5ETXRMamM0TlM0ME15MHVORGN4SURFdU1qZzVMUzQyTURab05TNDJNRGh4TXk0Mk5qTXVNVE0xSURZdU5URXlJREJoT0RnZ09EZ2dNQ0F3SURBZ09DNHdOUzB1TnpJMGNTNHlOek10TGpFek5TNDRNVFF0TGpJM0xqazVOUzB1TURrZ01TNDJNamt1TkRVeUxqWXpNeTQxTkM0ME5USWdNUzQwTkRjaUlHWnBiR3c5SWlObVptWWlMejQ4TDJjK1BDOXpkbWMrIjsKCiAgY29uc3Qgdm0gPSBTY3JhdGNoLnZtOwogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOwogIGNvbnN0IGlzUE0gPSBTY3JhdGNoLmV4dGVuc2lvbnMuaXNQZW5ndWluTW9kOwoKICBjb25zdCBidWlsdEluRm9udHMgPSBbCiAgICAiU2FucyBTZXJpZiIsICJTZXJpZiIsICJIYW5kd3JpdGluZyIsICJNYXJrZXIiLAogICAgIkN1cmx5IiwgIlBpeGVsIiwgIlNjcmF0Y2giLCAiaW5oZXJpdCIKICBdOwogIGNvbnN0IE1PREVfTU9EQUwgPSAibW9kYWwiOwogIGNvbnN0IE1PREVfSU1NRURJQVRFTFlfU0hPV19TRUxFQ1RPUiA9ICJzZWxlY3RvciI7CiAgY29uc3QgTU9ERV9PTkxZX1NFTEVDVE9SID0gIm9ubHktc2VsZWN0b3IiOwogIGNvbnN0IEFMTF9NT0RFUyA9IFsKICAgIE1PREVfTU9EQUwsCiAgICBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1IsCiAgICBNT0RFX09OTFlfU0VMRUNUT1IsCiAgXTsKICBjb25zdCBBU19URVhUID0gInRleHQiLCBBU19EQVRBX1VSTCA9ICJ1cmwiLCBBU19IRVggPSAiaGV4IjsKICBjb25zdCBBU19CQVNFNjQgPSAiYmFzZTY0IiwgQVNfQlVGRkVSID0gImFycmF5QnVmZmVyIjsKCiAgbGV0IGVuYWJsZVZpcyA9IHRydWU7CiAgbGV0IG9wZW5GaWxlU2VsZWN0b3JNb2RlID0gTU9ERV9NT0RBTDsKICBsZXQgc3RvcmVkRmlsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogIGxldCBGaWxlTmFtZSA9ICIiLCBGaWxlU2l6ZSA9ICIwa2IiLCBSYXdGaWxlU2l6ZSA9ICIwIiwgZmlsZURhdGUgPSAiIiwgbGFzdERhdGEgPSAiIjsKICBsZXQgb3Blbk1vZGFscyA9IDA7CiAgbGV0IHNlbGVjdG9yT3B0aW9ucyA9IHsKICAgIGJvcmRlckNvbG9yOiAiIzg4OCIsIHRleHRDb2xvcjogIiMwMDAiLCBvdXRlcjogIiNmZmYiLAogICAgc2l6ZUZvbnQ6IDEuNSwgYm9yZGVyUmFkaXVzOiAxNiwgYm9yZGVyVHlwZTogImRhc2hlZCIsCiAgICBmb250OiAiaW5oZXJpdCIsIHNoYWRvdzogMC41LCBpbWFnZTogIiIsIHRleHRWOiAiIiwKICAgIGZvbnRXZWlnaHQ6IDQwLCBsZXR0ZXJTcGFjaW5nOiAibm9ybWFsIiwKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0CiAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICovCiAgY29uc3QgaXNDYW5jZWxFdmVudFN1cHBvcnRlZCA9IChpbnB1dCkgPT4gewogICAgaWYgKCJvbmNhbmNlbCIgaW4gaW5wdXQpIHsKICAgICAgLy8gQ2hyb21lIDExMyssIFNhZmFyaSAxNi40KwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8vIEZpcmVmb3ggaXMgd2VpcmQuIGNhbmNlbCBpcyBzdXBwb3J0ZWQgc2luY2UgRmlyZWZveCA5MSwgYnV0IG9uY2FuY2VsIGRvZXNuJ3QgZXhpc3QuCiAgICAvLyBGaXJlZm94IDkxIGlzIGZyb20gQXVndXN0IDIwMjEuIFRoYXQncyBvbGQgZW5vdWdoIHRvIG5vdCBjYXJlIGFib3V0IHByZXZpb3VzIHZlcnNpb25zLgogICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIkZpcmVmb3giKTsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXB0IFNlZSBNT0RFXyBjb25zdGFudHMgYWJvdmUKICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgU2VlIEFTXyBjb25zdGFudHMgYWJvdmUKICAgKiBAcGFyYW0ge29iamVjdH0gb3ZlcnJpZGUgbWFrZXMgbW9kYWwgdXNlIHRoZSBGaWxlIEFQSSBpZiBleGlzdHMKICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBmb3JtYXQgZ2l2ZW4gYnkgYXMgcGFyYW1ldGVyCiAgICovCiAgY29uc3Qgc2hvd0ZpbGVQcm9tcHQgPSAoYWNjZXB0LCBhcywgb3ZlcnJpZGUpID0+CiAgICBuZXcgUHJvbWlzZSgoX3Jlc29sdmUpID0+IHsKICAgICAgLy8gV2UgY2FuJ3QgcmVsaWFibHkgc2hvdyBhbiA8aW5wdXQ+IHBpY2tlciB3aXRob3V0ICJ1c2VyIGludGVyYWN0aW9uIiBpbiBhbGwgZW52aXJvbm1lbnRzLAogICAgICAvLyBzbyB3ZSBoYXZlIHRvIHNob3cgb3VyIG93biBVSSBhbnl3YXlzLiBXZSBtYXkgYXMgd2VsbCB1c2UgdGhpcyB0byBpbXBsZW1lbnQgc29tZSBuaWNlIGZlYXR1cmVzCiAgICAgIC8vIHRoYXQgbmF0aXZlIGZpbGUgcGlja2VycyBkb24ndCBoYXZlOgogICAgICAvLyAgLSBFYXN5IGRyYWcrZHJvcAogICAgICAvLyAgLSBSZWxpYWJsZSBjYW5jZWwgYnV0dG9uIChpbnB1dCBjYW5jZWwgZXZlbnQgaXMgc3RpbGwgbm90IHBlcmZlY3QpCiAgICAgIC8vICAgIFRoaXMgaXMgaW1wb3J0YW50IHNvIHdlIGNhbiBtYWtlIHRoaXMganVzdCBhIHJlcG9ydGVyIGluc3RlYWQgb2YgYSBjb21tYW5kK2hhdCBibG9jay4KICAgICAgLy8gICAgV2l0aG91dCBhbiBpbnRlcmZhY2UsIHRoZSBzY3JpcHQgd291bGQgYmUgc3RhbGxlZCBpZiB0aGUgcHJvbXB0IHdhcyBjYW5jZWxsZWQuCgogICAgICAvKiogQHBhcmFtIHtzdHJpbmd9IHRleHQgKi8KICAgICAgY29uc3QgY2FsbGJhY2sgPSAodGV4dCkgPT4gewogICAgICAgIGxldCBjbGVhbnNlZFR4dCA9IHRleHQ7CiAgICAgICAgaWYgKG92ZXJyaWRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChbQVNfSEVYLCBBU19CQVNFNjRdLmluY2x1ZGVzKGFzKSkgewogICAgICAgICAgICBsZXQgdXJpID0gY2xlYW5zZWRUeHQuc3BsaXQoIiwiKTsKICAgICAgICAgICAgY2xlYW5zZWRUeHQgPSB1cmkuc3BsaWNlKDEsIHVyaS5sZW5ndGgpLmpvaW4oIiwiKTsKICAgICAgICAgICAgaWYgKGFzID09PSBBU19IRVgpIGNsZWFuc2VkVHh0ID0gYmFzZTY0VG9IZXgoY2xlYW5zZWRUeHQsICIgIik7CiAgICAgICAgICB9CiAgICAgICAgICBsYXN0RGF0YSA9IGNsZWFuc2VkVHh0OwogICAgICAgIH0KICAgICAgICBvcGVuTW9kYWxzLS07CiAgICAgICAgX3Jlc29sdmUoY2xlYW5zZWRUeHQpOwogICAgICAgIHZtLnJlbmRlcmVyLnJlbW92ZU92ZXJsYXkob3V0ZXIpOwogICAgICAgIHJ1bnRpbWUub2ZmKCJQUk9KRUNUX1NUT1BfQUxMIiwgaGFuZGxlUHJvamVjdFN0b3BwZWQpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUtleURvd24sIHsKICAgICAgICAgIGNhcHR1cmU6IHRydWUsCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBvcGVuTW9kYWxzKys7CiAgICAgIGxldCBpc1JlYWRpbmdGaWxlID0gZmFsc2U7CgogICAgICAvKiogQHBhcmFtIHtGaWxlfSBmaWxlICovCiAgICAgIGNvbnN0IHJlYWRGaWxlID0gKGZpbGUpID0+IHsKICAgICAgICBpZiAoaXNSZWFkaW5nRmlsZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpc1JlYWRpbmdGaWxlID0gdHJ1ZTsKCiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgICAgRmlsZU5hbWUgPSBmaWxlLm5hbWU7CiAgICAgICAgICBGaWxlU2l6ZSA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSk7CiAgICAgICAgICBSYXdGaWxlU2l6ZSA9IGZpbGUuc2l6ZTsKICAgICAgICAgIGNvbnN0IHJhd0RhdGUgPSBuZXcgRGF0ZShmaWxlLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICBmaWxlRGF0ZSA9IHJhd0RhdGUudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgIGNhbGxiYWNrKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocmVhZGVyLnJlc3VsdCkpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVhZCBmaWxlIGFzIHRleHQiLCByZWFkZXIuZXJyb3IpOwogICAgICAgICAgY2FsbGJhY2soIiIpOwogICAgICAgIH07CiAgICAgICAgaWYgKG92ZXJyaWRlICE9PSB1bmRlZmluZWQpIGNhbGxiYWNrKGZpbGUpOwogICAgICAgIGVsc2UgaWYgKGFzID09PSBBU19URVhUKSByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgICBlbHNlIGlmIChhcyA9PT0gQVNfQlVGRkVSKSByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgICAgICAgZWxzZSByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgfTsKCiAgICAgIC8qKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgKi8KICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7CiAgICAgICAgaWYgKGUua2V5ID09PSAiRXNjYXBlIikgewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUtleURvd24sIHsKICAgICAgICBjYXB0dXJlOiB0cnVlLAogICAgICB9KTsKCiAgICAgIGNvbnN0IGhhbmRsZVByb2plY3RTdG9wcGVkID0gKCkgPT4gewogICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgfTsKICAgICAgcnVudGltZS5vbigiUFJPSkVDVF9TVE9QX0FMTCIsIGhhbmRsZVByb2plY3RTdG9wcGVkKTsKCiAgICAgIGNvbnN0IGhhbmRsZU92ZXJyaWRlID0gYXN5bmMgKCkgPT4gewogICAgICAgIGxldCBmaWxlSW5mbzsKICAgICAgICBpZiAob3ZlcnJpZGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gZXhlY3V0ZSBub3JtYWwgYmVoYXZpb3VyCiAgICAgICAgICBpbnB1dC5jbGljaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAob3ZlcnJpZGUudHlwZSA9PT0gImZvbGRlciIpIHsKICAgICAgICAgICAgICBmaWxlSW5mbyA9IGF3YWl0IHdpbmRvdy5zaG93RGlyZWN0b3J5UGlja2VyKHsKICAgICAgICAgICAgICAgIG11bHRpcGxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGVzOiBbeyBhY2NlcHQ6IHsgIiovKiI6IFtdIH0gfV0sCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmlsZUluZm8gPSBhd2FpdCB3aW5kb3cuc2hvd09wZW5GaWxlUGlja2VyKHsKICAgICAgICAgICAgICAgIG11bHRpcGxlOiBvdmVycmlkZS5hbGxvd011bHRpLAogICAgICAgICAgICAgICAgdHlwZXM6IFt7IGFjY2VwdDogeyAiKi8qIjogYWNjZXB0IH0gfV0sCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FsbGJhY2soZmlsZUluZm8pOwogICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBjb25zdCBJTklUSUFMX0JPUkRFUl9DT0xPUiA9IHNlbGVjdG9yT3B0aW9ucy5ib3JkZXJDb2xvcjsKICAgICAgY29uc3QgRFJPUFBJTkdfQk9SREVSX0NPTE9SID0gIiMwM2E5ZmMiOwoKICAgICAgY29uc3Qgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb3V0ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJhdXRvIjsKICAgICAgb3V0ZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIG91dGVyLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgb3V0ZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgb3V0ZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICBvdXRlci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwogICAgICBvdXRlci5zdHlsZS5jb2xvclNjaGVtZSA9ICJsaWdodCI7CiAgICAgIGlmIChvdmVycmlkZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gdGhlIEZpbGUgQVBJIGNhbnQgZXhhY3RseSBzdXBwb3J0IGRyYWdnaW5nIGZpbGVzCiAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ292ZXIiLCAoZSkgPT4gewogICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKCJGaWxlcyIpKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICJjb3B5IjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBEUk9QUElOR19CT1JERVJfQ09MT1I7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIiwgKCkgPT4gewogICAgICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBJTklUSUFMX0JPUkRFUl9DT0xPUjsKICAgICAgICB9KTsKICAgICAgICBvdXRlci5hZGRFdmVudExpc3RlbmVyKCJkcm9wIiwgKGUpID0+IHsKICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1swXTsKICAgICAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgcmVhZEZpbGUoZmlsZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewogICAgICAgIGlmIChlLnRhcmdldCA9PT0gb3V0ZXIpIHsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgbW9kYWwuaWQgPSAidHctZmlsZXMtbW9kYWwiOwogICAgICBtb2RhbC5zdHlsZS5ib3hTaGFkb3cgPSAiMCAwIDEwcHggLTVweCBjdXJyZW50Q29sb3IiOwogICAgICBtb2RhbC5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICAgIG1vZGFsLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgbW9kYWwuc3R5bGUucGFkZGluZyA9ICIxNnB4IjsKICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyID0gYDhweCBkYXNoZWQgJHtJTklUSUFMX0JPUkRFUl9DT0xPUn1gOwogICAgICBtb2RhbC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICAgIG1vZGFsLnN0eWxlLnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jICgpID0+IHsKICAgICAgICAvLyB3aWxsIGV4ZWN1dGUgImlucHV0LmNsaWNrKCkiIGlmIG92ZXJyaWRlIGlzICJ1bmRlZmluZWQiCiAgICAgICAgYXdhaXQgaGFuZGxlT3ZlcnJpZGUoKTsKICAgICAgfSk7CiAgICAgIG1vZGFsLmZvY3VzKCk7CiAgICAgIG91dGVyLmFwcGVuZENoaWxkKG1vZGFsKTsKCiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaW5wdXQudHlwZSA9ICJmaWxlIjsKICAgICAgaW5wdXQuYWNjZXB0ID0gYWNjZXB0OwogICAgICBpZiAob3ZlcnJpZGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKSA9PiB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICBpZiAoZmlsZSkgewogICAgICAgICAgICByZWFkRmlsZShmaWxlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGl0bGUudGV4dENvbnRlbnQgPQogICAgICAgIG92ZXJyaWRlID09PSB1bmRlZmluZWQKICAgICAgICAgID8gU2NyYXRjaC50cmFuc2xhdGUoIlNlbGVjdCBvciBkcm9wIGZpbGUiKQogICAgICAgICAgOiBTY3JhdGNoLnRyYW5zbGF0ZSgiU2VsZWN0IGZpbGUiKTsKICAgICAgdGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gIjhweCI7CiAgICAgIG1vZGFsLmFwcGVuZENoaWxkKHRpdGxlKTsKCiAgICAgIGNvbnN0IHN1YnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGNvbnN0IGZvcm1hdHRlZEFjY2VwdCA9IGFjY2VwdCB8fCBTY3JhdGNoLnRyYW5zbGF0ZSgiYW55Iik7CiAgICAgIHN1YnRpdGxlLnRleHRDb250ZW50ID0gU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgewogICAgICAgICAgZGVmYXVsdDogIkFjY2VwdGVkIGZvcm1hdHM6IHtmb3JtYXRzfSIsCiAgICAgICAgICBkZXNjcmlwdGlvbjogIltmb3JtYXRzXSBpcyByZXBsYWNlZCB3aXRoIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmlsZSB0eXBlcyBlZzogLnR4dCwgLm1wMywgLnBuZyBvciB0aGUgd29yZCBhbnkiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZm9ybWF0czogZm9ybWF0dGVkQWNjZXB0LAogICAgICAgIH0KICAgICAgKTsKICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQoc3VidGl0bGUpOwoKICAgICAgLy8gVG8gYXZvaWQgdGhlIHNjcmlwdCBnZXR0aW5nIHN0YWxsZWQgZm9yZXZlciwgaWYgY2FuY2VsIGlzbid0IHN1cHBvcnRlZCwgd2UnbGwganVzdCBmb3JjaWJseQogICAgICAvLyBzaG93IG91ciBtb2RhbC4KICAgICAgaWYgKAogICAgICAgIG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IgJiYKICAgICAgICAhaXNDYW5jZWxFdmVudFN1cHBvcnRlZChpbnB1dCkKICAgICAgKSB7CiAgICAgICAgb3BlbkZpbGVTZWxlY3Rvck1vZGUgPSBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1I7CiAgICAgIH0KCiAgICAgIGlmIChvcGVuRmlsZVNlbGVjdG9yTW9kZSAhPT0gTU9ERV9PTkxZX1NFTEVDVE9SKSB7CiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHZtLnJlbmRlcmVyLmFkZE92ZXJsYXkob3V0ZXIsICJzY2FsZSIpOwogICAgICAgIG92ZXJsYXkuY29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICIxMDAiOwogICAgICB9CgogICAgICBpZiAoCiAgICAgICAgb3BlbkZpbGVTZWxlY3Rvck1vZGUgPT09IE1PREVfSU1NRURJQVRFTFlfU0hPV19TRUxFQ1RPUiB8fAogICAgICAgIG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IKICAgICAgKSB7CiAgICAgICAgLy8gd2lsbCBydW4gImlucHV0LmNsaWNrKCkiIGlmIG92ZXJyaWRlIGlzICJ1bmRlZmluZWQiCiAgICAgICAgaGFuZGxlT3ZlcnJpZGUoKTsKICAgICAgfQoKICAgICAgaWYgKG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IpIHsKICAgICAgICAvLyBOb3RlIHRoYXQgYnJvd3NlciBzdXBwb3J0IGZvciBjYW5jZWwgaXMgY3VycmVudGx5IHF1aXRlIGJhZAogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNhbmNlbCIsICgpID0+IHsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdXBkYXRlTW9kYWxWaXN1YWxzKCk7CiAgICB9KTsKCiAgY29uc3QgdXBkYXRlTW9kYWxWaXN1YWxzID0gKCkgPT4gewogICAgY29uc3QgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgYnV0dG9uW2lkPSJ0dy1maWxlcy1tb2RhbCJdYCk7CiAgICBhbGxNb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHsKICAgICAgbW9kYWwucGFyZW50Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYmEoMCwgMCwgMCwgJHtzZWxlY3Rvck9wdGlvbnMuc2hhZG93fSlgOwogICAgICBtb2RhbC5wYXJlbnROb2RlLnN0eWxlLmNvbG9yID0gc2VsZWN0b3JPcHRpb25zLnRleHRDb2xvcjsKCiAgICAgIG1vZGFsLnN0eWxlLmZvbnQgPSBzZWxlY3Rvck9wdGlvbnMuZm9udDsKICAgICAgbW9kYWwuc3R5bGUuZm9udEZhbWlseSA9IHNlbGVjdG9yT3B0aW9ucy5mb250OwogICAgICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gc2VsZWN0b3JPcHRpb25zLmltYWdlCiAgICAgICAgPyBzZWxlY3Rvck9wdGlvbnMuaW1hZ2UKICAgICAgICA6IHNlbGVjdG9yT3B0aW9ucy5vdXRlcjsKICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gYCR7c2VsZWN0b3JPcHRpb25zLmJvcmRlclJhZGl1c31weGA7CiAgICAgIG1vZGFsLnN0eWxlLmJvcmRlclN0eWxlID0gc2VsZWN0b3JPcHRpb25zLmJvcmRlclR5cGU7CiAgICAgIG1vZGFsLnN0eWxlLmJvcmRlckNvbG9yID0gc2VsZWN0b3JPcHRpb25zLmJvcmRlckNvbG9yOwoKICAgICAgY29uc3QgdGl0bGUgPSBtb2RhbC5jaGlsZHJlblswXTsKICAgICAgaWYgKHNlbGVjdG9yT3B0aW9ucy50ZXh0VikgdGl0bGUudGV4dENvbnRlbnQgPSBzZWxlY3Rvck9wdGlvbnMudGV4dFY7CiAgICAgIHRpdGxlLnN0eWxlLmNvbG9yID0gc2VsZWN0b3JPcHRpb25zLnRleHRDb2xvcjsKICAgICAgdGl0bGUuc3R5bGUuZm9udFNpemUgPSBgJHtzZWxlY3Rvck9wdGlvbnMuc2l6ZUZvbnR9ZW1gOwogICAgICB0aXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gc2VsZWN0b3JPcHRpb25zLmZvbnRXZWlnaHQgKiA5OwogICAgICB0aXRsZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gYCR7c2VsZWN0b3JPcHRpb25zLmxldHRlclNwYWNpbmd9cHhgOwoKICAgICAgY29uc3Qgc3VidGl0bGUgPSBtb2RhbC5jaGlsZHJlblsxXTsKICAgICAgc3VidGl0bGUuc3R5bGUuY29sb3IgPSBzZWxlY3Rvck9wdGlvbnMudGV4dENvbG9yOwogICAgICBzdWJ0aXRsZS5zdHlsZS5mb250U2l6ZSA9IGAke3NlbGVjdG9yT3B0aW9ucy5zaXplRm9udCAtIDAuNX1lbWA7CiAgICAgIHN1YnRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSBzZWxlY3Rvck9wdGlvbnMuZm9udFdlaWdodCAqIDk7CiAgICAgIHN1YnRpdGxlLnN0eWxlLmxldHRlclNwYWNpbmcgPSBgJHtzZWxlY3Rvck9wdGlvbnMubGV0dGVyU3BhY2luZ31weGA7CiAgICB9KTsKICB9OwoKICAvLyBiYWNrdXAgZG93bmxvYWQgc3lzdGVtIChQZW5ndWlubW9kIGRvZXMgbm90IGhhdmUgU2NyYXRjaC5kb3dubG9hZCkKICBjb25zdCBkb3dubG9hZEJhY2t1cFVSTCA9ICh1cmwsIGZpbGUpID0+IHsKICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICBsaW5rLmRvd25sb2FkID0gZmlsZTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICBsaW5rLmNsaWNrKCk7CiAgICBsaW5rLnJlbW92ZSgpOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7QmxvYn0gYmxvYiBEYXRhIHRvIGRvd25sb2FkCiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUgTmFtZSBvZiB0aGUgZmlsZQogICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAqLwogIGNvbnN0IGRvd25sb2FkQmxvYiA9IGFzeW5jIChibG9iLCBmaWxlKSA9PiB7CiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgdHJ5IHsKICAgICAgaWYgKGlzUE0pIHsKICAgICAgICBkb3dubG9hZEJhY2t1cFVSTCh1cmwsIGZpbGUpOwogICAgICAgIChyZXF1ZXN0SWRsZUNhbGxiYWNrID8/IHNldFRpbWVvdXQpKCgpID0+IFVSTC5yZXZva2VPYmplY3RVUkwodXJsKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgYXdhaXQgU2NyYXRjaC5kb3dubG9hZCh1cmwsIGZpbGUpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgfQogICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwKICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgKi8KICBjb25zdCBpc0RhdGFVUkwgPSAodXJsKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCBwYXJzZWQgPSBuZXcgVVJMKHVybCk7CiAgICAgIHJldHVybiBwYXJzZWQucHJvdG9jb2wgPT09ICJkYXRhOiI7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsCiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUKICAgKi8KICBjb25zdCBkb3dubG9hZFVudHJ1c3RlZFVSTCA9IGFzeW5jICh1cmwsIGZpbGUpID0+IHsKICAgIGlmIChpc0RhdGFVUkwodXJsKSkgewogICAgICBpZiAoaXNQTSkgewogICAgICAgIGRvd25sb2FkQmFja3VwVVJMKHVybCwgZmlsZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRPRE86IFNjcmF0Y2guZmV0Y2gncyBiZXR0ZXIgaGFuZGxpbmcgb2YgZGF0YTogbWVhbnMgdGhpcyBpcyBwcm9iYWJseSBub3QgbmVlZGVkIGFueW1vcmUKICAgICAgICAvLyBhbmQgaXQgdGhlIGJsb2I6IHByb2JhYmx5IHdvcmtzIGJldHRlciB3aXRoIGJpZyBmaWxlcwogICAgICAgIHJldHVybiBTY3JhdGNoLmRvd25sb2FkKHVybCwgZmlsZSk7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCByZXMgPSBhd2FpdCBTY3JhdGNoLmZldGNoKHVybCk7CiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTsKICAgIGF3YWl0IGRvd25sb2FkQmxvYihibG9iLCBmaWxlKTsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZQogICAqIEByZXR1cm5zIHtzdHJpbmd9IGZvcm1hdHRlZCBieXRlIHNpemUKICAgKi8KICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7CiAgICBjb25zdCB1bml0cyA9IFsiQiIsICJLQiIsICJNQiIsICJHQiIsICJUQiJdOwogICAgbGV0IGkgPSAwOwogICAgd2hpbGUgKHNpemUgPj0gMTAyNCAmJiBpIDwgdW5pdHMubGVuZ3RoIC0gMSkgewogICAgICBzaXplIC89IDEwMjQ7CiAgICAgIGkrKzsKICAgIH0KICAgIHJldHVybiBgJHtzaXplLnRvRml4ZWQoMil9ICR7dW5pdHNbaV19YDsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyCiAgICogQHBhcmFtIHtzdHJpbmd9IGRlbGltCiAgICogQHJldHVybnMge3N0cmluZ30gaGV4IHNwbGl0IGJ5IGRlbGltaXRlcgogICAqLwogIGZ1bmN0aW9uIGJhc2U2NFRvSGV4KHN0ciwgZGVsaW0pIHsKICAgIGNvbnN0IHJhdyA9IGF0b2Ioc3RyKTsKICAgIGxldCByZXN1bHQgPSAiIjsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGhleCA9IHJhdy5jaGFyQ29kZUF0KGkpLnRvU3RyaW5nKDE2KTsKICAgICAgcmVzdWx0ICs9IGRlbGltLnRvU3RyaW5nKCkgKyAoaGV4Lmxlbmd0aCA9PT0gMiA/IGhleCA6ICIwIiArIGhleCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlcgogICAqIEByZXR1cm5zIHtzdHJpbmd9IGJhc2U2NAogICAqLwogIGZ1bmN0aW9uIGJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikgewogICAgdmFyIGJpbmFyeSA9ICIiOwogICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICAgIHZhciBsZW4gPSBieXRlcy5ieXRlTGVuZ3RoOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7CiAgICB9CiAgICByZXR1cm4gYnRvYShiaW5hcnkpOwogIH0KCiAgY2xhc3MgZmlsZXNFeHBhbmRlZCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5fc2hvd1Vuc2FmZU9wdGlvbnMgPSBmYWxzZTsKICAgIH0KICAgIGdldEluZm8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6ICJmaWxlc0V4cGFuZGVkIiwKICAgICAgICBuYW1lOiBTY3JhdGNoLnRyYW5zbGF0ZSgiRmlsZXMgRXhwYW5kZWQiKSwKICAgICAgICBtZW51SWNvblVSSSwKICAgICAgICBjb2xvcjE6ICIjZmNiMTAzIiwKICAgICAgICBjb2xvcjI6ICIjZGI5YTM3IiwKICAgICAgICBjb2xvcjM6ICIjZGI4OTM3IiwKICAgICAgICBibG9ja3M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlVwbG9hZGluZyIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvcGVuIGEgZmlsZSIpLAogICAgICAgICAgICBkaXNhYmxlTW9uaXRvcjogdHJ1ZSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlckV4dGVuc2lvbnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3BlbiBhIFtleHRlbnNpb25dIGZpbGUiKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBleHRlbnNpb246IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogIi50eHQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzaG93UGlja2VyQXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3BlbiBhIGZpbGUgYXMgW2FzXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBhczogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlckV4dGVuc2lvbnNBcyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvcGVuIGEgW2V4dGVuc2lvbl0gZmlsZSBhcyBbYXNdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIGV4dGVuc2lvbjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiLnR4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhczogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIkRvd25sb2FkaW5nIiksCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkb3dubG9hZCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRvd25sb2FkIFt0ZXh0XSBhcyBbZmlsZV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgiSGVsbG8sIHdvcmxkISIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZmlsZTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgic2F2ZS50eHQiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZG93bmxvYWRVUkwiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkb3dubG9hZCBVUkwgW3VybF0gYXMgW2ZpbGVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIHVybDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiZGF0YTp0ZXh0L3BsYWluO2Jhc2U2NCxTR1ZzYkc4c0lIZHZjbXhrSVE9PSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBmaWxlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJzYXZlLnR4dCIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiRXh0cmEiKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldE9wZW5Nb2RlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IG9wZW4gZmlsZSBzZWxlY3RvciBtb2RlIHRvIFttb2RlXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBtb2RlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IE1PREVfTU9EQUwsCiAgICAgICAgICAgICAgICBtZW51OiAiYXV0b21hdGljYWxseU9wZW4iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJmaWxlSW5mbyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJsYXN0IG9wZW5lZCBmaWxlIFtGT1JNQVRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPUk1BVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkZJTEVfSU5GTyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibW9kYWxPcGVuIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaXMgbW9kYWwgb3Blbj8iKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZpbmRGaWxlU2l6ZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJbVFlQRV0gZmlsZSBzaXplIG9mIFtGSUxFXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAiRklMRV9TSVpFUyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBGSUxFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJIZWxsbywgd29ybGQhIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJTdG9yZWQgRmlsZXMiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImNoZWNrRmlsZUFQSSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIGZpbGUgd3JpdGluZyBzdXBwb3J0ZWQ/IiksCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhbGxTdG9yZWQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYWxsIHN0b3JlZCBmaWxlcyIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0U3RvcmVkRmlsZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgIm9wZW4gW01VTFRJXSBbRklMRV0gZmlsZShzKSBhbmQgc3RvcmUgYXMgW1RZUEVdIG5hbWVkIFtOQU1FXSIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTVVMVEk6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJtdWx0aU1vZGUiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibXktZmlsZS0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBGSUxFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICIudHh0IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIFRZUEU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJlbmNvZGluZyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN0b3JlZEZvbGRlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgIm9wZW4gZm9sZGVyIGFuZCBzdG9yZSBmaWxlcyBhcyBbVFlQRV0gd2l0aCBuYW1lIFtOQU1FXSIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE5BTUU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15LWZvbGRlci0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImRlbGV0ZVN0b3JlZEZpbGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgZmlsZSBbTkFNRV0gZnJvbSBbT1BUSU9OXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJteS1maWxlLTEiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE9QVElPTjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkRFTEVUSU9OIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVGaWxlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid3JpdGUgW1RYVF0gdG8gc3RvcmVkIGZpbGUgW05BTUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRYVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibmV3IGNvbnRlbnQiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE5BTUU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15LWZpbGUtMSIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVGaWxlVVJMIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid3JpdGUgVVJMIFtVUkxdIHRvIHN0b3JlZCBmaWxlIFtOQU1FXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBVUkw6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogImRhdGE6dGV4dC9wbGFpbjtiYXNlNjQsU0dWc2JHOHNJSGR2Y214a0lRPT0iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibXktZmlsZS0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN0b3JlZEluZm8iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiW0ZPUk1BVF0gaW4gc3RvcmVkIGZpbGUgW05BTUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPUk1BVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkZJTEVfSU5GTyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJteS1maWxlLTEiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJtb3ZlU3RvcmFnZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm1pZ3JhdGUgZmlsZXMgdG8gQ1NUJ3MgWklQIEV4dGVuc2lvbiIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlZpc3VhbHMiKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGZ1bmM6ICJ0b2dnbGVWaXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgYCR7ZW5hYmxlVmlzID8gIkVuIiA6ICJEaXMifWFibGUgQ3VzdG9taXphdGlvbmAKICAgICAgICAgICAgKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlc2V0U3R5bGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZXNldCBzZWxlY3RvciBzdHlsZSB0byBkZWZhdWx0IiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJib3JkZXJDb2xvcnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2VsZWN0b3IgW09QVElPTl0gY29sb3IgdG8gW0NPTE9SXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1BUSU9OOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAidmlzdWFsQ29sb3JzIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIENPTE9SOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5DT0xPUiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidmlzdWFsc1NlbGVjdCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzZWxlY3RvciBbT1BUSU9OXSB0byBbQU1UXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1BUSU9OOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAidmlzdWFsT3B0aW9ucyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBBTVQ6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMTUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImltYWdlU2V0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IHNlbGVjdG9yIGltYWdlIHRvIFtJTUddIiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJTUc6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogImh0dHBzOi8vZXh0ZW5zaW9ucy50dXJib3dhcnAub3JnL2RhbmdvLnBuZyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAvKiBEZXByZWNhdGlvbiBNYXJrZXIgKi8KICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2NhbGVJbWFnZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInNjYWxlIHNlbGVjdG9yIGltYWdlIHRvIFtTQ0FMRV0lIiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsgU0NBTEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSIH0gfQogICAgICAgICAgfSwKICAgICAgICAgIC8qIE1hcmtlciBFbmQgKi8KICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYm9yZGVyVHlwZVNldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzZWxlY3RvciBib3JkZXIgdHlwZSB0byBbVFlQRV0iKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBlbmFibGVWaXMsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJib3JkZXJUeXBlcyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZvbnRTZXQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2VsZWN0b3IgZm9udCB0byBbRk9OVF0iKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBlbmFibGVWaXMsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPTlQ6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJmb250IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidGV4dFNldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBmaWxlIHNlbGVjdG9yIHRleHQgdG8gW1RFWFRdIiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJJbnNlcnQgRmlsZSBIZXJlIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImN1cnJlbnRYIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImN1cnJlbnQgc2VsZWN0b3IgW1RISU5HXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVEhJTkc6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJtb2RhbFZpc3VhbHMiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgbWVudXM6IHsKICAgICAgICAgIGZvbnQ6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogImdldEZvbnRzIiwKICAgICAgICAgIH0sCiAgICAgICAgICBlbmNvZGluZzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiAiZ2V0RW5jb2RpbmdzIiwKICAgICAgICAgIH0sCiAgICAgICAgICBhdXRvbWF0aWNhbGx5T3BlbjogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNob3cgbW9kYWwiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiBNT0RFX01PREFMLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm9wZW4gc2VsZWN0b3IgaW1tZWRpYXRlbHkiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1IsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBXaWxsIG5vdCB3b3JrIGlmIHRoZSBicm93c2VyIGRvZXNuJ3QgdGhpbmsgd2UgYXJlIHJlc3BvbmRpbmcgdG8gYSBjbGljayBldmVudC4KICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvbmx5IHNob3cgc2VsZWN0b3IgKHVucmVsaWFibGUpIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogTU9ERV9PTkxZX1NFTEVDVE9SLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgRklMRV9TSVpFUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImZvcm1hdHRlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb3JtYXR0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInVuZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInVuZm9ybWF0dGVkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIEZJTEVfSU5GTzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRhdGEiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZGF0YSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibmFtZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJuYW1lIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJtb2RpZmllZCBkYXRlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogIm1vZGlmaWVkIGRhdGUiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNpemUgZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpemUgZm9ybWF0dGVkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzaXplIHVuZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpemUgdW5mb3JtYXR0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgREVMRVRJT046IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzdG9yYWdlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInN0b3JhZ2UiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRoaXMgZGV2aWNlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInRoaXMgZGV2aWNlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJib3RoIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImJvdGgiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgbXVsdGlNb2RlOiB7CiAgICAgICAgICAgIGFjY2VwdFJlcG9ydGVyczogZmFsc2UsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImEgc2luZ2xlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpbmdsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJtdWx0aXBsZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJtdWx0aXBsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIG1vZGFsVmlzdWFsczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciBjb2xvciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXIiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQgY29sb3IiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAidGV4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFja2dyb3VuZCBjb2xvciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJvdXRlciIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3ZlcmxheSBvcGFjaXR5IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNoYWRvdyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZm9udCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb250IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHNpemUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAic2l6ZUZvbnQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImZvbnQgdGhpY2tuZXNzIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImZvbnRXZWlnaHQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImxldHRlciBzcGFjaW5nIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImxldHRlclNwYWNpbmciLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciByYWRpdXMiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiYm9yZGVyUmFkaXVzIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJib3JkZXIgdHlwZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXJUeXBlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJiYWNrZ3JvdW5kIGltYWdlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImltYWdlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJ0ZXh0IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInRleHRWIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIHZpc3VhbENvbG9yczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXIiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAidGV4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFja2dyb3VuZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJiYWNrZ3JvdW5kIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIHZpc3VhbE9wdGlvbnM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHNpemUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZm9udCBzaXplIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHRoaWNrbmVzcyIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb250IHRoaWNrbmVzcyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibGV0dGVyIHNwYWNpbmciKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAibGV0dGVyIHNwYWNpbmciLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciByYWRpdXMiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiYm9yZGVyIHJhZGl1cyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3ZlcmxheSBvcGFjaXR5IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogIm92ZXJsYXkgb3BhY2l0eSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgICBib3JkZXJUeXBlczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRvdHRlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJkb3R0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRhc2hlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJkYXNoZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNvbGlkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNvbGlkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkb3VibGUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZG91YmxlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJncm9vdmUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZ3Jvb3ZlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyaWRnZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJyaWRnZSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaW5zZXQiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiaW5zZXQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm91dHNldCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJvdXRzZXQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm5vbmUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAibm9uZSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfTsKICAgIH0KCiAgICAvLyBIZWxwZXIgRnVuY3MKICAgIGdldEZvbnRzKCkgewogICAgICBjb25zdCBjdXN0b21Gb250cyA9IHJ1bnRpbWUuZm9udE1hbmFnZXIgPyBydW50aW1lLmZvbnRNYW5hZ2VyLmdldEZvbnRzKCkubWFwKChpKSA9PiAoeyB0ZXh0OiBpLm5hbWUsIHZhbHVlOiBpLmZhbWlseSB9KSkgOiBbXTsKICAgICAgcmV0dXJuIFsuLi5idWlsdEluRm9udHMsIC4uLmN1c3RvbUZvbnRzXTsKICAgIH0KCiAgICBnZXRFbmNvZGluZ3Mob25seVNhZmUpIHsKICAgICAgY29uc3QgdHlwZXMgPSBbCiAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidGV4dCIpLCB2YWx1ZTogQVNfVEVYVCB9LAogICAgICAgIHsgdGV4dDogImRhdGE6IFVSTCIsIHZhbHVlOiBBU19EQVRBX1VSTCB9LAogICAgICAgIHsgdGV4dDogImJhc2U2NCIsIHZhbHVlOiBBU19CQVNFNjQgfSwKICAgICAgICB7IHRleHQ6ICJoZXgiLCB2YWx1ZTogQVNfSEVYIH0sCiAgICAgIF07CiAgICAgIGlmICh0aGlzLl9zaG93VW5zYWZlT3B0aW9ucykgdHlwZXMucHVzaCh7IHRleHQ6ICJhcnJheUJ1ZmZlciIsIHZhbHVlOiBBU19CVUZGRVIgfSk7CiAgICAgIHJldHVybiB0eXBlczsKICAgIH0KCiAgICB0b2dnbGVWaXMoKSB7CiAgICAgIChlbmFibGVWaXMgPSBlbmFibGVWaXMgPyBmYWxzZSA6IHRydWUpLAogICAgICAgIHZtLmV4dGVuc2lvbk1hbmFnZXIucmVmcmVzaEJsb2NrcygpOwogICAgfQoKICAgIHVwZGF0ZVN0b3JlKG5hbWUsIGRhdGEsIG1ldGFEYXRhKSB7CiAgICAgIGNvbnN0IHJhd0RhdGUgPSBuZXcgRGF0ZShtZXRhRGF0YS5sYXN0TW9kaWZpZWQpOwogICAgICBzdG9yZWRGaWxlc1tuYW1lXS5kYXRhID0gewogICAgICAgIHNpemU6IG1ldGFEYXRhLnNpemUsCiAgICAgICAgc2l6ZUZvcm1hdDogZm9ybWF0RmlsZVNpemUobWV0YURhdGEuc2l6ZSksCiAgICAgICAgZGF0ZUZvcm1hdDogcmF3RGF0ZS50b0xvY2FsZVN0cmluZygpLAogICAgICAgIGRhdGEsCiAgICAgIH07CiAgICB9CgogICAgYXN5bmMgZW5jb2RlRGF0YShtZXRhLCBmb3JtYXQpIHsKICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IG1ldGEudGV4dCgpOwogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBtZXRhLmFycmF5QnVmZmVyKCk7CiAgICAgIGlmIChmb3JtYXQgPT09IEFTX1RFWFQpIHJldHVybiB0ZXh0OwogICAgICBlbHNlIGlmIChmb3JtYXQgPT09IEFTX0JVRkZFUikgcmV0dXJuIGJ1ZmZlcjsKICAgICAgY29uc3QgYmFzZTY0ID0gYnVmZmVyVG9CYXNlNjQoYnVmZmVyKTsKICAgICAgaWYgKGZvcm1hdCA9PT0gQVNfQkFTRTY0KSByZXR1cm4gYmFzZTY0OwogICAgICBlbHNlIGlmIChmb3JtYXQgPT09IEFTX0RBVEFfVVJMKSByZXR1cm4gYGRhdGE6JHttZXRhLnR5cGV9O2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCR7YmFzZTY0fWA7CiAgICAgIGVsc2UgaWYgKGZvcm1hdCA9PT0gQVNfSEVYKSByZXR1cm4gYmFzZTY0VG9IZXgoYmFzZTY0LCAiICIpOwogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICAvLyBCbG9jayBGdW5jcyAoVXBsb2FkICYgRG93bmxvYWQpCiAgICBzaG93UGlja2VyKCkgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoIiIsIEFTX1RFWFQpOwogICAgfQoKICAgIHNob3dQaWNrZXJFeHRlbnNpb25zKGFyZ3MpIHsKICAgICAgcmV0dXJuIHNob3dGaWxlUHJvbXB0KGFyZ3MuZXh0ZW5zaW9uLCBBU19URVhUKTsKICAgIH0KCiAgICBzaG93UGlja2VyQXMoYXJncykgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoIiIsIGFyZ3MuYXMpOwogICAgfQoKICAgIHNob3dQaWNrZXJFeHRlbnNpb25zQXMoYXJncykgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoYXJncy5leHRlbnNpb24sIGFyZ3MuYXMpOwogICAgfQoKICAgIGFzeW5jIGRvd25sb2FkKGFyZ3MpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBkb3dubG9hZEJsb2IoCiAgICAgICAgICBuZXcgQmxvYihbU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MudGV4dCldKSwKICAgICAgICAgIFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLmZpbGUpCiAgICAgICAgKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBkb3dubG9hZFVSTChhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgZG93bmxvYWRVbnRydXN0ZWRVUkwoCiAgICAgICAgICBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy51cmwpLAogICAgICAgICAgU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuZmlsZSkKICAgICAgICApOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgfQogICAgfQoKICAgIHNldE9wZW5Nb2RlKGFyZ3MpIHsKICAgICAgaWYgKEFMTF9NT0RFUy5pbmNsdWRlcyhhcmdzLm1vZGUpKSBvcGVuRmlsZVNlbGVjdG9yTW9kZSA9IGFyZ3MubW9kZTsKICAgICAgZWxzZSBjb25zb2xlLndhcm4oYHVua25vd24gbW9kZWAsIGFyZ3MubW9kZSk7CiAgICB9CgogICAgZmlsZUluZm8oYXJncykgewogICAgICBpZiAoYXJncy5GT1JNQVQgPT09ICJzaXplIGZvcm1hdHRlZCIpIHJldHVybiBGaWxlU2l6ZTsKICAgICAgZWxzZSBpZiAoYXJncy5GT1JNQVQgPT09ICJzaXplIHVuZm9ybWF0dGVkIikgcmV0dXJuIFJhd0ZpbGVTaXplOwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gIm1vZGlmaWVkIGRhdGUiKSByZXR1cm4gZmlsZURhdGU7CiAgICAgIGVsc2UgaWYgKGFyZ3MuRk9STUFUID09PSAiZGF0YSIpIHJldHVybiBsYXN0RGF0YTsKICAgICAgcmV0dXJuIEZpbGVOYW1lOwogICAgfQoKICAgIG1vZGFsT3BlbigpIHsKICAgICAgcmV0dXJuIG9wZW5Nb2RhbHMgIT09IDA7CiAgICB9CgogICAgLy8gRmlsZSBXcml0aW5nICYgRm9sZGVycwogICAgY2hlY2tGaWxlQVBJKCkgewogICAgICByZXR1cm4gInNob3dPcGVuRmlsZVBpY2tlciIgaW4gd2luZG93OwogICAgfQoKICAgIGFsbFN0b3JlZCgpIHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHN0b3JlZEZpbGVzKSk7CiAgICB9CgogICAgYXN5bmMgc2V0U3RvcmVkRmlsZShhcmdzKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0ZpbGVBUEkoKSkgcmV0dXJuOwogICAgICBjb25zdCBmaWxlVHlwZXMgPSBhcmdzLkZJTEUgPyBhcmdzLkZJTEUuc3BsaXQoIiAiKSA6IFtdOwogICAgICBjb25zdCBpc011bHRpID0gYXJncy5NVUxUSSA9PT0gIm11bHRpcGxlIjsKICAgICAgY29uc3Qgb3ZlcnJpZGVyID0geyB0eXBlOiAid2luZG93IiwgYWxsb3dNdWx0aTogaXNNdWx0aSB9OwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHBpY2tlciA9IGF3YWl0IHNob3dGaWxlUHJvbXB0KGZpbGVUeXBlcywgIiIsIG92ZXJyaWRlcik7CiAgICAgICAgaWYgKCFwaWNrZXIpIHJldHVybjsKCiAgICAgICAgY29uc3QgbmFtZSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLk5BTUUpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlja2VyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBzcGFjZU5hbWUgPSBpc011bHRpID8gbmFtZSArIChpICsgMSkgOiBuYW1lOwogICAgICAgICAgc3RvcmVkRmlsZXNbc3BhY2VOYW1lXSA9IHsgZmlsZTogcGlja2VyW2ldLCBkYXRhOiB7fSB9OwogICAgICAgICAgY29uc3QgbWV0YURhdGEgPSBhd2FpdCBwaWNrZXJbaV0uZ2V0RmlsZSgpOwogICAgICAgICAgY29uc3QgZW5jb2RlZERhdGEgPSBhd2FpdCB0aGlzLmVuY29kZURhdGEobWV0YURhdGEsIGFyZ3MuVFlQRSk7CiAgICAgICAgICB0aGlzLnVwZGF0ZVN0b3JlKHNwYWNlTmFtZSwgZW5jb2RlZERhdGEsIG1ldGFEYXRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLndhcm4oZSk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBzdG9yZWRGb2xkZXIoYXJncykgewogICAgICBpZiAoIXRoaXMuY2hlY2tGaWxlQVBJKCkpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwaWNrZXIgPSBhd2FpdCBzaG93RmlsZVByb21wdCgiRm9sZGVyIiwgIiIsIHsgdHlwZTogImZvbGRlciIgfSk7CiAgICAgICAgaWYgKCFwaWNrZXIpIHJldHVybjsKCiAgICAgICAgY29uc3QgY3JlYXRlRXh0RmlsZSA9IGFzeW5jIChmb2xkZXJOLCBkYXRhKSA9PiB7CiAgICAgICAgICBjb25zdCBuYW1lID0gYCR7Zm9sZGVyTn0vJHtkYXRhLm5hbWV9YDsKICAgICAgICAgIHN0b3JlZEZpbGVzW25hbWVdID0geyBmaWxlOiBkYXRhLCBkYXRhOiB7fSB9OwogICAgICAgICAgY29uc3QgbWV0YURhdGEgPSBhd2FpdCBkYXRhLmdldEZpbGUoKTsKICAgICAgICAgIGNvbnN0IGVuY29kZWREYXRhID0gYXdhaXQgdGhpcy5lbmNvZGVEYXRhKG1ldGFEYXRhLCBhcmdzLlRZUEUpOwogICAgICAgICAgdGhpcy51cGRhdGVTdG9yZShuYW1lLCBlbmNvZGVkRGF0YSwgbWV0YURhdGEpOwogICAgICAgIH07CgogICAgICAgIGNvbnN0IGRpZ1Rocm91Z2hGb2xkZXIgPSBhc3luYyAoZm9sZGVyQ3R4KSA9PiB7CiAgICAgICAgICBjb25zdCBlbnRyaWVzID0gZm9sZGVyQ3R4LmVudHJpZXMoKTsKICAgICAgICAgIGNvbnN0IGZvbGRlck4gPSBhcmdzLk5BTUUgPyBhcmdzLk5BTUUgOiBmb2xkZXJDdHgubmFtZTsKICAgICAgICAgIGxldCB0aGlzRmlsZSA9ICIiOwogICAgICAgICAgd2hpbGUgKHRoaXNGaWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc3Qgb3V0ZXJEYXRhID0gYXdhaXQgZW50cmllcy5uZXh0KCk7CiAgICAgICAgICAgIHRoaXNGaWxlID0gb3V0ZXJEYXRhLnZhbHVlOwogICAgICAgICAgICBpZiAodGhpc0ZpbGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGNvbnN0IGlubmVyRGF0YSA9IHRoaXNGaWxlWzFdOwogICAgICAgICAgICAgIGlmIChpbm5lckRhdGEua2luZCA9PT0gImRpcmVjdG9yeSIpIGF3YWl0IGRpZ1Rocm91Z2hGb2xkZXIoaW5uZXJEYXRhKTsKICAgICAgICAgICAgICBlbHNlIGF3YWl0IGNyZWF0ZUV4dEZpbGUoZm9sZGVyTiwgaW5uZXJEYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYXdhaXQgZGlnVGhyb3VnaEZvbGRlcihwaWNrZXIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKGUpOwogICAgICB9CiAgICB9CgogICAgZGVsZXRlU3RvcmVkRmlsZShhcmdzKSB7CiAgICAgIGlmIChhcmdzLk9QVElPTiA9PT0gInRoaXMgZGV2aWNlIiB8fCBhcmdzLk9QVElPTiA9PT0gImJvdGgiKSB7CiAgICAgICAgaWYgKCF0aGlzLmNoZWNrRmlsZUFQSSgpIHx8IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0uZmlsZS5yZW1vdmUoKTsKICAgICAgfQogICAgICBpZiAoYXJncy5PUFRJT04gPT09ICJzdG9yYWdlIiB8fCBhcmdzLk9QVElPTiA9PT0gImJvdGgiKSBkZWxldGUgc3RvcmVkRmlsZXNbYXJncy5OQU1FXTsKICAgIH0KCiAgICBhc3luYyB1cGRhdGVGaWxlKGFyZ3MpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrRmlsZUFQSSgpIHx8IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHdyaXRhYmxlID0gYXdhaXQgc3RvcmVkRmlsZXNbYXJncy5OQU1FXS5maWxlLmNyZWF0ZVdyaXRhYmxlKCk7CiAgICAgICAgYXdhaXQgd3JpdGFibGUud3JpdGUoYXJncy5UWFQpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7CiAgICAgICAgdGhpcy51cGRhdGVTdG9yZShhcmdzLk5BTUUsIGFyZ3MuVFhULCB7CiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCksCiAgICAgICAgICBzaXplOiBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5UWFQpLmxlbmd0aCwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihlKTsKICAgICAgfQogICAgfQoKICAgIGFzeW5jIHVwZGF0ZUZpbGVVUkwoYXJncykgewogICAgICBpZiAoIXRoaXMuY2hlY2tGaWxlQVBJKCkgfHwgc3RvcmVkRmlsZXNbYXJncy5OQU1FXSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXJsID0gU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuVVJMKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBTY3JhdGNoLmZldGNoKHVybCk7CiAgICAgICAgaWYgKCFyZXMub2spIHJldHVybjsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTsKICAKICAgICAgICBjb25zdCB3cml0YWJsZSA9IGF3YWl0IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0uZmlsZS5jcmVhdGVXcml0YWJsZSgpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLndyaXRlKGJsb2IpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7CiAgICAgICAgdGhpcy51cGRhdGVTdG9yZShhcmdzLk5BTUUsIHVybCwgewogICAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLAogICAgICAgICAgc2l6ZTogdXJsLmxlbmd0aCwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihlKTsKICAgICAgfQogICAgfQoKICAgIHN0b3JlZEluZm8oYXJncykgewogICAgICBjb25zdCBmaWxlSW5mbyA9IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV07CiAgICAgIGlmIChmaWxlSW5mbyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gIiI7CiAgICAgIGVsc2UgaWYgKGFyZ3MuRk9STUFUID09PSAic2l6ZSBmb3JtYXR0ZWQiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5zaXplRm9ybWF0OwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gInNpemUgdW5mb3JtYXR0ZWQiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5zaXplOwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gIm1vZGlmaWVkIGRhdGUiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5kYXRlRm9ybWF0OwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gImRhdGEiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5kYXRhOwogICAgICByZXR1cm4gZmlsZUluZm8uZmlsZS5uYW1lOwogICAgfQoKICAgIG1vdmVTdG9yYWdlKCkgewogICAgICBjb25zdCBleHQgPSBydW50aW1lLmV4dF9jc3QxMjI5emlwOwogICAgICBpZiAoZXh0ID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgZXh0LmNyZWF0ZUVtcHR5QXMoeyBOQU1FOiAiZmlsZXNFeHBhbmRlZF9zdG9yZWRGaWxlcyIgfSk7CiAgICAgIGlmIChleHQuemlwRXJyb3IpIHJldHVybjsKICAgICAgY29uc3QgemlwID0gZXh0LnppcHNbImZpbGVzRXhwYW5kZWRfc3RvcmVkRmlsZXMiXTsKICAgICAgZm9yIChjb25zdCBbbmFtZSwgZmlsZV0gb2YgT2JqZWN0LmVudHJpZXMoc3RvcmVkRmlsZXMpKSB6aXAuZmlsZShuYW1lLCBmaWxlLmRhdGEuZGF0YSk7CiAgICB9CgogICAgLy8gRXh0cmEKICAgIGZpbmRGaWxlU2l6ZShhcmdzKSB7CiAgICAgIGNvbnN0IHNpemUgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5GSUxFKS5sZW5ndGg7IC8vIGJ5dGVzCiAgICAgIHJldHVybiBhcmdzLlRZUEUgPT09ICJmb3JtYXR0ZWQiID8gZm9ybWF0RmlsZVNpemUoc2l6ZSkgOiBzaXplOwogICAgfQoKICAgIC8vIFZpc3VhbHMKICAgIHJlc2V0U3R5bGUoKSB7CiAgICAgIHNlbGVjdG9yT3B0aW9ucyA9IHsKICAgICAgICBib3JkZXJDb2xvcjogIiM4ODgiLCB0ZXh0Q29sb3I6ICIjMDAwIiwgb3V0ZXI6ICIjZmZmIiwKICAgICAgICBzaXplRm9udDogMS41LCBib3JkZXJSYWRpdXM6IDE2LCBib3JkZXJUeXBlOiAiZGFzaGVkIiwKICAgICAgICBmb250OiAiaW5oZXJpdCIsIHNoYWRvdzogMC41LCBpbWFnZTogIiIsIHRleHRWOiAiIiwKICAgICAgICBmb250V2VpZ2h0OiA0MCwgbGV0dGVyU3BhY2luZzogIm5vcm1hbCIsCiAgICAgIH07CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQoKICAgIGJvcmRlckNvbG9ycyhhcmdzKSB7CiAgICAgIHN3aXRjaCAoYXJncy5PUFRJT04pIHsKICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy50ZXh0Q29sb3IgPSBhcmdzLkNPTE9SOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiYmFja2dyb3VuZCI6CiAgICAgICAgICBzZWxlY3Rvck9wdGlvbnMub3V0ZXIgPSBhcmdzLkNPTE9SOwogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmltYWdlID0gIiI7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlckNvbG9yID0gYXJncy5DT0xPUjsKICAgICAgfQogICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgIH0KCiAgICB2aXN1YWxzU2VsZWN0KGFyZ3MpIHsKICAgICAgY29uc3QgYW10SW4gPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYXJncy5BTVQpOwogICAgICBzd2l0Y2ggKGFyZ3MuT1BUSU9OKSB7CiAgICAgICAgY2FzZSAiZm9udCBzaXplIjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5zaXplRm9udCA9IGFtdEluIC8gMTA7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmb250IHRoaWNrbmVzcyI6CiAgICAgICAgICBzZWxlY3Rvck9wdGlvbnMuZm9udFdlaWdodCA9IGFtdEluOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAibGV0dGVyIHNwYWNpbmciOgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmxldHRlclNwYWNpbmcgPSBhbXRJbjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImJvcmRlciByYWRpdXMiOgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlclJhZGl1cyA9IGFtdEluOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAib3ZlcmxheSBvcGFjaXR5IjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5zaGFkb3cgPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYW10SW4pIC8gMTAwOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5ib3JkZXIgPSBhbXRJbjsKICAgICAgfQogICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgIH0KCiAgICBib3JkZXJUeXBlU2V0KGFyZ3MpIHsKICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlclR5cGUgPSBhcmdzLlRZUEU7CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQoKICAgIGZvbnRTZXQoYXJncykgewogICAgICBzZWxlY3Rvck9wdGlvbnMuZm9udCA9IGFyZ3MuRk9OVDsKICAgICAgdXBkYXRlTW9kYWxWaXN1YWxzKCk7CiAgICB9CgogICAgY3VycmVudFgoYXJncykgewogICAgICBpZiAoYXJncy5USElORyA9PT0gInNoYWRvdyIgfHwgYXJncy5USElORyA9PT0gInNpemVGb250IikgewogICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBhcmdzLlRISU5HID09PSAic2hhZG93IiA/IDEwMCA6IDEwOwogICAgICAgIHJldHVybiBzZWxlY3Rvck9wdGlvbnNbYXJncy5USElOR10gKiBtdWx0aXBsaWVyOwogICAgICB9CiAgICAgIHJldHVybiBzZWxlY3Rvck9wdGlvbnNbYXJncy5USElOR107CiAgICB9CgogICAgLyogRGVwcmVjYXRpb24gTWFya2VyICovCiAgICBzY2FsZUltYWdlKCkgeyAvKiBkZXByZWNhdGVkICovIH0KICAgIC8qIE1hcmtlciBFbmQgKi8KICAgIGltYWdlU2V0KGFyZ3MpIHsKICAgICAgU2NyYXRjaC5jYW5GZXRjaChlbmNvZGVVUkkoYXJncy5JTUcpKS50aGVuKChjYW5GZXRjaCkgPT4gewogICAgICAgIGlmIChjYW5GZXRjaCkgewogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmltYWdlID0gYHVybCgke2VuY29kZVVSSShhcmdzLklNRyl9KWA7CiAgICAgICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHRleHRTZXQoYXJncykgewogICAgICBzZWxlY3Rvck9wdGlvbnMudGV4dFYgPSBhcmdzLlRFWFQ7CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQogIH0KCiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKChydW50aW1lLmV4dF9maWxlc0V4cGFuZGVkID0gbmV3IGZpbGVzRXhwYW5kZWQoKSkpOwp9KShTY3JhdGNoKTsK"},"meta":{"semver":"3.0.0","platform":{"name":"Mistwarp","url":"https://warp.mistium.com/"}}}