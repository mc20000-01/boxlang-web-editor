{"extensionStorage":{"SP0zMenuMaker":{"menus":{"myMenu-1":{"items":[{"text":"one","value":"1"}],"acceptReporters":false}}}},"targets":[{"isStage":true,"name":"Stage","variables":{"`jEk@4|i[#Fk?(8x)AV.-my variable":["my variable",0],"*6drhXP:uEQ|CIv1S8w@":["tmp",""],"2.8hHiaGU}W_ZtWSFr8{":["i",6],"eQwx-s}=a#9yHIAYl?I!":["tmp1","!="],"npUY#k@VmQF+eQ;Grb`b":["j",1],"kb!NJ48,X=3E+A}v$pMh":["boxes","{\"box\":\"test\",\"test\":\"99\",\"grahh\":\"testing123\"}"],"eJT3;YUNKbqbDr[OMj)a":["k",1],"Nb_hrG-xLFDC,w`vcT`x":["tmp2","[\"$test\",\"!=\",\"20\",\"say\",\"$test~is~not~20\",\"1\"]"],"E1O6Ig#rMIt_+F`~oyf*":["m",7],"IJ!vv`_]-Kj:B(*KP)R5":["n",0],"Njau~Rd+?m4v*qz$JPRw":["mode","1"],"-[/s5Ci!Vm_AYWv8F$C^":["code.toimport","[\"box box|test\",\"ask test\",\"// all comments are ether full line or if there is no more args to fill\",\"say $box:ing123|2\",\"box grahh|$box:ing123\"]"],"r[g}EQf@c1m5dOd_z]Z2":["o",10297502],"*Y4Kh;pE7IVVbDj/Jwk/":["tmp3",0],"HZriX$bbU/0Fn+gAGJ/L":["lm?",false],"gHwP?VfvO/L(IP_8XO;q":["data","apple banana"],"kiecKb_Raz?e$xLm2OTT":["tmp4",15713.399999999998],"H,MdXb!fA:r+(|cUAIyD":["p",100],"M+@({_-]oELA*M8.S0(O":["runing?","0"],"c3iI[Usk,NCBHtSp@p!Z":["tmp5","99|"],"2maV#B{H)X?Rp`H}_]+:":["dbg","1"],".wHN;MjS*PQ0k+?2+~ZL":["marks","{}"],":,G{P,rW+4rKp)NhO!DS":["err","0"],"akz;xP%xna~#S~!=^@A$":["q",10],".4H@;-AuG2Qb}J3i=AVB":["tmp6","say 99 is not 20|1||"]},"lists":{";A!-EsNOQGwq7!9H*J8b":["code (run)",["{\"cmd\":\"box\",\"args\":[\"box\",\"test\"]}","{\"cmd\":\"ask\",\"args\":[\"test\"]}","{\"cmd\":\"//\",\"args\":[\"all\"]}","{\"cmd\":\"say\",\"args\":[\"$box:ing123\",\"2\"]}","{\"cmd\":\"box\",\"args\":[\"grahh\",\"$box:ing123\"]}","{\"cmd\":\"if\",\"args\":[\"$test\",\"!=\",\"20\",\"say\",\"$test~is~not~20\",\"1\"]}"]],"9O|/dr-6%0yRU!*jD@Cb":["code",["box box|test","ask test","// all comments are ether full line or if there is no more args to fill","say $box:ing123|2","box grahh|$box:ing123","if $test|!=|20|say|$test~is~not~20|1"]],"_Im,zJg}7i]sA]LkT)iJ":["[debug]",["box data size:44","fps: 157","cur cmd: ","[\"box\",\"test\"]","[\"test\",\"99\"]","[\"grahh\",\"testing123\"]"]],"}dDt?K()T1V#X=R=X]hf":["console",["test  : 99","testing123","99"]],"aqB}_)Cd()d9mK}wH)x!":["fps",[272,33.78,71.43,144.93,117.65,109.89,102.04,140.85,153.85,112.36,147.06,147.06,163.93,140.85,172.41,156.25,140.85,181.82,147.06,161.29,138.89,181.82,138.89,149.25,169.49,149.25,97.09,172.41,128.21,192.31,153.85,142.86,178.57,158.73,175.44,121.95,178.57,188.68,131.58,178.57,188.68,161.29,188.68,105.26,172.41,151.52,129.87,185.19,126.58,149.25,217.39,163.93,181.82,188.68,138.89,161.29,192.31,158.73,153.85,104.17,178.57,128.21,196.08,196.08,163.93,222.22,188.68,121.95,163.93,222.22,120.48,178.57,75.76,151.52,97.09,104.17,103.09,163.93,125,192.31,185.19,156.25,200,119.05,196.08,192.31,166.67,192.31,123.46,227.27,188.68,161.29,212.77,196.08,161.29,117.65,178.57,192.31,71.43,217.39]],"BEh/Abj(PI02)oR7U(*2":["err",[]],"iR=|db]RwF5@WV=W*X=H":["wrn",[]],"x8|?*hFXFZ#24tkWdW#A":["sysboxes",[]]},"broadcasts":{},"blocks":{"aQ":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"aR","parent":null,"inputs":{"CONDITION":[2,"dv"]},"fields":{"STATE":["true"]},"topLevel":true},"dv":{"opcode":"operator_equals","next":null,"parent":"aQ","inputs":{"OPERAND1":[3,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"],[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"aS":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"aT","parent":null,"inputs":{"CONDITION":[2,"dw"]},"fields":{"STATE":["true"]},"topLevel":true},"dw":{"opcode":"operator_equals","next":null,"parent":"aS","inputs":{"OPERAND1":[3,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"aR":{"opcode":"looks_switchbackdropto","next":null,"parent":"aQ","inputs":{"BACKDROP":[1,"dx"]},"fields":{}},"dx":{"opcode":"looks_backdrops","next":null,"parent":"aR","inputs":{},"fields":{"BACKDROP":["backdrop1",null]},"shadow":true},"aT":{"opcode":"looks_switchbackdropto","next":null,"parent":"aS","inputs":{"BACKDROP":[1,"dy"]},"fields":{}},"dy":{"opcode":"looks_backdrops","next":null,"parent":"aT","inputs":{},"fields":{"BACKDROP":["backdrop2",null]},"shadow":true},"gt":{"opcode":"SP0zMenuMaker___SP0zMenuMaker_TEMP_BLOCK","next":null,"parent":null,"inputs":{},"fields":{}},"gu":{"opcode":"SP0zMenuMaker___SP0zMenuMaker_TEMP_BLOCK","next":null,"parent":null,"inputs":{},"fields":{}}},"comments":{"gv":{"blockId":null,"x":-60.03703703703701,"y":-42.703703703703695,"width":350,"height":170,"minimized":true,"text":"Configuration for https://turbowarp.org/\nYou can move, resize, and minimize this comment, but don't edit it by hand. This comment can be deleted to remove the stored settings.\n{\"framerate\":272,\"runtimeOptions\":{\"maxClones\":Infinity,\"miscLimits\":false,\"fencing\":false,\"caseSensitiveLists\":true,\"realLayerIndexes\":true},\"interpolation\":true,\"turbo\":true,\"hq\":true,\"mistwarpTheme\":{\"version\":1,\"kind\":\"standard\",\"data\":{\"accent\":\"red\",\"gui\":\"dark\",\"blocks\":\"custom\",\"menuBarAlign\":\"center\",\"wallpaper\":{\"url\":\"https://4kwallpapers.com/images/wallpapers/jujutsu-kaisen-3840x2160-24150.jpg\",\"opacity\":1,\"darkness\":0.1,\"gridVisible\":true,\"history\":[\"https://4kwallpapers.com/images/wallpapers/jujutsu-kaisen-3840x2160-24150.jpg\"]},\"fonts\":{\"system\":[],\"google\":[],\"history\":[]}}}} // _twconfig_"}},"currentCostume":0,"costumes":[{"name":"backdrop1","bitmapResolution":2,"dataFormat":"png","assetId":"38fd47506e86c314619ae6632bbb574b","md5ext":"38fd47506e86c314619ae6632bbb574b.png","rotationCenterX":480,"rotationCenterY":360},{"name":"backdrop2","bitmapResolution":2,"dataFormat":"png","assetId":"f1fcee6251076f94c14d9b4f2a168fd0","md5ext":"f1fcee6251076f94c14d9b4f2a168fd0.png","rotationCenterX":480,"rotationCenterY":360}],"sounds":[],"volume":100,"layerOrder":0,"tempo":60,"videoTransparency":50,"videoState":"on","textToSpeechLanguage":null},{"isStage":false,"name":"boxy :3","variables":{},"lists":{},"broadcasts":{},"blocks":{"aU":{"opcode":"procedures_definition","next":"y","parent":null,"inputs":{"custom_block":[1,"aV"]},"fields":{},"topLevel":true},"aV":{"opcode":"procedures_prototype","next":null,"parent":"aU","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[1,"dz"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","argumentnames":"[\"data\"]","argumentdefaults":"[\"\"]","warp":"true"}},"dz":{"opcode":"argument_reporter_string_number","next":null,"parent":"aV","inputs":{},"fields":{"VALUE":["data",null]},"shadow":true},"y":{"opcode":"data_setvariableto","next":"dA","parent":"aU","inputs":{"VALUE":[2,"aW"]},"fields":{"VARIABLE":["tmp2","Nb_hrG-xLFDC,w`vcT`x"]}},"aW":{"opcode":"skyhigh173JSON_json_array_create","next":null,"parent":"y","inputs":{"text":[2,"aX"],"d":[1,[10,"|"]]},"fields":{}},"aX":{"opcode":"strings_split","next":null,"parent":"aW","inputs":{"ITEM":[1,[4,"2"]],"STRING":[2,"dB"],"SPLIT":[1,[10," "]]},"fields":{}},"dB":{"opcode":"argument_reporter_string_number","next":null,"parent":"aX","inputs":{},"fields":{"VALUE":["data",null]}},"dA":{"opcode":"procedures_return","next":null,"parent":"y","inputs":{"VALUE":[2,[12,"tmp2","Nb_hrG-xLFDC,w`vcT`x"]]},"fields":{}},"aY":{"opcode":"procedures_definition","next":"aZ","parent":null,"inputs":{"custom_block":[1,"dC"]},"fields":{},"topLevel":true},"dC":{"opcode":"procedures_prototype","next":null,"parent":"aY","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"make code","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"aZ":{"opcode":"data_deletealloflist","next":"z","parent":"aY","inputs":{},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"z":{"opcode":"control_for_each","next":null,"parent":"aZ","inputs":{"VALUE":[2,"dD"],"SUBSTACK":[2,"a!"]},"fields":{"VARIABLE":["i","2.8hHiaGU}W_ZtWSFr8{"]}},"dD":{"opcode":"data_lengthoflist","next":null,"parent":"z","inputs":{},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"a!":{"opcode":"data_addtolist","next":null,"parent":"z","inputs":{"ITEM":[2,"A"]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"A":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"a!","inputs":{"item":[1,[10,"args"]],"json":[2,"a#"],"value":[2,"a%"]},"fields":{}},"a#":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"A","inputs":{"item":[1,[10,"cmd"]],"json":[1,[10,"{}"]],"value":[2,"a("]},"fields":{}},"a(":{"opcode":"procedures_call","next":null,"parent":"a#","inputs":{"tx=G`+RuTkIT/GbZ.p26":[2,"dE"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","warp":"true","return":"1"}},"dE":{"opcode":"data_itemoflist","next":null,"parent":"a(","inputs":{"INDEX":[2,[12,"i","2.8hHiaGU}W_ZtWSFr8{"]]},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"a%":{"opcode":"procedures_call","next":null,"parent":"A","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[2,"dF"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","warp":"true","return":"1"}},"dF":{"opcode":"data_itemoflist","next":null,"parent":"a%","inputs":{"INDEX":[2,[12,"i","2.8hHiaGU}W_ZtWSFr8{"]]},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"dG":{"opcode":"lmsMoreEvents_everyDuration","next":"B","parent":null,"inputs":{"DURATION":[1,[4,"1"]]},"fields":{},"topLevel":true},"B":{"opcode":"data_addtolist","next":"a)","parent":"dG","inputs":{"ITEM":[2,"dH"]},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"dH":{"opcode":"dtbyxeroname_fps","next":null,"parent":"B","inputs":{},"fields":{}},"a)":{"opcode":"data_deleteoflist","next":"c","parent":"B","inputs":{"INDEX":[1,[7,"101"]]},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"c":{"opcode":"skyhigh173JSON_json_vm_setlist","next":"a","parent":"a)","inputs":{"list":[1,"dI"],"json":[2,"C"]},"fields":{}},"dI":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"c","inputs":{},"fields":{"get_list":["_Im,zJg}7i]sA]LkT)iJ",null]},"shadow":true},"C":{"opcode":"skyhigh173JSON_json_array_concat","next":null,"parent":"c","inputs":{"json":[2,"D"],"json2":[2,"dJ"]},"fields":{}},"D":{"opcode":"skyhigh173JSON_json_array_push","next":null,"parent":"C","inputs":{"item":[2,"a*"],"json":[2,"E"]},"fields":{}},"a*":{"opcode":"operator_join","next":null,"parent":"D","inputs":{"STRING1":[1,[10,"cur cmd: "]],"STRING2":[2,"a+"]},"fields":{}},"a+":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"a*","inputs":{"item":[1,[10,"cmd"]],"json":[2,"dK"]},"fields":{}},"dK":{"opcode":"data_itemoflist","next":null,"parent":"a+","inputs":{"INDEX":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"E":{"opcode":"skyhigh173JSON_json_array_push","next":null,"parent":"D","inputs":{"item":[2,"a,"],"json":[2,"a-"]},"fields":{}},"a,":{"opcode":"operator_join","next":null,"parent":"E","inputs":{"STRING1":[1,[10,"fps: "]],"STRING2":[2,"a."]},"fields":{}},"a.":{"opcode":"operator_round","next":null,"parent":"a,","inputs":{"NUM":[2,"dL"]},"fields":{}},"dL":{"opcode":"procedures_call","next":null,"parent":"a.","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","warp":"true","return":"1"}},"a-":{"opcode":"skyhigh173JSON_json_array_push","next":null,"parent":"E","inputs":{"item":[2,"a/"],"json":[1,[10,"[]"]]},"fields":{}},"a/":{"opcode":"operator_join","next":null,"parent":"a-","inputs":{"STRING1":[1,[10,"box data size:"]],"STRING2":[2,"F"]},"fields":{}},"F":{"opcode":"operator_multiply","next":null,"parent":"a/","inputs":{"NUM1":[2,"G"],"NUM2":[2,"a:"]},"fields":{}},"G":{"opcode":"operator_subtract","next":null,"parent":"F","inputs":{"NUM1":[2,"dM"],"NUM2":[2,"dN"]},"fields":{}},"dM":{"opcode":"skyhigh173JSON_json_jlength","next":null,"parent":"G","inputs":{"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{}},"dN":{"opcode":"operator_length","next":null,"parent":"G","inputs":{"STRING":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{}},"a:":{"opcode":"operator_subtract","next":null,"parent":"F","inputs":{"NUM1":[1,[4,""]],"NUM2":[2,"H"]},"fields":{}},"H":{"opcode":"operator_divide","next":null,"parent":"a:","inputs":{"NUM1":[2,"dO"],"NUM2":[2,"dP"]},"fields":{}},"dO":{"opcode":"skyhigh173JSON_json_jlength","next":null,"parent":"H","inputs":{"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{}},"dP":{"opcode":"skyhigh173JSON_json_jlength","next":null,"parent":"H","inputs":{"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{}},"dJ":{"opcode":"skyhigh173JSON_json_get_all","next":null,"parent":"C","inputs":{"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{"Stype":["datas",null]}},"a":{"opcode":"control_if_else","next":"I","parent":"c","inputs":{"CONDITION":[2,"dQ"],"SUBSTACK":[2,"dR"],"SUBSTACK2":[2,"dS"]},"fields":{}},"dQ":{"opcode":"operator_equals","next":null,"parent":"a","inputs":{"OPERAND1":[2,[12,"mode","Njau~Rd+?m4v*qz$JPRw"]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"dR":{"opcode":"data_showlist","next":null,"parent":"a","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"dS":{"opcode":"data_hidelist","next":null,"parent":"a","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"I":{"opcode":"runtimeoptions_setFramerate","next":"d","parent":"a","inputs":{"fps":[2,"J"]},"fields":{}},"J":{"opcode":"operator_add","next":null,"parent":"I","inputs":{"NUM1":[2,"a;"],"NUM2":[2,"a="]},"fields":{}},"a;":{"opcode":"operator_round","next":null,"parent":"J","inputs":{"NUM":[2,"a?"]},"fields":{}},"a?":{"opcode":"operator_divide","next":null,"parent":"a;","inputs":{"NUM1":[2,"K"],"NUM2":[1,[4,"2"]]},"fields":{}},"K":{"opcode":"operator_multiply","next":null,"parent":"a?","inputs":{"NUM1":[2,"a@"],"NUM2":[2,"a["]},"fields":{}},"a@":{"opcode":"operator_round","next":null,"parent":"K","inputs":{"NUM":[2,"dT"]},"fields":{}},"dT":{"opcode":"procedures_call","next":null,"parent":"a@","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","warp":"true","return":"1"}},"a[":{"opcode":"operator_add","next":null,"parent":"K","inputs":{"NUM1":[1,[4,"2"]],"NUM2":[2,"a]"]},"fields":{}},"a]":{"opcode":"truefantommath_clamp_block","next":null,"parent":"a[","inputs":{"A":[2,"a^"],"B":[1,[4,"-1"]],"C":[1,[4,"0"]]},"fields":{}},"a^":{"opcode":"truefantommath_scale_block","next":null,"parent":"a]","inputs":{"A":[2,"dU"],"m1":[1,[4,"10"]],"M1":[1,[4,"0"]],"m2":[1,[4,"0"]],"M2":[1,[4,"1"]]},"fields":{}},"dU":{"opcode":"sensing_timer","next":null,"parent":"a^","inputs":{},"fields":{}},"a=":{"opcode":"operator_round","next":null,"parent":"J","inputs":{"NUM":[2,"L"]},"fields":{}},"L":{"opcode":"operator_multiply","next":null,"parent":"a=","inputs":{"NUM1":[2,"a_"],"NUM2":[2,"a`"]},"fields":{}},"a_":{"opcode":"operator_round","next":null,"parent":"L","inputs":{"NUM":[2,"dV"]},"fields":{}},"dV":{"opcode":"procedures_call","next":null,"parent":"a_","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","warp":"true","return":"1"}},"a`":{"opcode":"operator_add","next":null,"parent":"L","inputs":{"NUM1":[1,[4,"2"]],"NUM2":[2,"a{"]},"fields":{}},"a{":{"opcode":"truefantommath_clamp_block","next":null,"parent":"a`","inputs":{"A":[2,"a|"],"B":[1,[4,"-1"]],"C":[1,[4,"0"]]},"fields":{}},"a|":{"opcode":"truefantommath_scale_block","next":null,"parent":"a{","inputs":{"A":[2,"dW"],"m1":[1,[4,"10"]],"M1":[1,[4,"0"]],"m2":[1,[4,"0"]],"M2":[1,[4,"1"]]},"fields":{}},"dW":{"opcode":"sensing_timer","next":null,"parent":"a|","inputs":{},"fields":{}},"d":{"opcode":"control_if","next":"M","parent":"I","inputs":{"CONDITION":[2,"dX"],"SUBSTACK":[2,"dY"]},"fields":{}},"dX":{"opcode":"operator_equals","next":null,"parent":"d","inputs":{"OPERAND1":[1,[10,"0"]],"OPERAND2":[2,[12,"runing?","M+@({_-]oELA*M8.S0(O"]]},"fields":{}},"dY":{"opcode":"procedures_call","next":null,"parent":"d","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"make code","argumentids":"[]","warp":"true"}},"M":{"opcode":"control_for_each","next":null,"parent":"d","inputs":{"VALUE":[2,"dZ"],"SUBSTACK":[2,"a}"]},"fields":{"VARIABLE":["q","akz;xP%xna~#S~!=^@A$"]}},"dZ":{"opcode":"data_lengthoflist","next":null,"parent":"M","inputs":{},"fields":{"LIST":["sysboxes","x8|?*hFXFZ#24tkWdW#A"]}},"a}":{"opcode":"control_switch","next":null,"parent":"M","inputs":{"VALUE":[1,[10,"value"]],"SUBSTACK":[2,"a~"]},"fields":{}},"a~":{"opcode":"control_case_fallthrough","next":"N","parent":"a}","inputs":{"VALUE":[1,[10,"fps"]]},"fields":{}},"N":{"opcode":"data_setvariableto","next":"d!","parent":"a~","inputs":{"VALUE":[2,"O"]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"O":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"N","inputs":{"item":[2,"d#"],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"value":[2,"ba"]},"fields":{}},"d#":{"opcode":"data_itemoflist","next":null,"parent":"O","inputs":{"INDEX":[2,[12,"q","akz;xP%xna~#S~!=^@A$"]]},"fields":{"LIST":["sysboxes","x8|?*hFXFZ#24tkWdW#A"]}},"ba":{"opcode":"operator_round","next":null,"parent":"O","inputs":{"NUM":[2,"d%"]},"fields":{}},"d%":{"opcode":"procedures_call","next":null,"parent":"ba","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","warp":"true","return":"1"}},"d!":{"opcode":"control_break","next":null,"parent":"N","inputs":{},"fields":{}},"d(":{"opcode":"lmsMoreEvents_everyDuration","next":"d)","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"d)":{"opcode":"motion_gotoxy","next":null,"parent":"d(","inputs":{"X":[1,[4,"-230"]],"Y":[1,[4,"168"]]},"fields":{}},"bb":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"P","parent":null,"inputs":{"CONDITION":[2,"d*"]},"fields":{"STATE":["true",null]},"topLevel":true},"d*":{"opcode":"operator_equals","next":null,"parent":"bb","inputs":{"OPERAND1":[2,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"P":{"opcode":"shovelcss_changecss","next":"Q","parent":"bb","inputs":{"COLORABLE":[1,"d+"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"d+":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"P","inputs":{},"fields":{"COLORABLE_MENU":["monitor text",null]},"shadow":true},"Q":{"opcode":"shovelcss_changecss","next":"R","parent":"P","inputs":{"COLORABLE":[1,"d,"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"d,":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"Q","inputs":{},"fields":{"COLORABLE_MENU":["list value text",null]},"shadow":true},"R":{"opcode":"shovelcss_changecss","next":"S","parent":"Q","inputs":{"COLORABLE":[1,"d-"],"COLOR":[1,[9,"#1f1f1f"]]},"fields":{}},"d-":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"R","inputs":{},"fields":{"COLORABLE_MENU":["list header background",null]},"shadow":true},"S":{"opcode":"shovelcss_changecss","next":"T","parent":"R","inputs":{"COLORABLE":[1,"d."],"COLOR":[1,[9,"#1f1f1f"]]},"fields":{}},"d.":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"S","inputs":{},"fields":{"COLORABLE_MENU":["list footer background",null]},"shadow":true},"T":{"opcode":"shovelcss_changecss","next":"U","parent":"S","inputs":{"COLORABLE":[1,"d/"],"COLOR":[1,[9,"#353535"]]},"fields":{}},"d/":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"T","inputs":{},"fields":{"COLORABLE_MENU":["monitor background",null]},"shadow":true},"U":{"opcode":"shovelcss_changecss","next":"V","parent":"T","inputs":{"COLORABLE":[1,"d:"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"d:":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"U","inputs":{},"fields":{"COLORABLE_MENU":["list value background",null]},"shadow":true},"V":{"opcode":"shovelcss_changecss","next":"bc","parent":"U","inputs":{"COLORABLE":[1,"d;"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"d;":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"V","inputs":{},"fields":{"COLORABLE_MENU":["variable value background",null]},"shadow":true},"bc":{"opcode":"shovelcss_changecss","next":null,"parent":"V","inputs":{"COLORABLE":[1,"d="],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"d=":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"bc","inputs":{},"fields":{"COLORABLE_MENU":["variable value text",null]},"shadow":true},"bd":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"W","parent":null,"inputs":{"CONDITION":[2,"d?"]},"fields":{"STATE":["true",null]},"topLevel":true},"d?":{"opcode":"operator_equals","next":null,"parent":"bd","inputs":{"OPERAND1":[2,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"W":{"opcode":"shovelcss_changecss","next":"X","parent":"bd","inputs":{"COLORABLE":[1,"d@"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"d@":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"W","inputs":{},"fields":{"COLORABLE_MENU":["monitor text",null]},"shadow":true},"X":{"opcode":"shovelcss_changecss","next":"Y","parent":"W","inputs":{"COLORABLE":[1,"d["],"COLOR":[1,[9,"#000000"]]},"fields":{}},"d[":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"X","inputs":{},"fields":{"COLORABLE_MENU":["list value text",null]},"shadow":true},"Y":{"opcode":"shovelcss_changecss","next":"Z","parent":"X","inputs":{"COLORABLE":[1,"d]"],"COLOR":[1,[9,"#989898"]]},"fields":{}},"d]":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"Y","inputs":{},"fields":{"COLORABLE_MENU":["list header background",null]},"shadow":true},"Z":{"opcode":"shovelcss_changecss","next":"!","parent":"Y","inputs":{"COLORABLE":[1,"d^"],"COLOR":[1,[9,"#989898"]]},"fields":{}},"d^":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"Z","inputs":{},"fields":{"COLORABLE_MENU":["list footer background",null]},"shadow":true},"!":{"opcode":"shovelcss_changecss","next":"#","parent":"Z","inputs":{"COLORABLE":[1,"d_"],"COLOR":[1,[9,"#cccccc"]]},"fields":{}},"d_":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"!","inputs":{},"fields":{"COLORABLE_MENU":["monitor background",null]},"shadow":true},"#":{"opcode":"shovelcss_changecss","next":"%","parent":"!","inputs":{"COLORABLE":[1,"d`"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"d`":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"#","inputs":{},"fields":{"COLORABLE_MENU":["list value background",null]},"shadow":true},"%":{"opcode":"shovelcss_changecss","next":"be","parent":"#","inputs":{"COLORABLE":[1,"d{"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"d{":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"%","inputs":{},"fields":{"COLORABLE_MENU":["variable value background",null]},"shadow":true},"be":{"opcode":"shovelcss_changecss","next":null,"parent":"%","inputs":{"COLORABLE":[1,"d|"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"d|":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"be","inputs":{},"fields":{"COLORABLE_MENU":["variable value text",null]},"shadow":true},"d}":{"opcode":"event_whenflagclicked","next":"(","parent":null,"inputs":{},"fields":{},"topLevel":true},"(":{"opcode":"data_setvariableto","next":"d~","parent":"d}","inputs":{"VALUE":[2,"bf"]},"fields":{"VARIABLE":["lm?","HZriX$bbU/0Fn+gAGJ/L"]}},"bf":{"opcode":"navigatorinfo_getPreferredColorScheme","next":null,"parent":"(","inputs":{"THEME":[1,"ea"]},"fields":{}},"ea":{"opcode":"navigatorinfo_menu_THEME","next":null,"parent":"bf","inputs":{},"fields":{"THEME":["light",null]},"shadow":true},"d~":{"opcode":"data_deletealloflist","next":null,"parent":"(","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"bg":{"opcode":"procedures_definition","next":"bh","parent":null,"inputs":{"custom_block":[1,"eb"]},"fields":{},"topLevel":true},"eb":{"opcode":"procedures_prototype","next":null,"parent":"bg","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"bh":{"opcode":"data_setvariableto","next":"e","parent":"bg","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["tmp4","kiecKb_Raz?e$xLm2OTT"]}},"e":{"opcode":"control_for_each","next":"bi","parent":"bh","inputs":{"VALUE":[2,"ec"],"SUBSTACK":[2,"bj"]},"fields":{"VARIABLE":["p","H,MdXb!fA:r+(|cUAIyD"]}},"ec":{"opcode":"data_lengthoflist","next":null,"parent":"e","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"bj":{"opcode":"data_changevariableby","next":null,"parent":"e","inputs":{"VALUE":[2,"ed"]},"fields":{"VARIABLE":["tmp4","kiecKb_Raz?e$xLm2OTT"]}},"ed":{"opcode":"data_itemoflist","next":null,"parent":"bj","inputs":{"INDEX":[2,[12,"p","H,MdXb!fA:r+(|cUAIyD"]]},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"bi":{"opcode":"procedures_return","next":null,"parent":"e","inputs":{"VALUE":[2,"bk"]},"fields":{}},"bk":{"opcode":"operator_divide","next":null,"parent":"bi","inputs":{"NUM1":[2,[12,"tmp4","kiecKb_Raz?e$xLm2OTT"]],"NUM2":[2,"ee"]},"fields":{}},"ee":{"opcode":"data_lengthoflist","next":null,"parent":"bk","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"bl":{"opcode":"procedures_definition","next":"bm","parent":null,"inputs":{"custom_block":[1,"bn"]},"fields":{},"topLevel":true},"bn":{"opcode":"procedures_prototype","next":null,"parent":"bl","inputs":{"^C@~ykNFhNV,b@60bh;V":[1,"ef"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","argumentnames":"[\"info\"]","argumentdefaults":"[\"\"]","warp":"true"}},"ef":{"opcode":"argument_reporter_string_number","next":null,"parent":"bn","inputs":{},"fields":{"VALUE":["info",null]},"shadow":true},"bm":{"opcode":"data_setvariableto","next":"bo","parent":"bl","inputs":{"VALUE":[1,[10,"2"]]},"fields":{"VARIABLE":["err",":,G{P,rW+4rKp)NhO!DS"]}},"bo":{"opcode":"control_stop","next":")","parent":"bm","inputs":{},"fields":{"STOP_OPTION":["other scripts in sprite",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"true"}},")":{"opcode":"data_addtolist","next":"*","parent":"bo","inputs":{"ITEM":[2,"eg"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"eg":{"opcode":"operator_join","next":null,"parent":")","inputs":{"STRING1":[1,[10,"error on line: "]],"STRING2":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{}},"*":{"opcode":"data_addtolist","next":"bp","parent":")","inputs":{"ITEM":[2,"bq"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bq":{"opcode":"operator_join","next":null,"parent":"*","inputs":{"STRING1":[1,[10,"error: "]],"STRING2":[2,"eh"]},"fields":{}},"eh":{"opcode":"argument_reporter_string_number","next":null,"parent":"bq","inputs":{},"fields":{"VALUE":["info",null]}},"bp":{"opcode":"looks_sayforsecs","next":"+","parent":"*","inputs":{"MESSAGE":[1,[10,"ERROR check text logs"]],"SECS":[1,[4,"2"]]},"fields":{}},"+":{"opcode":"procedures_call","next":"br","parent":"bp","inputs":{"arg0":[2,"ei"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"​​log​​ %s","argumentids":"[\"arg0\"]","warp":"false"}},"ei":{"opcode":"operator_join","next":null,"parent":"+","inputs":{"STRING1":[1,[10,"error on line: "]],"STRING2":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{}},"br":{"opcode":"procedures_call","next":null,"parent":"+","inputs":{"arg0":[2,"ej"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"​​error​​ %s","argumentids":"[\"arg0\"]","warp":"false"}},"ej":{"opcode":"argument_reporter_string_number","next":null,"parent":"br","inputs":{},"fields":{"VALUE":["info",null]}},"bs":{"opcode":"procedures_definition","next":"f","parent":null,"inputs":{"custom_block":[1,"ek"]},"fields":{},"topLevel":true},"ek":{"opcode":"procedures_prototype","next":null,"parent":"bs","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd math","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"f":{"opcode":"control_if_else","next":null,"parent":"bs","inputs":{"CONDITION":[2,"bt"],"SUBSTACK":[2,"bu"],"SUBSTACK2":[2,"bv"]},"fields":{}},"bt":{"opcode":"operator_gt","next":null,"parent":"f","inputs":{"OPERAND1":[2,"bw"],"OPERAND2":[1,[10,"0"]]},"fields":{}},"bw":{"opcode":"skyhigh173JSON_json_array_itemH","next":null,"parent":"bt","inputs":{"item":[2,"el"],"json":[1,[10,"[\"+\", \"-\", \"*\", \"/\", \"%\"]"]]},"fields":{}},"el":{"opcode":"procedures_call","next":null,"parent":"bw","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bu":{"opcode":"data_setvariableto","next":null,"parent":"f","inputs":{"VALUE":[2,","]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},",":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"bu","inputs":{"item":[2,"em"],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"value":[2,"bx"]},"fields":{}},"em":{"opcode":"procedures_call","next":null,"parent":",","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bx":{"opcode":"MistiumEval_reporterBlock","next":null,"parent":",","inputs":{"CODE":[2,"-"]},"fields":{}},"-":{"opcode":"operator_join","next":null,"parent":"bx","inputs":{"STRING1":[2,"."],"STRING2":[2,"en"]},"fields":{}},".":{"opcode":"operator_join","next":null,"parent":"-","inputs":{"STRING1":[2,"eo"],"STRING2":[2,"ep"]},"fields":{}},"eo":{"opcode":"procedures_call","next":null,"parent":".","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"ep":{"opcode":"procedures_call","next":null,"parent":".","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"en":{"opcode":"procedures_call","next":null,"parent":"-","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bv":{"opcode":"procedures_call","next":null,"parent":"f","inputs":{"^C@~ykNFhNV,b@60bh;V":[2,"by"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"by":{"opcode":"operator_join","next":null,"parent":"bv","inputs":{"STRING1":[1,[10,"math error \""]],"STRING2":[2,"bz"]},"fields":{}},"bz":{"opcode":"operator_join","next":null,"parent":"by","inputs":{"STRING1":[2,"eq"],"STRING2":[1,[10,"\" is not a valid op"]]},"fields":{}},"eq":{"opcode":"procedures_call","next":null,"parent":"bz","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bA":{"opcode":"procedures_definition","next":"bB","parent":null,"inputs":{"custom_block":[1,"bC"]},"fields":{},"topLevel":true},"bC":{"opcode":"procedures_prototype","next":null,"parent":"bA","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,"er"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","argumentnames":"[\"#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"er":{"opcode":"argument_reporter_string_number","next":null,"parent":"bC","inputs":{},"fields":{"VALUE":["#",null]},"shadow":true},"bB":{"opcode":"procedures_return","next":null,"parent":"bA","inputs":{"VALUE":[2,"bD"]},"fields":{}},"bD":{"opcode":"procedures_call","next":null,"parent":"bB","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[2,"es"],"sMWSK[e`nP!.#1hm5o6[":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"es":{"opcode":"argument_reporter_string_number","next":null,"parent":"bD","inputs":{},"fields":{"VALUE":["#",null]}},"bE":{"opcode":"procedures_definition","next":"g","parent":null,"inputs":{"custom_block":[1,"et"]},"fields":{},"topLevel":true},"et":{"opcode":"procedures_prototype","next":null,"parent":"bE","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd del","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"g":{"opcode":"control_if","next":"bF","parent":"bE","inputs":{"CONDITION":[2,"bG"],"SUBSTACK":[2,"bH"]},"fields":{}},"bG":{"opcode":"operator_not","next":null,"parent":"g","inputs":{"OPERAND":[2,"bI"]},"fields":{}},"bI":{"opcode":"skyhigh173JSON_json_has_key","next":null,"parent":"bG","inputs":{"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"key":[2,"eu"]},"fields":{}},"eu":{"opcode":"procedures_call","next":null,"parent":"bI","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bH":{"opcode":"procedures_call","next":null,"parent":"g","inputs":{"ROKse:^Y5Q=vF?$G/VUI":[2,"bJ"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"warn %s","argumentids":"[\"ROKse:^Y5Q=vF?$G/VUI\"]","warp":"true"}},"bJ":{"opcode":"operator_join","next":null,"parent":"bH","inputs":{"STRING1":[2,"bK"],"STRING2":[1,[10,"\" was not ever defined or was already deleted"]]},"fields":{}},"bK":{"opcode":"operator_join","next":null,"parent":"bJ","inputs":{"STRING1":[1,[10,"box \""]],"STRING2":[2,"ev"]},"fields":{}},"ev":{"opcode":"procedures_call","next":null,"parent":"bK","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bF":{"opcode":"data_setvariableto","next":null,"parent":"g","inputs":{"VALUE":[2,"bL"]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"bL":{"opcode":"skyhigh173JSON_json_delete","next":null,"parent":"bF","inputs":{"item":[2,"ew"],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{}},"ew":{"opcode":"procedures_call","next":null,"parent":"bL","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bM":{"opcode":"procedures_definition","next":"bN","parent":null,"inputs":{"custom_block":[1,"ex"]},"fields":{},"topLevel":true},"ex":{"opcode":"procedures_prototype","next":null,"parent":"bM","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd say","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"bN":{"opcode":"lmsTimers_startResetTimer","next":"/","parent":"bM","inputs":{"TIMER":[1,[10,"say"]]},"fields":{}},"/":{"opcode":"data_addtolist","next":"h","parent":"bN","inputs":{"ITEM":[2,"ey"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"ey":{"opcode":"procedures_call","next":null,"parent":"/","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"h":{"opcode":"control_if","next":"bO","parent":"/","inputs":{"CONDITION":[2,"ez"],"SUBSTACK":[2,":"]},"fields":{}},"ez":{"opcode":"operator_equals","next":null,"parent":"h","inputs":{"OPERAND1":[2,[12,"mode","Njau~Rd+?m4v*qz$JPRw"]],"OPERAND2":[1,[10,"0"]]},"fields":{}},":":{"opcode":"looks_sayforsecs","next":null,"parent":"h","inputs":{"MESSAGE":[2,"eA"],"SECS":[2,"eB"]},"fields":{}},"eA":{"opcode":"procedures_call","next":null,"parent":":","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"eB":{"opcode":"procedures_call","next":null,"parent":":","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bO":{"opcode":"control_wait_until","next":null,"parent":"h","inputs":{"CONDITION":[2,";"]},"fields":{}},";":{"opcode":"operator_gt","next":null,"parent":"bO","inputs":{"OPERAND1":[2,"eC"],"OPERAND2":[2,"eD"]},"fields":{}},"eC":{"opcode":"lmsTimers_valueOfTimer","next":null,"parent":";","inputs":{"TIMER":[1,[10,"say"]]},"fields":{}},"eD":{"opcode":"procedures_call","next":null,"parent":";","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bP":{"opcode":"procedures_definition","next":"b","parent":null,"inputs":{"custom_block":[1,"eE"]},"fields":{},"topLevel":true},"eE":{"opcode":"procedures_prototype","next":null,"parent":"bP","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd ask","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"false"}},"b":{"opcode":"control_if_else","next":"eF","parent":"bP","inputs":{"CONDITION":[2,"eG"],"SUBSTACK":[2,"bQ"],"SUBSTACK2":[2,"bR"]},"fields":{}},"eG":{"opcode":"operator_equals","next":null,"parent":"b","inputs":{"OPERAND1":[2,[12,"mode","Njau~Rd+?m4v*qz$JPRw"]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"bQ":{"opcode":"data_addtolist","next":"bS","parent":"b","inputs":{"ITEM":[1,[10,"|"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bS":{"opcode":"MistKeyHistoryExtension_deleteAllKeys","next":"i","parent":"bQ","inputs":{},"fields":{}},"i":{"opcode":"control_repeat_until","next":"j","parent":"bS","inputs":{"CONDITION":[2,"eH"],"SUBSTACK":[2,"bT"]},"fields":{}},"eH":{"opcode":"mobilekeyboard0419_isKeyboardOpen","next":null,"parent":"i","inputs":{},"fields":{}},"bT":{"opcode":"mobilekeyboard0419_showKeyboardBlock","next":null,"parent":"i","inputs":{"TYPE":[1,"eI"]},"fields":{}},"eI":{"opcode":"mobilekeyboard0419_menu_keyboardtypes","next":null,"parent":"bT","inputs":{},"fields":{"keyboardtypes":["alphabetical",null]},"shadow":true},"j":{"opcode":"control_repeat_until","next":"k","parent":"i","inputs":{"CONDITION":[2,"bU"],"SUBSTACK":[2,"="]},"fields":{}},"bU":{"opcode":"operator_not","next":null,"parent":"j","inputs":{"OPERAND":[2,"eJ"]},"fields":{}},"eJ":{"opcode":"mobilekeyboard0419_isKeyboardOpen","next":null,"parent":"bU","inputs":{},"fields":{}},"=":{"opcode":"data_setvariableto","next":"?","parent":"j","inputs":{"VALUE":[2,"eK"]},"fields":{"VARIABLE":["tmp5","c3iI[Usk,NCBHtSp@p!Z"]}},"eK":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"=","inputs":{},"fields":{}},"?":{"opcode":"data_setvariableto","next":"@","parent":"=","inputs":{"VALUE":[2,"["]},"fields":{"VARIABLE":["tmp5","c3iI[Usk,NCBHtSp@p!Z"]}},"[":{"opcode":"operator_join","next":null,"parent":"?","inputs":{"STRING1":[2,"bV"],"STRING2":[2,"]"]},"fields":{}},"bV":{"opcode":"strings_letters_of","next":null,"parent":"[","inputs":{"LETTER1":[1,[4,"1"]],"LETTER2":[2,"eL"],"STRING":[2,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"]]},"fields":{}},"eL":{"opcode":"mobilekeyboard0419_getCursorPosition","next":null,"parent":"bV","inputs":{},"fields":{}},"]":{"opcode":"operator_join","next":null,"parent":"[","inputs":{"STRING1":[2,"^"],"STRING2":[2,"_"]},"fields":{}},"^":{"opcode":"utilities_ternaryOperator","next":null,"parent":"]","inputs":{"A":[2,"bW"],"B":[2,"eM"],"C":[1,[10,"|"]]},"fields":{}},"bW":{"opcode":"operator_equals","next":null,"parent":"^","inputs":{"OPERAND1":[2,"bX"],"OPERAND2":[1,[10,"1"]]},"fields":{}},"bX":{"opcode":"operator_length","next":null,"parent":"bW","inputs":{"STRING":[2,"eN"]},"fields":{}},"eN":{"opcode":"procedures_call","next":null,"parent":"bX","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"eM":{"opcode":"procedures_call","next":null,"parent":"^","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"_":{"opcode":"strings_letters_of","next":null,"parent":"]","inputs":{"LETTER1":[2,"bY"],"LETTER2":[2,"eO"],"STRING":[2,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"]]},"fields":{}},"bY":{"opcode":"operator_add","next":null,"parent":"_","inputs":{"NUM1":[2,"eP"],"NUM2":[1,[4,"1"]]},"fields":{}},"eP":{"opcode":"mobilekeyboard0419_getCursorPosition","next":null,"parent":"bY","inputs":{},"fields":{}},"eO":{"opcode":"operator_length","next":null,"parent":"_","inputs":{"STRING":[2,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"]]},"fields":{}},"@":{"opcode":"data_replaceitemoflist","next":null,"parent":"?","inputs":{"INDEX":[2,"eQ"],"ITEM":[2,"bZ"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"eQ":{"opcode":"data_lengthoflist","next":null,"parent":"@","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bZ":{"opcode":"operator_join","next":null,"parent":"@","inputs":{"STRING1":[2,"b!"],"STRING2":[2,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"]]},"fields":{}},"b!":{"opcode":"operator_join","next":null,"parent":"bZ","inputs":{"STRING1":[2,"eR"],"STRING2":[1,[10,"  : "]]},"fields":{}},"eR":{"opcode":"procedures_call","next":null,"parent":"b!","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"k":{"opcode":"data_replaceitemoflist","next":"b#","parent":"j","inputs":{"INDEX":[2,"eS"],"ITEM":[2,"`"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"eS":{"opcode":"data_lengthoflist","next":null,"parent":"k","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"`":{"opcode":"operator_join","next":null,"parent":"k","inputs":{"STRING1":[2,"b%"],"STRING2":[2,"eT"]},"fields":{}},"b%":{"opcode":"operator_join","next":null,"parent":"`","inputs":{"STRING1":[2,"eU"],"STRING2":[1,[10,"  : "]]},"fields":{}},"eU":{"opcode":"procedures_call","next":null,"parent":"b%","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"eT":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"`","inputs":{},"fields":{}},"b#":{"opcode":"data_setvariableto","next":null,"parent":"k","inputs":{"VALUE":[2,"{"]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"{":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"b#","inputs":{"item":[2,"b("],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"value":[2,"eV"]},"fields":{}},"b(":{"opcode":"strings_reverse","next":null,"parent":"{","inputs":{"STRING":[2,"b)"]},"fields":{}},"b)":{"opcode":"strings_split","next":null,"parent":"b(","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,"b*"],"SPLIT":[1,[10," "]]},"fields":{}},"b*":{"opcode":"strings_reverse","next":null,"parent":"b)","inputs":{"STRING":[2,"eW"]},"fields":{}},"eW":{"opcode":"procedures_call","next":null,"parent":"b*","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"eV":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"{","inputs":{},"fields":{}},"bR":{"opcode":"data_addtolist","next":"|","parent":"b","inputs":{"ITEM":[1,[10,"|"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"|":{"opcode":"sensing_askandwait","next":"l","parent":"bR","inputs":{"QUESTION":[2,"eX"]},"fields":{}},"eX":{"opcode":"procedures_call","next":null,"parent":"|","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"l":{"opcode":"data_replaceitemoflist","next":"b+","parent":"|","inputs":{"INDEX":[2,"eY"],"ITEM":[2,"}"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"eY":{"opcode":"data_lengthoflist","next":null,"parent":"l","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"}":{"opcode":"operator_join","next":null,"parent":"l","inputs":{"STRING1":[2,"b,"],"STRING2":[2,"eZ"]},"fields":{}},"b,":{"opcode":"operator_join","next":null,"parent":"}","inputs":{"STRING1":[2,"e!"],"STRING2":[1,[10,"  : "]]},"fields":{}},"e!":{"opcode":"procedures_call","next":null,"parent":"b,","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"eZ":{"opcode":"sensing_answer","next":null,"parent":"}","inputs":{},"fields":{}},"b+":{"opcode":"data_setvariableto","next":null,"parent":"l","inputs":{"VALUE":[2,"~"]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"~":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"b+","inputs":{"item":[2,"b-"],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"value":[2,"e#"]},"fields":{}},"b-":{"opcode":"strings_reverse","next":null,"parent":"~","inputs":{"STRING":[2,"b."]},"fields":{}},"b.":{"opcode":"strings_split","next":null,"parent":"b-","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,"b/"],"SPLIT":[1,[10," "]]},"fields":{}},"b/":{"opcode":"strings_reverse","next":null,"parent":"b.","inputs":{"STRING":[2,"e%"]},"fields":{}},"e%":{"opcode":"procedures_call","next":null,"parent":"b/","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e#":{"opcode":"sensing_answer","next":null,"parent":"~","inputs":{},"fields":{}},"eF":{"opcode":"control_wait","next":null,"parent":"b","inputs":{"DURATION":[1,[5,"0.01"]]},"fields":{}},"b:":{"opcode":"procedures_definition","next":"b;","parent":null,"inputs":{"custom_block":[1,"e("]},"fields":{},"topLevel":true},"e(":{"opcode":"procedures_prototype","next":null,"parent":"b:","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd box","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"b;":{"opcode":"data_setvariableto","next":null,"parent":"b:","inputs":{"VALUE":[2,"aa"]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"aa":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"b;","inputs":{"item":[2,"e)"],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"value":[2,"e*"]},"fields":{}},"e)":{"opcode":"procedures_call","next":null,"parent":"aa","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e*":{"opcode":"procedures_call","next":null,"parent":"aa","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"b=":{"opcode":"procedures_definition","next":"m","parent":null,"inputs":{"custom_block":[1,"e+"]},"fields":{},"topLevel":true},"e+":{"opcode":"procedures_prototype","next":null,"parent":"b=","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd test","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"m":{"opcode":"control_if_else","next":null,"parent":"b=","inputs":{"CONDITION":[2,"b?"],"SUBSTACK":[2,"b@"],"SUBSTACK2":[2,"b["]},"fields":{}},"b?":{"opcode":"operator_gt","next":null,"parent":"m","inputs":{"OPERAND1":[2,"b]"],"OPERAND2":[1,[10,"0"]]},"fields":{}},"b]":{"opcode":"skyhigh173JSON_json_array_itemH","next":null,"parent":"b?","inputs":{"item":[2,"e,"],"json":[1,[10,"[\">\",\"<\",\">=\",\"<=\",\"==\",\"!=\"]"]]},"fields":{}},"e,":{"opcode":"procedures_call","next":null,"parent":"b]","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"b@":{"opcode":"data_setvariableto","next":null,"parent":"m","inputs":{"VALUE":[2,"ab"]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"ab":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"b@","inputs":{"item":[2,"e-"],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]],"value":[2,"n"]},"fields":{}},"e-":{"opcode":"procedures_call","next":null,"parent":"ab","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"n":{"opcode":"utilities_ternaryOperator","next":null,"parent":"ab","inputs":{"A":[2,"ac"],"B":[2,"e."],"C":[2,"e/"]},"fields":{}},"ac":{"opcode":"lmsCast_toType","next":null,"parent":"n","inputs":{"INPUT":[2,"b^"],"TYPE":[1,"e:"]},"fields":{}},"b^":{"opcode":"MistiumEval_reporterBlock","next":null,"parent":"ac","inputs":{"CODE":[2,"ad"]},"fields":{}},"ad":{"opcode":"operator_join","next":null,"parent":"b^","inputs":{"STRING1":[2,"ae"],"STRING2":[2,"e;"]},"fields":{}},"ae":{"opcode":"operator_join","next":null,"parent":"ad","inputs":{"STRING1":[2,"e="],"STRING2":[2,"e?"]},"fields":{}},"e=":{"opcode":"procedures_call","next":null,"parent":"ae","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e?":{"opcode":"procedures_call","next":null,"parent":"ae","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e;":{"opcode":"procedures_call","next":null,"parent":"ad","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e:":{"opcode":"lmsCast_menu_type","next":null,"parent":"ac","inputs":{},"fields":{"type":["boolean",null]},"shadow":true},"e.":{"opcode":"procedures_call","next":null,"parent":"n","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"5"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e/":{"opcode":"procedures_call","next":null,"parent":"n","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"6"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"b[":{"opcode":"procedures_call","next":null,"parent":"m","inputs":{"^C@~ykNFhNV,b@60bh;V":[2,"b_"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"b_":{"opcode":"operator_join","next":null,"parent":"b[","inputs":{"STRING1":[1,[10,"test error \""]],"STRING2":[2,"b`"]},"fields":{}},"b`":{"opcode":"operator_join","next":null,"parent":"b_","inputs":{"STRING1":[2,"e@"],"STRING2":[1,[10,"\" is not a valid op"]]},"fields":{}},"e@":{"opcode":"procedures_call","next":null,"parent":"b`","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"b{":{"opcode":"procedures_definition","next":"o","parent":null,"inputs":{"custom_block":[1,"e["]},"fields":{},"topLevel":true},"e[":{"opcode":"procedures_prototype","next":null,"parent":"b{","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd wait","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"o":{"opcode":"control_if_else","next":null,"parent":"b{","inputs":{"CONDITION":[2,"b|"],"SUBSTACK":[2,"b}"],"SUBSTACK2":[2,"p"]},"fields":{}},"b|":{"opcode":"operator_lt","next":null,"parent":"o","inputs":{"OPERAND1":[1,[10,"0"]],"OPERAND2":[2,"e]"]},"fields":{}},"e]":{"opcode":"procedures_call","next":null,"parent":"b|","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"b}":{"opcode":"lmsTimers_startResetTimer","next":"b~","parent":"o","inputs":{"TIMER":[1,[10,"wait"]]},"fields":{}},"b~":{"opcode":"control_wait_until","next":null,"parent":"b}","inputs":{"CONDITION":[2,"af"]},"fields":{}},"af":{"opcode":"operator_gt","next":null,"parent":"b~","inputs":{"OPERAND1":[2,"e^"],"OPERAND2":[2,"e_"]},"fields":{}},"e^":{"opcode":"lmsTimers_valueOfTimer","next":null,"parent":"af","inputs":{"TIMER":[1,[10,"wait"]]},"fields":{}},"e_":{"opcode":"procedures_call","next":null,"parent":"af","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"p":{"opcode":"control_if_else","next":null,"parent":"o","inputs":{"CONDITION":[2,"ca"],"SUBSTACK":[2,"e`"],"SUBSTACK2":[2,"e{"]},"fields":{}},"ca":{"opcode":"operator_gt","next":null,"parent":"p","inputs":{"OPERAND1":[1,[10,"0"]],"OPERAND2":[2,"e|"]},"fields":{}},"e|":{"opcode":"procedures_call","next":null,"parent":"ca","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"e`":{"opcode":"procedures_call","next":null,"parent":"p","inputs":{"^C@~ykNFhNV,b@60bh;V":[1,[10,"time is negative"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"e{":{"opcode":"procedures_call","next":null,"parent":"p","inputs":{"^C@~ykNFhNV,b@60bh;V":[1,[10,"time is to short"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"cb":{"opcode":"procedures_definition","next":"cc","parent":null,"inputs":{"custom_block":[1,"e}"]},"fields":{},"topLevel":true},"e}":{"opcode":"procedures_prototype","next":null,"parent":"cb","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"runcode","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"false"}},"cc":{"opcode":"data_setvariableto","next":"cd","parent":"cb","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["err",":,G{P,rW+4rKp)NhO!DS"]}},"cd":{"opcode":"data_setvariableto","next":"ce","parent":"cc","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["runing?","M+@({_-]oELA*M8.S0(O"]}},"ce":{"opcode":"data_setvariableto","next":"cf","parent":"cd","inputs":{"VALUE":[1,[10,"{}"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"cf":{"opcode":"data_setvariableto","next":"cg","parent":"ce","inputs":{"VALUE":[1,[10,"{}"]]},"fields":{"VARIABLE":["marks",".wHN;MjS*PQ0k+?2+~ZL"]}},"cg":{"opcode":"data_deletealloflist","next":"ch","parent":"cf","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"ch":{"opcode":"data_deletealloflist","next":"ci","parent":"cg","inputs":{},"fields":{"LIST":["sysboxes","x8|?*hFXFZ#24tkWdW#A"]}},"ci":{"opcode":"data_setvariableto","next":"q","parent":"ch","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]}},"q":{"opcode":"control_repeat_until","next":"e~","parent":"ci","inputs":{"CONDITION":[2,"ag"],"SUBSTACK":[2,"cj"]},"fields":{}},"ag":{"opcode":"operator_or","next":null,"parent":"q","inputs":{"OPERAND1":[2,"fa"],"OPERAND2":[2,"ck"]},"fields":{}},"fa":{"opcode":"operator_gt","next":null,"parent":"ag","inputs":{"OPERAND1":[2,[12,"err",":,G{P,rW+4rKp)NhO!DS"]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"ck":{"opcode":"operator_gt","next":null,"parent":"ag","inputs":{"OPERAND1":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]],"OPERAND2":[2,"fb"]},"fields":{}},"fb":{"opcode":"data_lengthoflist","next":null,"parent":"ck","inputs":{},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"cj":{"opcode":"data_changevariableby","next":"cl","parent":"q","inputs":{"VALUE":[1,[4,"1"]]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]}},"cl":{"opcode":"procedures_call","next":null,"parent":"cj","inputs":{"P5+@.@Rg|Kz1n2RAh|I]":[2,"fc"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"main handle command %s","argumentids":"[\"P5+@.@Rg|Kz1n2RAh|I]\"]","warp":"false"}},"fc":{"opcode":"data_itemoflist","next":null,"parent":"cl","inputs":{"INDEX":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"e~":{"opcode":"data_setvariableto","next":null,"parent":"q","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["runing?","M+@({_-]oELA*M8.S0(O"]}},"cm":{"opcode":"lmsMoreEvents_whileTrueFalse","next":"cn","parent":null,"inputs":{"CONDITION":[2,"fd"]},"fields":{"STATE":["false",null]},"topLevel":true},"fd":{"opcode":"xmerclosecontrol_getControl","next":null,"parent":"cm","inputs":{},"fields":{}},"cn":{"opcode":"xmerclosecontrol_setControl","next":null,"parent":"cm","inputs":{"OPTION":[1,"fe"]},"fields":{}},"fe":{"opcode":"xmerclosecontrol_menu_option","next":null,"parent":"cn","inputs":{},"fields":{"option":["true",null]},"shadow":true},"co":{"opcode":"procedures_definition","next":"r","parent":null,"inputs":{"custom_block":[1,"cp"]},"fields":{},"topLevel":true},"cp":{"opcode":"procedures_prototype","next":null,"parent":"co","inputs":{"P5+@.@Rg|Kz1n2RAh|I]":[1,"ff"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"main handle command %s","argumentids":"[\"P5+@.@Rg|Kz1n2RAh|I]\"]","argumentnames":"[\"command\"]","argumentdefaults":"[\"\"]","warp":"false"}},"ff":{"opcode":"argument_reporter_string_number","next":null,"parent":"cp","inputs":{},"fields":{"VALUE":["command",null]},"shadow":true},"r":{"opcode":"control_if","next":"ah","parent":"co","inputs":{"CONDITION":[2,"cq"],"SUBSTACK":[2,"cr"]},"fields":{}},"cq":{"opcode":"lmsCast_toType","next":null,"parent":"r","inputs":{"INPUT":[2,[12,"dbg","2maV#B{H)X?Rp`H}_]+:"]],"TYPE":[1,"fg"]},"fields":{}},"fg":{"opcode":"lmsCast_menu_type","next":null,"parent":"cq","inputs":{},"fields":{"type":["boolean",null]},"shadow":true},"cr":{"opcode":"procedures_call","next":null,"parent":"r","inputs":{"arg0":[2,"fh"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"​​log​​ %s","argumentids":"[\"arg0\"]","warp":"false"}},"fh":{"opcode":"argument_reporter_string_number","next":null,"parent":"cr","inputs":{},"fields":{"VALUE":["command",null]}},"ah":{"opcode":"control_switch","next":null,"parent":"r","inputs":{"VALUE":[2,"cs"],"SUBSTACK":[2,"ct"]},"fields":{}},"cs":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"ah","inputs":{"item":[1,[10,"cmd"]],"json":[2,"fi"]},"fields":{}},"fi":{"opcode":"argument_reporter_string_number","next":null,"parent":"cs","inputs":{},"fields":{"VALUE":["command",null]}},"ct":{"opcode":"control_case_fallthrough","next":"ai","parent":"ah","inputs":{"VALUE":[1,[10,"b"]]},"fields":{}},"ai":{"opcode":"control_case","next":"cu","parent":"ct","inputs":{"VALUE":[1,[10,"box"]],"SUBSTACK":[2,"fj"]},"fields":{}},"fj":{"opcode":"procedures_call","next":null,"parent":"ai","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd box","argumentids":"[]","warp":"true"}},"cu":{"opcode":"control_case_fallthrough","next":"aj","parent":"ai","inputs":{"VALUE":[1,[10,"a"]]},"fields":{}},"aj":{"opcode":"control_case","next":"cv","parent":"cu","inputs":{"VALUE":[1,[10,"ask"]],"SUBSTACK":[2,"fk"]},"fields":{}},"fk":{"opcode":"procedures_call","next":null,"parent":"aj","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd ask","argumentids":"[]","warp":"false"}},"cv":{"opcode":"control_case_fallthrough","next":"ak","parent":"aj","inputs":{"VALUE":[1,[10,"s"]]},"fields":{}},"ak":{"opcode":"control_case","next":"cw","parent":"cv","inputs":{"VALUE":[1,[10,"say"]],"SUBSTACK":[2,"fl"]},"fields":{}},"fl":{"opcode":"procedures_call","next":null,"parent":"ak","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd say","argumentids":"[]","warp":"true"}},"cw":{"opcode":"control_case_fallthrough","next":"al","parent":"ak","inputs":{"VALUE":[1,[10,"d"]]},"fields":{}},"al":{"opcode":"control_case","next":"cx","parent":"cw","inputs":{"VALUE":[1,[10,"del"]],"SUBSTACK":[2,"fm"]},"fields":{}},"fm":{"opcode":"procedures_call","next":null,"parent":"al","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd del","argumentids":"[]","warp":"true"}},"cx":{"opcode":"control_case_fallthrough","next":"am","parent":"al","inputs":{"VALUE":[1,[10,"m"]]},"fields":{}},"am":{"opcode":"control_case","next":"cy","parent":"cx","inputs":{"VALUE":[1,[10,"math"]],"SUBSTACK":[2,"fn"]},"fields":{}},"fn":{"opcode":"procedures_call","next":null,"parent":"am","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd math","argumentids":"[]","warp":"true"}},"cy":{"opcode":"control_case_fallthrough","next":"an","parent":"am","inputs":{"VALUE":[1,[10,"t"]]},"fields":{}},"an":{"opcode":"control_case","next":"cz","parent":"cy","inputs":{"VALUE":[1,[10,"test"]],"SUBSTACK":[2,"fo"]},"fields":{}},"fo":{"opcode":"procedures_call","next":null,"parent":"an","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd test","argumentids":"[]","warp":"true"}},"cz":{"opcode":"control_case_fallthrough","next":"ao","parent":"an","inputs":{"VALUE":[1,[10,"w"]]},"fields":{}},"ao":{"opcode":"control_case","next":"cA","parent":"cz","inputs":{"VALUE":[1,[10,"wait"]],"SUBSTACK":[2,"fp"]},"fields":{}},"fp":{"opcode":"procedures_call","next":null,"parent":"ao","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd wait","argumentids":"[]","warp":"true"}},"cA":{"opcode":"control_case_fallthrough","next":"ap","parent":"ao","inputs":{"VALUE":[1,[10,"m"]]},"fields":{}},"ap":{"opcode":"control_case","next":"cB","parent":"cA","inputs":{"VALUE":[1,[10,"mark"]],"SUBSTACK":[2,"fq"]},"fields":{}},"fq":{"opcode":"procedures_call","next":null,"parent":"ap","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd mark","argumentids":"[]","warp":"true"}},"cB":{"opcode":"control_case_fallthrough","next":"aq","parent":"ap","inputs":{"VALUE":[1,[10,"j"]]},"fields":{}},"aq":{"opcode":"control_case","next":"cC","parent":"cB","inputs":{"VALUE":[1,[10,"jump"]],"SUBSTACK":[2,"fr"]},"fields":{}},"fr":{"opcode":"procedures_call","next":null,"parent":"aq","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd jump","argumentids":"[]","warp":"true"}},"cC":{"opcode":"control_case_fallthrough","next":"cD","parent":"aq","inputs":{"VALUE":[1,[10,"i"]]},"fields":{}},"cD":{"opcode":"control_case","next":null,"parent":"cC","inputs":{"VALUE":[1,[10,"if"]],"SUBSTACK":[2,"fs"]},"fields":{}},"fs":{"opcode":"procedures_call","next":null,"parent":"cD","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd if","argumentids":"[]","warp":"false"}},"cE":{"opcode":"procedures_definition","next":"s","parent":null,"inputs":{"custom_block":[1,"ft"]},"fields":{},"topLevel":true},"ft":{"opcode":"procedures_prototype","next":null,"parent":"cE","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd if","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"false"}},"s":{"opcode":"control_if_else","next":null,"parent":"cE","inputs":{"CONDITION":[2,"cF"],"SUBSTACK":[2,"ar"],"SUBSTACK2":[2,"cG"]},"fields":{}},"cF":{"opcode":"operator_gt","next":null,"parent":"s","inputs":{"OPERAND1":[2,"cH"],"OPERAND2":[1,[10,"0"]]},"fields":{}},"cH":{"opcode":"skyhigh173JSON_json_array_itemH","next":null,"parent":"cF","inputs":{"item":[2,"fu"],"json":[1,[10,"[\">\",\"<\",\">=\",\"<=\",\"==\",\"!=\"]"]]},"fields":{}},"fu":{"opcode":"procedures_call","next":null,"parent":"cH","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"ar":{"opcode":"control_if","next":null,"parent":"s","inputs":{"CONDITION":[2,"as"],"SUBSTACK":[2,"at"]},"fields":{}},"as":{"opcode":"lmsCast_toType","next":null,"parent":"ar","inputs":{"INPUT":[2,"cI"],"TYPE":[1,"fv"]},"fields":{}},"cI":{"opcode":"MistiumEval_reporterBlock","next":null,"parent":"as","inputs":{"CODE":[2,"au"]},"fields":{}},"au":{"opcode":"operator_join","next":null,"parent":"cI","inputs":{"STRING1":[2,"av"],"STRING2":[2,"fw"]},"fields":{}},"av":{"opcode":"operator_join","next":null,"parent":"au","inputs":{"STRING1":[2,"fx"],"STRING2":[2,"fy"]},"fields":{}},"fx":{"opcode":"procedures_call","next":null,"parent":"av","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"fy":{"opcode":"procedures_call","next":null,"parent":"av","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"fw":{"opcode":"procedures_call","next":null,"parent":"au","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"fv":{"opcode":"lmsCast_menu_type","next":null,"parent":"as","inputs":{},"fields":{"type":["boolean",null]},"shadow":true},"at":{"opcode":"data_setvariableto","next":"cJ","parent":"ar","inputs":{"VALUE":[2,"aw"]},"fields":{"VARIABLE":["tmp6",".4H@;-AuG2Qb}J3i=AVB"]}},"aw":{"opcode":"operator_join","next":null,"parent":"at","inputs":{"STRING1":[2,"cK"],"STRING2":[2,"ax"]},"fields":{}},"cK":{"opcode":"operator_join","next":null,"parent":"aw","inputs":{"STRING1":[2,"fz"],"STRING2":[1,[10," "]]},"fields":{}},"fz":{"opcode":"procedures_call","next":null,"parent":"cK","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"ax":{"opcode":"operator_join","next":null,"parent":"aw","inputs":{"STRING1":[2,"fA"],"STRING2":[2,"ay"]},"fields":{}},"fA":{"opcode":"procedures_call","next":null,"parent":"ax","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"5"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"ay":{"opcode":"operator_join","next":null,"parent":"ax","inputs":{"STRING1":[2,"cL"],"STRING2":[2,"cM"]},"fields":{}},"cL":{"opcode":"operator_join","next":null,"parent":"ay","inputs":{"STRING1":[1,[10,"|"]],"STRING2":[2,"fB"]},"fields":{}},"fB":{"opcode":"procedures_call","next":null,"parent":"cL","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"6"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"cM":{"opcode":"operator_join","next":null,"parent":"ay","inputs":{"STRING1":[1,[10,"|"]],"STRING2":[2,"az"]},"fields":{}},"az":{"opcode":"operator_join","next":null,"parent":"cM","inputs":{"STRING1":[2,"fC"],"STRING2":[2,"cN"]},"fields":{}},"fC":{"opcode":"procedures_call","next":null,"parent":"az","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"7"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"cN":{"opcode":"operator_join","next":null,"parent":"az","inputs":{"STRING1":[1,[10,"|"]],"STRING2":[2,"fD"]},"fields":{}},"fD":{"opcode":"procedures_call","next":null,"parent":"cN","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"8"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"cJ":{"opcode":"procedures_call","next":null,"parent":"at","inputs":{"P5+@.@Rg|Kz1n2RAh|I]":[2,"aA"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"main handle command %s","argumentids":"[\"P5+@.@Rg|Kz1n2RAh|I]\"]","warp":"false"}},"aA":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"cJ","inputs":{"item":[1,[10,"args"]],"json":[2,"cO"],"value":[2,"fE"]},"fields":{}},"cO":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"aA","inputs":{"item":[1,[10,"cmd"]],"json":[1,[10,"{}"]],"value":[2,"fF"]},"fields":{}},"fF":{"opcode":"procedures_call","next":null,"parent":"cO","inputs":{"tx=G`+RuTkIT/GbZ.p26":[2,[12,"tmp6",".4H@;-AuG2Qb}J3i=AVB"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","warp":"true","return":"1"}},"fE":{"opcode":"procedures_call","next":null,"parent":"aA","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[2,[12,"tmp6",".4H@;-AuG2Qb}J3i=AVB"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","warp":"true","return":"1"}},"cG":{"opcode":"procedures_call","next":null,"parent":"s","inputs":{"^C@~ykNFhNV,b@60bh;V":[2,"cP"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"cP":{"opcode":"operator_join","next":null,"parent":"cG","inputs":{"STRING1":[1,[10,"if error \""]],"STRING2":[2,"cQ"]},"fields":{}},"cQ":{"opcode":"operator_join","next":null,"parent":"cP","inputs":{"STRING1":[2,"fG"],"STRING2":[1,[10,"\" is not a valid op"]]},"fields":{}},"fG":{"opcode":"procedures_call","next":null,"parent":"cQ","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"cR":{"opcode":"procedures_definition","next":"cS","parent":null,"inputs":{"custom_block":[1,"fH"]},"fields":{},"topLevel":true},"fH":{"opcode":"procedures_prototype","next":null,"parent":"cR","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd addsysbx","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"cS":{"opcode":"data_addtolist","next":null,"parent":"cR","inputs":{"ITEM":[2,"fI"]},"fields":{"LIST":["sysboxes","x8|?*hFXFZ#24tkWdW#A"]}},"fI":{"opcode":"procedures_call","next":null,"parent":"cS","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"fJ":{"opcode":"event_whenflagclicked","next":"cT","parent":null,"inputs":{},"fields":{},"topLevel":true},"cT":{"opcode":"data_deletealloflist","next":"cU","parent":"fJ","inputs":{},"fields":{"LIST":["[debug]","_Im,zJg}7i]sA]LkT)iJ"]}},"cU":{"opcode":"data_deletealloflist","next":"cV","parent":"cT","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"cV":{"opcode":"data_deletealloflist","next":"cW","parent":"cU","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"cW":{"opcode":"data_deletealloflist","next":"fK","parent":"cV","inputs":{},"fields":{"LIST":["sysboxes","x8|?*hFXFZ#24tkWdW#A"]}},"fK":{"opcode":"data_setvariableto","next":null,"parent":"cW","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["runing?","M+@({_-]oELA*M8.S0(O"]}},"cX":{"opcode":"procedures_definition","next":"cY","parent":null,"inputs":{"custom_block":[1,"aB"]},"fields":{},"topLevel":true},"aB":{"opcode":"procedures_prototype","next":null,"parent":"cX","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,"fL"],"sMWSK[e`nP!.#1hm5o6[":[1,"fM"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","argumentnames":"[\"input#\",\"line#\"]","argumentdefaults":"[\"\",\"\"]","warp":"true"}},"fL":{"opcode":"argument_reporter_string_number","next":null,"parent":"aB","inputs":{},"fields":{"VALUE":["input#",null]},"shadow":true},"fM":{"opcode":"argument_reporter_string_number","next":null,"parent":"aB","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"cY":{"opcode":"procedures_return","next":null,"parent":"cX","inputs":{"VALUE":[2,"cZ"]},"fields":{}},"cZ":{"opcode":"procedures_call","next":null,"parent":"cY","inputs":{"RTR2*3KVWkD)pO1G4:X%":[2,"aC"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get box data %s","argumentids":"[\"RTR2*3KVWkD)pO1G4:X%\"]","warp":"true","return":"1"}},"aC":{"opcode":"skyhigh173JSON_json_array_get","next":null,"parent":"cZ","inputs":{"item":[2,"fN"],"json":[2,"c!"]},"fields":{}},"fN":{"opcode":"argument_reporter_string_number","next":null,"parent":"aC","inputs":{},"fields":{"VALUE":["input#",null]}},"c!":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"aC","inputs":{"item":[1,[10,"args"]],"json":[2,"c#"]},"fields":{}},"c#":{"opcode":"data_itemoflist","next":null,"parent":"c!","inputs":{"INDEX":[2,"fO"]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"fO":{"opcode":"argument_reporter_string_number","next":null,"parent":"c#","inputs":{},"fields":{"VALUE":["line#",null]}},"c%":{"opcode":"procedures_definition","next":"c(","parent":null,"inputs":{"custom_block":[1,"c)"]},"fields":{},"topLevel":true},"c)":{"opcode":"procedures_prototype","next":null,"parent":"c%","inputs":{"tx=G`+RuTkIT/GbZ.p26":[1,"fP"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","argumentnames":"[\"line#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"fP":{"opcode":"argument_reporter_string_number","next":null,"parent":"c)","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"c(":{"opcode":"procedures_return","next":null,"parent":"c%","inputs":{"VALUE":[2,"c*"]},"fields":{}},"c*":{"opcode":"strings_split","next":null,"parent":"c(","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,"fQ"],"SPLIT":[1,[10," "]]},"fields":{}},"fQ":{"opcode":"argument_reporter_string_number","next":null,"parent":"c*","inputs":{},"fields":{"VALUE":["line#",null]}},"c+":{"opcode":"procedures_definition","next":"aD","parent":null,"inputs":{"custom_block":[1,"c,"]},"fields":{},"topLevel":true},"c,":{"opcode":"procedures_prototype","next":null,"parent":"c+","inputs":{"RTR2*3KVWkD)pO1G4:X%":[1,"fR"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get box data %s","argumentids":"[\"RTR2*3KVWkD)pO1G4:X%\"]","argumentnames":"[\"data\"]","argumentdefaults":"[\"\",\"\",\"\"]","warp":"true"}},"fR":{"opcode":"argument_reporter_string_number","next":null,"parent":"c,","inputs":{},"fields":{"VALUE":["data",null]},"shadow":true},"aD":{"opcode":"data_setvariableto","next":"t","parent":"c+","inputs":{"VALUE":[2,"fS"]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"fS":{"opcode":"argument_reporter_string_number","next":null,"parent":"aD","inputs":{},"fields":{"VALUE":["data",null]}},"t":{"opcode":"control_for_each","next":"u","parent":"aD","inputs":{"VALUE":[2,"c-"],"SUBSTACK":[2,"aE"]},"fields":{"VARIABLE":["j","npUY#k@VmQF+eQ;Grb`b"]}},"c-":{"opcode":"operator_add","next":null,"parent":"t","inputs":{"NUM1":[1,[4,"1"]],"NUM2":[2,"fT"]},"fields":{}},"fT":{"opcode":"strings_count","next":null,"parent":"c-","inputs":{"SUBSTRING":[1,[10,"$"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"aE":{"opcode":"data_setvariableto","next":"aF","parent":"t","inputs":{"VALUE":[2,"c."]},"fields":{"VARIABLE":["tmp","*6drhXP:uEQ|CIv1S8w@"]}},"c.":{"opcode":"strings_split","next":null,"parent":"aE","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,"c/"],"SPLIT":[1,[10,"~"]]},"fields":{}},"c/":{"opcode":"strings_split","next":null,"parent":"c.","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,"c:"],"SPLIT":[1,[10,":"]]},"fields":{}},"c:":{"opcode":"strings_split","next":null,"parent":"c/","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,"fU"],"SPLIT":[1,[10," "]]},"fields":{}},"fU":{"opcode":"strings_split","next":null,"parent":"c:","inputs":{"ITEM":[1,[4,"2"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]],"SPLIT":[1,[10,"$"]]},"fields":{}},"aF":{"opcode":"data_setvariableto","next":"fV","parent":"aE","inputs":{"VALUE":[2,"aG"]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"aG":{"opcode":"strings_replace","next":null,"parent":"aF","inputs":{"SUBSTRING":[2,"fW"],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]],"REPLACE":[2,"fX"]},"fields":{}},"fW":{"opcode":"operator_join","next":null,"parent":"aG","inputs":{"STRING1":[1,[10,"$"]],"STRING2":[2,[12,"tmp","*6drhXP:uEQ|CIv1S8w@"]]},"fields":{}},"fX":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"aG","inputs":{"item":[2,[12,"tmp","*6drhXP:uEQ|CIv1S8w@"]],"json":[2,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"]]},"fields":{}},"fV":{"opcode":"control_wait","next":null,"parent":"aF","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"u":{"opcode":"control_repeat","next":"v","parent":"t","inputs":{"TIMES":[2,"fY"],"SUBSTACK":[2,"c;"]},"fields":{}},"fY":{"opcode":"strings_count","next":null,"parent":"u","inputs":{"SUBSTRING":[1,[10,"~"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"c;":{"opcode":"data_setvariableto","next":null,"parent":"u","inputs":{"VALUE":[2,"fZ"]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"fZ":{"opcode":"strings_replace","next":null,"parent":"c;","inputs":{"SUBSTRING":[1,[10,"~"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]],"REPLACE":[1,[10," "]]},"fields":{}},"v":{"opcode":"control_repeat","next":"f!","parent":"u","inputs":{"TIMES":[2,"f#"],"SUBSTACK":[2,"c="]},"fields":{}},"f#":{"opcode":"strings_count","next":null,"parent":"v","inputs":{"SUBSTRING":[1,[10,":"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"c=":{"opcode":"data_setvariableto","next":null,"parent":"v","inputs":{"VALUE":[2,"c?"]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"c?":{"opcode":"strings_replace","next":null,"parent":"c=","inputs":{"SUBSTRING":[1,[10,"~"]],"STRING":[2,"aH"],"REPLACE":[1,[10," "]]},"fields":{}},"aH":{"opcode":"operator_join","next":null,"parent":"c?","inputs":{"STRING1":[2,"f%"],"STRING2":[2,"aI"]},"fields":{}},"f%":{"opcode":"strings_split","next":null,"parent":"aH","inputs":{"ITEM":[1,[4,"1"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]],"SPLIT":[1,[10,":"]]},"fields":{}},"aI":{"opcode":"strings_letters_of","next":null,"parent":"aH","inputs":{"LETTER1":[2,"c@"],"LETTER2":[2,"f("],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"c@":{"opcode":"operator_add","next":null,"parent":"aI","inputs":{"NUM1":[2,"f)"],"NUM2":[1,[4,"1"]]},"fields":{}},"f)":{"opcode":"strings_indexof","next":null,"parent":"c@","inputs":{"SUBSTRING":[1,[10,":"]],"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"f(":{"opcode":"operator_length","next":null,"parent":"aI","inputs":{"STRING":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"f!":{"opcode":"procedures_return","next":null,"parent":"v","inputs":{"VALUE":[2,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"]]},"fields":{}},"f*":{"opcode":"event_whenthisspriteclicked","next":"f+","parent":null,"inputs":{},"fields":{},"topLevel":true},"f+":{"opcode":"procedures_call","next":null,"parent":"f*","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"runcode","argumentids":"[]","warp":"false"}},"c[":{"opcode":"procedures_definition","next":"c]","parent":null,"inputs":{"custom_block":[1,"c^"]},"fields":{},"topLevel":true},"c^":{"opcode":"procedures_prototype","next":null,"parent":"c[","inputs":{"ROKse:^Y5Q=vF?$G/VUI":[1,"f,"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"warn %s","argumentids":"[\"ROKse:^Y5Q=vF?$G/VUI\"]","argumentnames":"[\"data\"]","argumentdefaults":"[\"\"]","warp":"true"}},"f,":{"opcode":"argument_reporter_string_number","next":null,"parent":"c^","inputs":{},"fields":{"VALUE":["data",null]},"shadow":true},"c]":{"opcode":"data_setvariableto","next":"aJ","parent":"c[","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["err",":,G{P,rW+4rKp)NhO!DS"]}},"aJ":{"opcode":"data_addtolist","next":"aK","parent":"c]","inputs":{"ITEM":[2,"f-"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"f-":{"opcode":"operator_join","next":null,"parent":"aJ","inputs":{"STRING1":[1,[10,"warning from line: "]],"STRING2":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{}},"aK":{"opcode":"data_addtolist","next":"c_","parent":"aJ","inputs":{"ITEM":[2,"c`"]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"c`":{"opcode":"operator_join","next":null,"parent":"aK","inputs":{"STRING1":[1,[10,"warn: "]],"STRING2":[2,"f."]},"fields":{}},"f.":{"opcode":"argument_reporter_string_number","next":null,"parent":"c`","inputs":{},"fields":{"VALUE":["data",null]}},"c_":{"opcode":"looks_sayforsecs","next":"aL","parent":"aK","inputs":{"MESSAGE":[1,[10,"WARN check text logs"]],"SECS":[1,[4,"2"]]},"fields":{}},"aL":{"opcode":"procedures_call","next":"c{","parent":"c_","inputs":{"arg0":[2,"f/"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"​​log​​ %s","argumentids":"[\"arg0\"]","warp":"false"}},"f/":{"opcode":"operator_join","next":null,"parent":"aL","inputs":{"STRING1":[1,[10,"warning from line: "]],"STRING2":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{}},"c{":{"opcode":"procedures_call","next":null,"parent":"aL","inputs":{"arg0":[2,"f:"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"​​warn​​ %s","argumentids":"[\"arg0\"]","warp":"false"}},"f:":{"opcode":"argument_reporter_string_number","next":null,"parent":"c{","inputs":{},"fields":{"VALUE":["data",null]}},"c|":{"opcode":"procedures_definition","next":"w","parent":null,"inputs":{"custom_block":[1,"f;"]},"fields":{},"topLevel":true},"f;":{"opcode":"procedures_prototype","next":null,"parent":"c|","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd jump","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"w":{"opcode":"control_if_else","next":null,"parent":"c|","inputs":{"CONDITION":[2,"c}"],"SUBSTACK":[2,"x"],"SUBSTACK2":[2,"c~"]},"fields":{}},"c}":{"opcode":"operator_equals","next":null,"parent":"w","inputs":{"OPERAND1":[2,"f="],"OPERAND2":[1,[10,"m"]]},"fields":{}},"f=":{"opcode":"procedures_call","next":null,"parent":"c}","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"x":{"opcode":"control_if_else","next":null,"parent":"w","inputs":{"CONDITION":[2,"da"],"SUBSTACK":[2,"db"],"SUBSTACK2":[2,"dc"]},"fields":{}},"da":{"opcode":"skyhigh173JSON_json_has_key","next":null,"parent":"x","inputs":{"json":[2,[12,"marks",".wHN;MjS*PQ0k+?2+~ZL"]],"key":[2,"f?"]},"fields":{}},"f?":{"opcode":"procedures_call","next":null,"parent":"da","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"db":{"opcode":"data_setvariableto","next":null,"parent":"x","inputs":{"VALUE":[2,"dd"]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]}},"dd":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"db","inputs":{"item":[2,"f@"],"json":[2,[12,"marks",".wHN;MjS*PQ0k+?2+~ZL"]]},"fields":{}},"f@":{"opcode":"procedures_call","next":null,"parent":"dd","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dc":{"opcode":"procedures_call","next":null,"parent":"x","inputs":{"^C@~ykNFhNV,b@60bh;V":[2,"de"]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"de":{"opcode":"operator_join","next":null,"parent":"dc","inputs":{"STRING1":[2,"df"],"STRING2":[1,[10,"\" is an invalid mark"]]},"fields":{}},"df":{"opcode":"operator_join","next":null,"parent":"de","inputs":{"STRING1":[1,[10,"\""]],"STRING2":[2,"f["]},"fields":{}},"f[":{"opcode":"procedures_call","next":null,"parent":"df","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"c~":{"opcode":"data_setvariableto","next":null,"parent":"w","inputs":{"VALUE":[2,"f]"]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]}},"f]":{"opcode":"procedures_call","next":null,"parent":"c~","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dg":{"opcode":"procedures_definition","next":"dh","parent":null,"inputs":{"custom_block":[1,"f^"]},"fields":{},"topLevel":true},"f^":{"opcode":"procedures_prototype","next":null,"parent":"dg","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd mark","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"dh":{"opcode":"data_setvariableto","next":null,"parent":"dg","inputs":{"VALUE":[2,"di"]},"fields":{"VARIABLE":["marks",".wHN;MjS*PQ0k+?2+~ZL"]}},"di":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"dh","inputs":{"item":[2,"f_"],"json":[2,[12,"marks",".wHN;MjS*PQ0k+?2+~ZL"]],"value":[2,[12,"m","E1O6Ig#rMIt_+F`~oyf*"]]},"fields":{}},"f_":{"opcode":"procedures_call","next":null,"parent":"di","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"gv":{"opcode":"data_setvariableto","next":null,"parent":null,"inputs":{"VALUE":[1,[10,"6"]]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]},"topLevel":true}},"comments":{},"currentCostume":0,"costumes":[{"name":"boxey (art by my mom)","bitmapResolution":1,"dataFormat":"svg","assetId":"09ec1af4bd1ed4ecac58693f3e822076","md5ext":"09ec1af4bd1ed4ecac58693f3e822076.svg","rotationCenterX":20.086035866941188,"rotationCenterY":22.064059999999984},{"name":"boxedLANG icon (art by me)","bitmapResolution":1,"dataFormat":"svg","assetId":"8938855f0031f19169542518c93d2995","md5ext":"8938855f0031f19169542518c93d2995.svg","rotationCenterX":25.612855000000025,"rotationCenterY":25.612864849112782}],"sounds":[],"volume":100,"layerOrder":1,"visible":true,"x":-230,"y":168,"size":50,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"mode","variables":{},"lists":{},"broadcasts":{},"blocks":{"f`":{"opcode":"event_whenthisspriteclicked","next":"dj","parent":null,"inputs":{},"fields":{},"topLevel":true},"dj":{"opcode":"data_setvariableto","next":null,"parent":"f`","inputs":{"VALUE":[3,"dk",[10,"0"]]},"fields":{"VARIABLE":["mode","Njau~Rd+?m4v*qz$JPRw"]}},"dk":{"opcode":"utilities_ternaryOperator","next":null,"parent":"dj","inputs":{"A":[2,"f{"],"B":[1,[10,"0"]],"C":[1,[10,"1"]]},"fields":{}},"f{":{"opcode":"operator_equals","next":null,"parent":"dk","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"f|":{"opcode":"lmsMoreEvents_whenValueChanged","next":"dl","parent":null,"inputs":{"INPUT":[2,[12,"mode","Njau~Rd+?m4v*qz$JPRw"]]},"fields":{},"topLevel":true},"dl":{"opcode":"looks_switchcostumeto","next":null,"parent":"f|","inputs":{"COSTUME":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],"f}"]},"fields":{}},"f}":{"opcode":"looks_costume","next":null,"parent":"dl","inputs":{},"fields":{"COSTUME":["0",null]},"shadow":true},"f~":{"opcode":"lmsMoreEvents_everyDuration","next":"ga","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"ga":{"opcode":"motion_gotoxy","next":null,"parent":"f~","inputs":{"X":[1,[4,"70"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"1","bitmapResolution":1,"dataFormat":"svg","assetId":"17ca2899092ae1237dca269e4210a20c","md5ext":"17ca2899092ae1237dca269e4210a20c.svg","rotationCenterX":15.95452499999999,"rotationCenterY":11.86361500000001},{"name":"0","bitmapResolution":1,"dataFormat":"svg","assetId":"7570e32bd2cfa2088172be7ee94e8778","md5ext":"7570e32bd2cfa2088172be7ee94e8778.svg","rotationCenterX":15.954545454545467,"rotationCenterY":11.863636363636402}],"sounds":[],"volume":100,"layerOrder":2,"visible":true,"x":70,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"export","variables":{},"lists":{},"broadcasts":{},"blocks":{"dm":{"opcode":"skyhigh173JSON_json_vm_getlist","next":null,"parent":"dn","inputs":{"list":[1,"gb"]},"fields":{}},"gb":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"dm","inputs":{},"fields":{"get_list":["9O|/dr-6%0yRU!*jD@Cb",null]},"shadow":true},"dn":{"opcode":"filesExpanded_download","next":null,"parent":"gc","inputs":{"text":[3,"dm",[10,"Hello, world!"]],"file":[1,[10,"exported_code.bx"]]},"fields":{}},"gc":{"opcode":"event_whenthisspriteclicked","next":"dn","parent":null,"inputs":{},"fields":{},"topLevel":true},"gd":{"opcode":"lmsMoreEvents_everyDuration","next":"ge","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"ge":{"opcode":"motion_gotoxy","next":null,"parent":"gd","inputs":{"X":[1,[4,"-15"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"5d69cec6107a39ffbc6cd096bd186676","md5ext":"5d69cec6107a39ffbc6cd096bd186676.svg","rotationCenterX":21.166664999999938,"rotationCenterY":9.25}],"sounds":[],"volume":100,"layerOrder":3,"visible":true,"x":-15,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"import","variables":{},"lists":{},"broadcasts":{},"blocks":{"gf":{"opcode":"event_whenthisspriteclicked","next":"do","parent":null,"inputs":{},"fields":{},"topLevel":true},"aM":{"opcode":"skyhigh173JSON_json_vm_setlist","next":null,"parent":"aN","inputs":{"list":[1,"gg"],"json":[3,"aO",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"gg":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"aM","inputs":{},"fields":{"get_list":["9O|/dr-6%0yRU!*jD@Cb"]},"shadow":true},"dp":{"opcode":"filesExpanded_showPickerExtensionsAs","next":null,"parent":"aN","inputs":{"extension":[1,[10,".bx"]],"as":[1,"gh"]},"fields":{}},"gh":{"opcode":"filesExpanded_menu_encoding","next":null,"parent":"dp","inputs":{},"fields":{"encoding":["text"]},"shadow":true},"aP":{"opcode":"filesExpanded_setOpenMode","next":"aN","parent":"do","inputs":{"mode":[1,"gi"]},"fields":{}},"gi":{"opcode":"filesExpanded_menu_automaticallyOpen","next":null,"parent":"aP","inputs":{},"fields":{"automaticallyOpen":["selector",null]},"shadow":true},"gj":{"opcode":"motion_gotoxy","next":null,"parent":"gk","inputs":{"X":[1,[4,"30"]],"Y":[1,[4,"170"]]},"fields":{}},"gk":{"opcode":"lmsMoreEvents_everyDuration","next":"gj","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"dq":{"opcode":"skyhigh173JSON_json_array_create","next":null,"parent":"aO","inputs":{"text":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"a,b,c"]],"d":[3,"gl",[10,","]]},"fields":{}},"gl":{"opcode":"utilities_newline","next":null,"parent":"dq","inputs":{},"fields":{}},"aO":{"opcode":"utilities_ternaryOperator","next":null,"parent":"aM","inputs":{"B":[3,"dq",[10,"banana"]],"C":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"apple"]],"A":[2,"dr"]},"fields":{}},"gm":{"opcode":"utilities_newline","next":null,"parent":"dr","inputs":{},"fields":{}},"dr":{"opcode":"operator_contains","next":null,"parent":"aO","inputs":{"STRING1":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"apple"]],"STRING2":[3,"gm",[10,"a"]]},"fields":{}},"do":{"opcode":"data_deletealloflist","next":"aP","parent":"gf","inputs":{},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"aN":{"opcode":"data_setvariableto","next":"aM","parent":"aP","inputs":{"VALUE":[3,"dp",[10,"0"]]},"fields":{"VARIABLE":["code.toimport","-[/s5Ci!Vm_AYWv8F$C^"]}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"63f3dd1176079bb2a388066fd7c40bf2","md5ext":"63f3dd1176079bb2a388066fd7c40bf2.svg","rotationCenterX":21.166666666666714,"rotationCenterY":9.25}],"sounds":[],"volume":100,"layerOrder":4,"visible":true,"x":30,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"dbg","variables":{},"lists":{},"broadcasts":{},"blocks":{"gn":{"opcode":"event_whenthisspriteclicked","next":"ds","parent":null,"inputs":{},"fields":{},"topLevel":true},"ds":{"opcode":"data_setvariableto","next":null,"parent":"gn","inputs":{"VALUE":[3,"dt",[10,"0"]]},"fields":{"VARIABLE":["dbg","2maV#B{H)X?Rp`H}_]+:"]}},"dt":{"opcode":"utilities_ternaryOperator","next":null,"parent":"ds","inputs":{"A":[2,"go"],"B":[1,[10,"0"]],"C":[1,[10,"1"]]},"fields":{}},"go":{"opcode":"operator_equals","next":null,"parent":"dt","inputs":{"OPERAND1":[3,[12,"dbg","2maV#B{H)X?Rp`H}_]+:"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"gp":{"opcode":"lmsMoreEvents_whenValueChanged","next":"du","parent":null,"inputs":{"INPUT":[2,[12,"dbg","2maV#B{H)X?Rp`H}_]+:"]]},"fields":{},"topLevel":true},"du":{"opcode":"looks_switchcostumeto","next":null,"parent":"gp","inputs":{"COSTUME":[3,[12,"dbg","2maV#B{H)X?Rp`H}_]+:"],"gq"]},"fields":{}},"gq":{"opcode":"looks_costume","next":null,"parent":"du","inputs":{},"fields":{"COSTUME":["0"]},"shadow":true},"gr":{"opcode":"lmsMoreEvents_everyDuration","next":"gs","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"gs":{"opcode":"motion_gotoxy","next":null,"parent":"gr","inputs":{"X":[1,[4,"-55"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":1,"costumes":[{"name":"0","bitmapResolution":1,"dataFormat":"svg","assetId":"d7c62ae9adf96c97ad0692d94b3c4b4b","md5ext":"d7c62ae9adf96c97ad0692d94b3c4b4b.svg","rotationCenterX":15.954514999999986,"rotationCenterY":11.863605000000007},{"name":"1","bitmapResolution":1,"dataFormat":"svg","assetId":"862ad7dbdcf236ba3daaaf46764e75d1","md5ext":"862ad7dbdcf236ba3daaaf46764e75d1.svg","rotationCenterX":15.954504999999983,"rotationCenterY":11.863595000000004}],"sounds":[],"volume":100,"layerOrder":5,"visible":true,"x":-55,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"}],"monitors":[{"id":"9O|/dr-6%0yRU!*jD@Cb","mode":"list","opcode":"data_listcontents","params":{"LIST":"code"},"spriteName":null,"value":[],"width":480,"height":180,"x":0,"y":178,"visible":true},{"id":";A!-EsNOQGwq7!9H*J8b","mode":"list","opcode":"data_listcontents","params":{"LIST":"code (run)"},"spriteName":null,"value":[],"width":243,"height":197,"x":47,"y":104,"visible":false},{"id":"kb!NJ48,X=3E+A}v$pMh","mode":"default","opcode":"data_variable","params":{"VARIABLE":"boxes"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"_Im,zJg}7i]sA]LkT)iJ","mode":"list","opcode":"data_listcontents","params":{"LIST":"[debug]"},"spriteName":null,"value":[],"width":148,"height":200,"x":330,"y":0,"visible":true},{"id":"}dDt?K()T1V#X=R=X]hf","mode":"list","opcode":"data_listcontents","params":{"LIST":"console"},"spriteName":null,"value":[],"width":329,"height":160,"x":0,"y":23,"visible":true},{"id":"gHwP?VfvO/L(IP_8XO;q","mode":"default","opcode":"data_variable","params":{"VARIABLE":"data"},"spriteName":null,"value":0,"width":0,"height":0,"x":147,"y":185,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"2maV#B{H)X?Rp`H}_]+:","mode":"slider","opcode":"data_variable","params":{"VARIABLE":"dbg"},"spriteName":null,"value":0,"width":0,"height":0,"x":22,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true}],"extensions":["lmsMoreEvents","SP0zMenuMaker","skyhigh173JSON","strings","dtbyxeroname","runtimeoptions","truefantommath","shovelcss","navigatorinfo","MistiumEval","lmsTimers","MistKeyHistoryExtension","mobilekeyboard0419","utilities","lmsCast","xmerclosecontrol","filesExpanded"],"extensionURLs":{"lmsMoreEvents":"https://extensions.turbowarp.org/Lily/MoreEvents.js","SP0zMenuMaker":"data:application/javascript,%2F%2F%20Name%3A%20Dropdown%20Maker%0A%2F%2F%20ID%3A%20SP0zMenuMaker%0A%2F%2F%20Description%3A%20Create%20Custom%20Dropdowns%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20By%3A%200znzw%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2F0znzw%2F%3E%0A%2F%2F%20By%3A%20CST1229%20%3Chttps%3A%2F%2Fscratch.mit.edu%2Fusers%2FCST1229%2F%3E%0A%2F%2F%20License%3A%20MIT%20AND%20LGPLv3%0A%0A%2F%2F%20Version%20V.1.0.11%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Menu%20Maker%20needs%20to%20run%20unsandboxed!%22)%3B%0A%0A%20%20const%20deleteSVG%20%3D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOS43MzYiIGhlaWdodD0iMzkuNzM2IiB2aWV3Qm94PSIwIDAgMzkuNzM2IDM5LjczNiI%2BPHBhdGggZD0iTTEyLjU0MSAzNS4xOTVhOCA4IDAgMCAxLTgtOFYxMi41NDFhOCA4IDAgMCAxIDgtOGgxNC42NTRhOCA4IDAgMCAxIDggOHYxNC42NTRhOCA4IDAgMCAxLTggOHoiIGZpbGw9IiNmZjRkNGQiLz48cGF0aCBkPSJNMCAzOS43MzZWMGgzOS43MzZ2MzkuNzM2eiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMi41NDEgMzUuMTk1YTggOCAwIDAgMS04LThWMTIuNTQxYTggOCAwIDAgMSA4LThoMTQuNjU0YTggOCAwIDAgMSA4IDh2MTQuNjU0YTggOCAwIDAgMS04IDh6IiBmaWxsPSJub25lIiBzdHJva2Utb3BhY2l0eT0iLjI1MSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjUiLz48cGF0aCBkPSJNMTMuMTA4IDIyLjU5OWEyLjY3IDIuNjcgMCAwIDEtMi42Ny0yLjY3di0uMTIyYTIuNjcgMi42NyAwIDAgMSAyLjY3LTIuNjdoMTMuNTJhMi42NyAyLjY3IDAgMCAxIDIuNjcgMi42N3YuMTIyYTIuNjcgMi42NyAwIDAgMS0yLjY3IDIuNjd6IiBmaWxsPSIjZmZmIi8%2BPC9zdmc%2B%22%3B%0A%20%20const%20addSVG%20%3D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOS43MzYiIGhlaWdodD0iMzkuNzM2IiB2aWV3Qm94PSIwIDAgMzkuNzM2IDM5LjczNiI%2BPHBhdGggZD0iTTEyLjU0MSAzNS4xOTVhOCA4IDAgMCAxLTgtOFYxMi41NDFhOCA4IDAgMCAxIDgtOGgxNC42NTRhOCA4IDAgMCAxIDggOHYxNC42NTRhOCA4IDAgMCAxLTggOHoiIGZpbGw9IiM1MmZmM2UiLz48cGF0aCBkPSJNMTIuNTQxIDM1LjE5NWE4IDggMCAwIDEtOC04VjEyLjU0MWE4IDggMCAwIDEgOC04aDE0LjY1NGE4IDggMCAwIDEgOCA4djE0LjY1NGE4IDggMCAwIDEtOCA4eiIgZmlsbD0ibm9uZSIgc3Ryb2tlLW9wYWNpdHk9Ii4yNTEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI1Ii8%2BPHBhdGggZD0iTTEzLjEwOCAyMi41OTlhMi42NyAyLjY3IDAgMCAxLTIuNjctMi42N3YtLjEyMmEyLjY3IDIuNjcgMCAwIDEgMi42Ny0yLjY3aDEzLjUyYTIuNjcgMi42NyAwIDAgMSAyLjY3IDIuNjd2LjEyMmEyLjY3IDIuNjcgMCAwIDEtMi42NyAyLjY3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNy4xMzcgMTMuMTA4YTIuNjcgMi42NyAwIDAgMSAyLjY3LTIuNjdoLjEyMmEyLjY3IDIuNjcgMCAwIDEgMi42NyAyLjY3djEzLjUyYTIuNjcgMi42NyAwIDAgMS0yLjY3IDIuNjdoLS4xMjJhMi42NyAyLjY3IDAgMCAxLTIuNjctMi42N3oiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMCAzOS43MzZWMGgzOS43MzZ2MzkuNzM2eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg%3D%3D%22%3B%0A%20%20const%20editSVG%20%3D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOS43MzYiIGhlaWdodD0iMzkuNzM2IiB2aWV3Qm94PSIwIDAgMzkuNzM2IDM5LjczNiI%2BPHBhdGggZD0iTTEyLjU0MSAzNS4xOTVhOCA4IDAgMCAxLTgtOFYxMi41NDFhOCA4IDAgMCAxIDgtOGgxNC42NTRhOCA4IDAgMCAxIDggOHYxNC42NTRhOCA4IDAgMCAxLTggOHoiIGZpbGw9IiM0MGQ4ZmYiLz48cGF0aCBkPSJNMTIuNTQxIDM1LjE5NWE4IDggMCAwIDEtOC04VjEyLjU0MWE4IDggMCAwIDEgOC04aDE0LjY1NGE4IDggMCAwIDEgOCA4djE0LjY1NGE4IDggMCAwIDEtOCA4eiIgZmlsbD0ibm9uZSIgc3Ryb2tlLW9wYWNpdHk9Ii4yNTEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI1Ii8%2BPHBhdGggZD0iTTEyLjU4NyAyMy4wOThjLjEwMi0uNDMuMzc3LS44Ni43MzQtMS4yLjMyMS0uMzA1IDQuODM4IDQuMTY4IDQuNTQ4IDQuNDgzLS4zNDQuMzczLS43ODguNjYzLTEuMjMxLjc2OGwtMy44NC45MTZjLS44MTcuMTk0LTEuMzIxLS4zMS0xLjEyNy0xLjEyNnptMTEuMTE4LTEwLjAzNmExLjA5NSAxLjA5NSAwIDAgMSAwLTEuNTQ4bC45NjYtLjk2N2ExLjA5NSAxLjA5NSAwIDAgMSAxLjU0OSAwbDIuOTY5IDIuOTdjLjQyNy40MjcuNDI3IDEuMTIgMCAxLjU0OGwtLjk2Ny45NjZhMS4wOTUgMS4wOTUgMCAwIDEtMS41NDggMHptLTguMzkxIDguMzkxYTEuMDk1IDEuMDk1IDAgMCAxIDAtMS41NDhsNi4wMS02LjAxYTEuMDk1IDEuMDk1IDAgMCAxIDEuNTQ4IDBsMi45NjkgMi45NjljLjQyOC40MjguNDI4IDEuMTIgMCAxLjU0OGwtNi4wMSA2LjAxYTEuMDk1IDEuMDk1IDAgMCAxLTEuNTQ4IDB6IiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0iTTAgMzkuNzM2VjBoMzkuNzM2djM5LjczNnoiIGZpbGw9Im5vbmUiLz48L3N2Zz4%3D%22%3B%0A%20%20const%20menuIconURI%20%3D%0A%20%20%20%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDYuNDE5IiBoZWlnaHQ9IjEwNi40MTkiIHZpZXdCb3g9IjAgMCAxMDYuNDE5IDEwNi40MTkiPjxwYXRoIGQ9Ik0yLjUgNTMuMjFDMi41IDI1LjIwNCAyNS4yMDQgMi41IDUzLjIxIDIuNXM1MC43MSAyMi43MDQgNTAuNzEgNTAuNzEtMjIuNzA0IDUwLjcxLTUwLjcxIDUwLjcxUzIuNSA4MS4yMTYgMi41IDUzLjIxeiIgZmlsbD0iIzBmYmQ4YyIgc3Ryb2tlPSIjMGE4MDVlIiBzdHJva2Utd2lkdGg9IjUiLz48cGF0aCBkPSJNMTkuOTIgNTMuMjFjMC0xOC4zODYgMTQuOTA0LTMzLjI5IDMzLjI5LTMzLjI5Uzg2LjUgMzQuODI0IDg2LjUgNTMuMjEgNzEuNTk2IDg2LjUgNTMuMjEgODYuNSAxOS45MiA3MS41OTYgMTkuOTIgNTMuMjF6IiBmaWxsPSIjMGM5OTcxIiBzdHJva2U9IiMwYTgwNWUiIHN0cm9rZS13aWR0aD0iNC41Ii8%2BPHBhdGggZD0iTTY3LjM0OCA0OS44MDJhNS4zNiA1LjM2IDAgMCAxLTEuNTggMy44MjdsLTguNzIgOC43MmE1LjQ1IDUuNDUgMCAwIDEtNy42NzYgMGwtOC42OTgtOC43MmE1LjM4IDUuMzggMCAwIDEtMS42MDItMy44MjcgNS41MiA1LjUyIDAgMCAxIDEuNTgtMy44NDljLjY0NS0uNTM0IDEuNjAxLTEuNTggMTIuNTctMS41OCAxMC45NjcgMCAxMS45OSAxLjAyNCAxMi41NDYgMS41OGE1LjQzIDUuNDMgMCAwIDEgMS41OCAzLjg1eiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMGE4MDVlIiBzdHJva2Utd2lkdGg9IjcuNSIvPjxwYXRoIGQ9Ik02Ny4zNDggNDkuODAyYTUuMzYgNS4zNiAwIDAgMS0xLjU4IDMuODI3bC04LjcyIDguNzJhNS40NSA1LjQ1IDAgMCAxLTcuNjc2IDBsLTguNjk4LTguNzJhNS4zOCA1LjM4IDAgMCAxLTEuNjAyLTMuODI3IDUuNTIgNS41MiAwIDAgMSAxLjU4LTMuODQ5Yy42NDUtLjUzNCAxLjYwMS0xLjU4IDEyLjU3LTEuNTggMTAuOTY3IDAgMTEuOTkgMS4wMjQgMTIuNTQ2IDEuNThhNS40MyA1LjQzIDAgMCAxIDEuNTggMy44NSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg%3D%3D%22%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20isPM%20%3D%20Scratch.extensions.isPenguinMod%3B%0A%20%20const%20TEMP_BLOCK_OPCODE%20%3D%20%22SP0zMenuMaker___SP0zMenuMaker_TEMP_BLOCK%22%3B%20%2F%2F%20opcode%20of%20the%20temporary%20block%20added%20to%20keep%20the%20extension%20in%20the%20project%0A%0A%20%20let%20extRevmovable%20%3D%20false%2C%20extensionInstance%3B%20%2F%2F%20created%20when%20the%20extension%20is%20%22registered%22%0A%20%20let%20menusXML%20%3D%20%60%3Clabel%20text%3D%22Try%20creating%20some%20menus!%22%20%2F%3E%60%3B%0A%20%20let%20customMenus%20%3D%20%7B%0A%20%20%20%20%22new-menu-1%22%3A%20%7B%20items%3A%20%5B%7B%20text%3A%20%22foo%22%2C%20value%3A%20%22bar%22%20%7D%5D%2C%20acceptReporters%3A%20false%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20Helper%20Funcs%0A%20%20const%20hasOwn%20%3D%20(obj%2C%20key)%20%3D%3E%20Object.prototype.hasOwnProperty.call(obj%2C%20key)%3B%0A%0A%20%20const%20xmlEscape%20%3D%20function%20(unsafe)%20%7B%0A%20%20%20%20return%20Scratch.Cast.toString(unsafe).replace(%2F%5B%3C%3E%26'%22%5D%2Fg%2C%20c%20%3D%3E%20%7B%0A%20%20%20%20%20%20switch%20(c)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22%3C%22%3A%20return%20%22%26lt%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%3E%22%3A%20return%20%22%26gt%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%26%22%3A%20return%20%22%26amp%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22'%22%3A%20return%20%22%26apos%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%5C%22%22%3A%20return%20%22%26quot%3B%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20function%20refreshMagic()%20%7B%0A%20%20%20%20menusXML%20%3D%20Object.keys(customMenus).map(menuName%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20menuBlock%20%3D%20%60SP0zMenuMaker_menu_%24%7BxmlEscape(menuName)%7D%60%3B%0A%20%20%20%20%20%20return%20%60%3Cblock%20type%3D%22%24%7BmenuBlock%7D%22%20id%3D%22%24%7BmenuBlock%7D%22%3E%3C%2Fblock%3E%60%3B%0A%20%20%20%20%7D).join(%22%22)%20%7C%7C%20%60%3Clabel%20text%3D%22Try%20creating%20some%20menus!%22%20%2F%3E%60%3B%0A%0A%20%20%20%20if%20(vm.extensionManager._loadedExtensions.has(%22SP0zMenuMaker%22))%20%7B%0A%20%20%20%20%20%20vm.extensionManager.refreshBlocks(%22SP0zMenuMaker%22).then(()%20%3D%3E%20vm.refreshWorkspace())%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20patchDivColor(container%2C%20isDark)%20%7B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20container.childNodes.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20child%20%3D%20container.childNodes%5Bi%5D%3B%0A%20%20%20%20%20%20child.style.background%20%3D%20i%20%25%202%20!%3D%3D%200%20%3F%20%60radial-gradient(circle%2C%20%24%7BisDark%20%3F%20%22%23343434%22%20%3A%20%22%23D9D9D9%22%7D%2080%25%2C%20rgba(0%2C0%2C0%2C0))%60%20%3A%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20patchName(name%2C%20array)%20%7B%0A%20%20%20%20if%20(array.indexOf(name)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20const%20appearance%20%3D%20array.filter((v)%20%3D%3E%20v%20%3D%3D%3D%20name).length%3B%0A%20%20%20%20%20%20const%20lastDash%20%3D%20name.lastIndexOf(%22-%22)%3B%0A%20%20%20%20%20%20let%20newName%20%3D%20%60%24%7Bname%7D-%24%7Bappearance%7D%60%3B%0A%20%20%20%20%20%20if%20(lastDash%20!%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20const%20lastPart%20%3D%20name.slice(lastDash%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20if%20(!isNaN(parseInt(lastPart)))%20newName%20%3D%20name.slice(0%2C%20lastDash)%20%2B%20%60-%24%7BparseInt(lastPart)%20%2B%20appearance%7D%60%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20array.indexOf(newName)%20%3E%20-1%20%3F%20patchName(newName%2C%20array)%20%3A%20newName%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20name%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20GUI%0A%20%20function%20makeTitle(txt)%20%7B%0A%20%20%20%20const%20title%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20title.textContent%20%3D%20txt%3B%0A%20%20%20%20title.setAttribute(%22style%22%2C%20%22display%3A%20inline-block%3B%20text-align%3A%20center%3B%20width%3A%2047%25%3B%20margin-right%3A%208px%3B%20margin-left%3A%208px%3B%20padding%3A%200px%200px%2020px%3B%22)%3B%0A%20%20%20%20return%20title%3B%0A%20%20%7D%0A%0A%20%20function%20makeLabel(txt)%20%7B%0A%20%20%20%20const%20label%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20label.textContent%20%3D%20txt%3B%0A%20%20%20%20label.setAttribute(%22style%22%2C%20%22margin%3A%205px%3B%20display%3A%20inline-block%3B%20transform%3A%20translate(0%25%2C%20-55%25)%3B%22)%3B%0A%20%20%20%20return%20label%3B%0A%20%20%7D%0A%0A%20%20function%20createContain(clasS%2C%20darkGUI)%20%7B%0A%20%20%20%20const%20box%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20box.classList.add(clasS)%3B%0A%20%20%20%20box.setAttribute(%22style%22%2C%20%22overflow%3A%20hidden%20scroll%3B%20display%3A%20inline-block%3B%20width%3A%2047%25%3B%20height%3A%20200px%3B%20padding%3A%202px%3B%20margin-right%3A%208px%3B%20margin-left%3A%208px%3B%20border-radius%3A%205px%3B%22)%3B%0A%20%20%20%20box.style.border%20%3D%20%60solid%20%24%7BdarkGUI%20%3F%20%22%23343434%22%20%3A%20%22%23D9D9D9%22%7D%202px%60%3B%0A%20%20%20%20return%20box%3B%0A%20%20%7D%0A%0A%20%20function%20makeButton(img%2C%20clasS)%20%7B%0A%20%20%20%20const%20button%20%3D%20document.createElement(%22img%22)%3B%0A%20%20%20%20button.classList.add(clasS)%3B%0A%20%20%20%20button.src%20%3D%20img%3B%0A%20%20%20%20button.width%20%3D%20%2232%22%3B%0A%20%20%20%20button.style.cursor%20%3D%20%22pointer%22%3B%0A%20%20%20%20return%20button%3B%0A%20%20%7D%0A%0A%20%20function%20makeInput(type%2C%20defaultV%2C%20opts)%20%7B%0A%20%20%20%20const%20input%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20input.type%20%3D%20type%3B%0A%20%20%20%20input.value%20%3D%20defaultV%3B%0A%20%20%20%20input.style.width%20%3D%20opts%3F.width%20%3F%3F%20%22130px%22%3B%0A%20%20%20%20input.style.transform%20%3D%20%22translate(0%25%2C%20-45%25)%22%3B%0A%20%20%20%20input.style.cursor%20%3D%20%22pointer%22%3B%0A%20%20%20%20return%20input%3B%0A%20%20%7D%0A%0A%20%20function%20ghostInputRemove(selector)%20%7B%0A%20%20%20%20%2F%2F%20Block%20Text%20input%20Doesnt%20show%20immediately%20%3A(%0A%20%20%20%20const%20element%20%3D%20document.querySelector(selector)%3B%0A%20%20%20%20if%20(element)%20element.style.opacity%20%3D%200%3B%0A%20%20%20%20else%20setTimeout(()%20%3D%3E%20ghostInputRemove(selector)%2C%205)%3B%0A%20%20%7D%0A%0A%20%20function%20makeMenuNameRow(name%2C%20namesArray%2C%20isDark%2C%20contain)%20%7B%0A%20%20%20%20const%20rowDiv%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20rowDiv.style.height%20%3D%20%2217%25%22%3B%0A%20%20%20%20if%20(namesArray.indexOf(name)%20%25%202%20!%3D%3D%200)%20rowDiv.style.background%20%3D%20%60radial-gradient(circle%2C%20%24%7BisDark%20%3F%20%22%23343434%22%20%3A%20%22%23D9D9D9%22%7D%2080%25%2C%20rgba(0%2C0%2C0%2C0))%60%3B%0A%0A%20%20%20%20%2F%2F%20Delete%20Button%0A%20%20%20%20const%20del%20%3D%20makeButton(deleteSVG%2C%20%22delete%22)%3B%0A%20%20%20%20rowDiv.appendChild(del)%3B%0A%20%20%20%20del.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20Super%20secret%20comment%20from%20ashime%20%3C3%0A%20%20%20%20%20%20delete%20customMenus%5Bname%5D%3B%0A%20%20%20%20%20%20namesArray.splice(namesArray.indexOf(name)%2C%201)%3B%0A%20%20%20%20%20%20rowDiv.parentNode.removeChild(rowDiv)%3B%0A%20%20%20%20%20%20patchDivColor(contain%2C%20isDark)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Remove%20Items%20Container%0A%20%20%20%20%20%20const%20itemCon%20%3D%20document.querySelector(%60%5Bclass%3D%22items%22%5D%60)%3B%0A%20%20%20%20%20%20itemCon.innerHTML%20%3D%20%22%22%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Edit%20Button%0A%20%20%20%20const%20edit%20%3D%20makeButton(editSVG%2C%20%22edit%22)%3B%0A%20%20%20%20rowDiv.appendChild(edit)%3B%0A%20%20%20%20edit.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20patchDivColor(contain%2C%20isDark)%3B%0A%20%20%20%20%20%20rowDiv.style.background%20%3D%20%60radial-gradient(circle%2C%20%23a3a3a3%2080%25%2C%20rgba(0%2C0%2C0%2C0))%60%3B%0A%20%20%20%20%20%20renderItemList(customMenus%5Bname%5D%2C%20isDark%2C%20name)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Text%20%26%20Input%0A%20%20%20%20const%20listItem%20%3D%20makeInput(%22text%22%2C%20name)%3B%0A%20%20%20%20listItem.addEventListener(%22change%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20oldValue%20%3D%20customMenus%5Bname%5D%3B%0A%20%20%20%20%20%20delete%20customMenus%5Bname%5D%3B%0A%20%20%20%20%20%20const%20newName%20%3D%20patchName(listItem.value%2C%20namesArray)%3B%0A%20%20%20%20%20%20customMenus%5BnewName%5D%20%3D%20oldValue%3B%0A%20%20%20%20%20%20namesArray%5BnamesArray.indexOf(name)%5D%20%3D%20newName%3B%0A%0A%20%20%20%20%20%20%2F%2F%20refresh%20modal%20(will%20bug%20out%20if%20not%20refreshed)%0A%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20parent%20%3D%20rowDiv.parentNode.parentNode%3B%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%20parent.childNodes.length%20-%201%3B%20i--%3B%20)%20parent.childNodes%5Bi%5D.remove()%3B%0A%20%20%20%20%20%20%20%20createMenuList(Object.keys(customMenus)%2C%20parent%2C%20isDark)%3B%0A%20%20%20%20%20%20%7D%2C%205)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20listItem.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20patchDivColor(contain%2C%20isDark)%3B%0A%20%20%20%20%20%20rowDiv.style.background%20%3D%20%60radial-gradient(circle%2C%20%23a3a3a3%2080%25%2C%20rgba(0%2C0%2C0%2C0))%60%3B%0A%20%20%20%20%20%20renderItemList(customMenus%5Bname%5D%2C%20isDark%2C%20name)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20rowDiv.append(makeLabel(%22Name%3A%22)%2C%20listItem)%3B%0A%20%20%20%20return%20rowDiv%3B%0A%20%20%7D%0A%0A%20%20function%20makeItemRow(item%2C%20index%2C%20isDark%2C%20contain%2C%20name)%20%7B%0A%20%20%20%20const%20rowDiv%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20rowDiv.style.height%20%3D%20%2217%25%22%3B%0A%20%20%20%20if%20(index%20%25%202%20!%3D%3D%200)%20rowDiv.style.background%20%3D%20%60radial-gradient(circle%2C%20%24%7BisDark%20%3F%20%22%23343434%22%20%3A%20%22%23D9D9D9%22%7D%2080%25%2C%20rgba(0%2C0%2C0%2C0))%60%3B%0A%0A%20%20%20%20%2F%2F%20Delete%20Button%0A%20%20%20%20const%20del%20%3D%20makeButton(deleteSVG%2C%20%22delete%22)%3B%0A%20%20%20%20rowDiv.appendChild(del)%3B%0A%20%20%20%20del.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20customMenus%5Bname%5D.items.splice(index%2C%201)%3B%0A%20%20%20%20%20%20renderItemList(customMenus%5Bname%5D%2C%20isDark%2C%20name)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Text%20%26%20Input%0A%20%20%20%20const%20text%20%3D%20makeInput(%22text%22%2C%20item.text%2C%20%7B%20width%3A%20%2265px%22%20%7D)%3B%0A%20%20%20%20text.addEventListener(%22change%22%2C%20()%20%3D%3E%20%7B%20customMenus%5Bname%5D.items%5Bindex%5D.text%20%3D%20text.value%20%7D)%3B%0A%20%20%20%20const%20value%20%3D%20makeInput(%22text%22%2C%20item.value%2C%20%7B%20width%3A%20%2265px%22%20%7D)%3B%0A%20%20%20%20value.addEventListener(%22change%22%2C%20()%20%3D%3E%20%7B%20customMenus%5Bname%5D.items%5Bindex%5D.value%20%3D%20value.value%20%7D)%3B%0A%20%20%20%20rowDiv.append(makeLabel(%22Text%3A%22)%2C%20text%2C%20makeLabel(%22Value%3A%22)%2C%20value)%3B%0A%20%20%20%20return%20rowDiv%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Internal%20GUI%0A%20%20function%20createMenuList(namesArray%2C%20parent%2C%20isDark)%20%7B%0A%20%20%20%20%2F%2F%20Inner%20Titles%20and%20Containers%0A%20%20%20%20const%20title1%20%3D%20makeTitle(%22Created%20Dropdowns%22)%2C%20title2%20%3D%20makeTitle(%22Items%20in%20Dropdown%22)%3B%0A%20%20%20%20const%20listCon%20%3D%20createContain(%22menus%22%2C%20isDark)%3B%0A%20%20%20%20namesArray.forEach((name)%20%3D%3E%20%7B%0A%20%20%20%20%20%20listCon.appendChild(makeMenuNameRow(name%2C%20namesArray%2C%20isDark%2C%20listCon))%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Add%20Button%0A%20%20%20%20const%20add%20%3D%20makeButton(addSVG%2C%20%22add%22)%3B%0A%20%20%20%20add.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20newN%20%3D%20patchName(%60new-menu-%24%7BnamesArray.length%20%2B%201%7D%60%2C%20namesArray)%3B%0A%20%20%20%20%20%20customMenus%5BnewN%5D%20%3D%20%7B%20items%3A%20%5B%7B%20text%3A%20%22foo%22%2C%20value%3A%20%22bar%22%20%7D%5D%2C%20acceptReporters%3A%20false%20%7D%3B%0A%20%20%20%20%20%20namesArray.push(newN)%3B%0A%20%20%20%20%20%20listCon.insertBefore(makeMenuNameRow(newN%2C%20namesArray%2C%20isDark%2C%20listCon)%2C%20add)%3B%0A%20%20%20%20%20%20patchDivColor(listCon%2C%20isDark)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20listCon.appendChild(add)%3B%0A%0A%20%20%20%20%2F%2F%20Menu%20Items%20Container%20(Initially%20Blank)%0A%20%20%20%20parent.insertBefore(createContain(%22items%22%2C%20isDark)%2C%20parent.children%5B0%5D)%3B%0A%20%20%20%20parent.insertBefore(listCon%2C%20parent.children%5B0%5D)%3B%0A%20%20%20%20parent.insertBefore(title2%2C%20parent.children%5B0%5D)%3B%0A%20%20%20%20parent.insertBefore(title1%2C%20parent.children%5B0%5D)%3B%0A%20%20%7D%0A%0A%20%20function%20renderItemList(items%2C%20isDark%2C%20key)%20%7B%0A%20%20%20%20const%20itemCon%20%3D%20document.querySelector(%60%5Bclass%3D%22items%22%5D%60)%3B%0A%20%20%20%20itemCon.innerHTML%20%3D%20%22%22%3B%20%2F%2F%20cleanse%20items%0A%20%20%20%20items%20%3D%20items.items%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20items.length%3B%20i%2B%2B)%20itemCon.appendChild(makeItemRow(items%5Bi%5D%2C%20i%2C%20isDark%2C%20itemCon%2C%20key))%3B%0A%0A%20%20%20%20%2F%2F%20Add%20Button%0A%20%20%20%20const%20add%20%3D%20makeButton(addSVG%2C%20%22addItem%22)%3B%0A%20%20%20%20add.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20customMenus%5Bkey%5D.items.push(%7B%20text%3A%20%22new%20item%22%2C%20value%3A%20%22new%20value%22%20%7D)%3B%0A%20%20%20%20%20%20renderItemList(customMenus%5Bkey%5D%2C%20isDark%2C%20key)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20itemCon.appendChild(add)%3B%0A%20%20%7D%0A%0A%20%20function%20initMenuMaker()%20%7B%0A%20%20%20%20extRevmovable%20%3D%20false%3B%0A%20%20%20%20const%20allBlocks%20%3D%20ScratchBlocks.mainWorkspace.blockDB_%3B%20%2F%2F%20Custom%20Block%20Modal%20Overrides%20BlockDB%0A%20%20%20%20ScratchBlocks.Procedures.createProcedureDefCallback_()%3B%0A%20%20%20%20const%20isDark%20%3D%20isPM%20%3F%20document.body.getAttribute(%22theme%22)%20%3D%3D%3D%20%22dark%22%20%3A%20ReduxStore.getState().scratchGui.theme.theme.gui%20%3D%3D%3D%20%22dark%22%3B%0A%0A%20%20%20%20%2F%2F%20Clean%20Modal%0A%20%20%20%20const%20blockSpace%20%3D%20document.querySelector(%60%5Bclass%5E%3D%22custom-procedures_workspace_%22%5D%60)%3B%0A%20%20%20%20blockSpace.remove()%3B%0A%20%20%20%20const%20buttons%20%3D%20document.querySelector(%60%5Bclass*%3D%22custom-procedures_body_%22%5D%60)%3B%0A%20%20%20%20for%20(let%20i%20%3D%20buttons.children.length%20-%201%3B%20i--%3B)%20buttons.removeChild(buttons.firstChild)%3B%0A%0A%20%20%20%20%2F%2F%20New%20Title%0A%20%20%20%20const%20title%20%3D%20document.querySelector(%60%5Bclass*%3D%22modal_header-item-title_%22%5D%60)%3B%0A%20%20%20%20title.textContent%20%3D%20%22Make%20a%20Dropdown%22%3B%0A%0A%20%20%20%20createMenuList(Object.keys(customMenus)%2C%20buttons%2C%20isDark)%3B%0A%20%20%20%20ghostInputRemove(%60%5Bclass*%3D%22removableTextInput%22%5D%60)%3B%0A%0A%20%20%20%20%2F%2F%20Override%20%22OK%22%20Button%0A%20%20%20%20const%20okBtn%20%3D%20document.querySelector(%60%5Bclass%5E%3D%22custom-procedures_ok-button_%22%5D%60)%3B%0A%20%20%20%20const%20clonedOkBtn%20%3D%20okBtn.cloneNode(true)%3B%0A%20%20%20%20okBtn.replaceWith(clonedOkBtn)%3B%0A%20%20%20%20clonedOkBtn.addEventListener(%22click%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20All%20Menus%20should%20Have%20At%20least%201%20in%20a%20Menu%0A%20%20%20%20%20%20for%20(const%20%5Bkey%2C%20menu%5D%20of%20Object.entries(customMenus))%20%7B%0A%20%20%09if%20(menu.items.length%20%3D%3D%3D%200)%20menu.items%20%3D%20%5B%7B%20text%3A%20%22foo%22%2C%20value%3A%20%22bar%22%20%7D%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20document.querySelector(%60%5Bclass%5E%3D%22close-button_close-button_%22%5D%60).click()%3B%0A%20%20%20%20%20%20refreshMagic()%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Remove%20Menu%20Blocks%20that%20no%20Longer%20Exist%0A%20%20%20%20%20%20const%20menuNames%20%3D%20Object.keys(customMenus)%3B%0A%20%20%20%20%20%20for%20(const%20%5Bkey%2C%20block%5D%20of%20Object.entries(allBlocks))%20%7B%0A%20%20%20%20%20%20%20%20if%20(block.type.startsWith(%22SP0zMenuMaker_menu_%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(menuNames.indexOf(block.type.replace(%22SP0zMenuMaker_menu_%22%2C%20%22%22))%20%3D%3D%3D%20-1)%20block.dispose()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Menu%20Block%20Color%20Setters%0A%20%20function%20updateMenuColor(id%2C%20mainWorkspace%2C%20tree)%20%7B%0A%20%20%20%20const%20block%20%3D%20mainWorkspace.getBlockById(id)%3B%0A%20%20%20%20if%20(!block%20%7C%7C%20!block.type.startsWith(%22SP0zMenuMaker_menu%22))%20%7B%0A%20%20%20%20%20%20if%20(block%20%26%26%20tree%20%26%26%20block.childBlocks_)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20block.childBlocks_.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20child%20%3D%20block.childBlocks_%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(child.type.startsWith(%22SP0zMenuMaker_menu%22))%20updateMenuColor(child.id%2C%20mainWorkspace%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20else%20if%20(child.childBlocks_)%20updateMenuColor(child.id%2C%20mainWorkspace%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20parent%20%3D%20block.parentBlock_%3B%0A%20%20%20%20const%20box%20%3D%20block.inputList%5B0%5D%3F.fieldRow%5B0%5D%3F.box_%3B%0A%20%20%20%20if%20(!box)%20return%3B%0A%20%20%20%20if%20(parent)%20%7B%0A%20%20%20%20%20%20block.setColour(parent.colour_%2C%20parent.colourSecondary_%2C%20parent.colourTertiary_)%3B%0A%20%20%20%20%20%20box.setAttribute(%22fill%22%2C%20parent.colour_)%3B%0A%20%20%20%20%20%20box.setAttribute(%22stroke%22%2C%20parent.colourTertiary_)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20block.setColour(%22%230FBD8C%22%2C%20%22%230eaa7e%22%2C%20%22%230c9770%22)%3B%0A%20%20%20%20%20%20box.setAttribute(%22fill%22%2C%20%22%230FBD8C%22)%3B%0A%20%20%20%20%20%20box.setAttribute(%22stroke%22%2C%20%22%230c9770%22)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20attachEvents()%20%7B%0A%20%20%20%20if%20(Scratch.gui)%20Scratch.gui.getBlockly().then(SB%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20mainWorkspace%20%3D%20SB.mainWorkspace%3B%0A%20%20%20%20%20%20if%20(!mainWorkspace%3F.rendered)%20return%3B%0A%20%20%20%20%20%20const%20workspaceEvents%20%3D%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(e.type%20%3D%3D%20SB.Events.END_DRAG%20%26%26%20Object.hasOwn(e%2C%20%22blockId%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(mainWorkspace.id%20%3D%3D%3D%20e.workspaceId)%20updateMenuColor(e.blockId%2C%20mainWorkspace%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20mainWorkspace.addChangeListener(workspaceEvents)%3B%0A%20%20%20%20%20%20const%20updateAllBlocks%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20for%20(const%20%5Bkey%2C%20block%5D%20of%20Object.entries(mainWorkspace.blockDB_))%20updateMenuColor(block.id%2C%20mainWorkspace%2C%20false)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20vm.on(%22workspaceUpdate%22%2C%20updateAllBlocks)%3B%0A%20%20%20%20%20%20updateAllBlocks()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20function%20startListenerWorker()%20%7B%0A%20%20%20%20if%20(typeof%20ReduxStore%20%3D%3D%3D%20%22undefined%22)%20return%3B%0A%20%20%20%20const%20checkInEditor%20%3D%20()%20%3D%3E%20!ReduxStore.getState().scratchGui.mode.isPlayerOnly%3B%0A%20%20%20%20let%20inEditor%20%3D%20checkInEditor()%3B%0A%20%20%20%20if%20(inEditor)%20attachEvents()%3B%0A%20%20%20%20ReduxStore.subscribe(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20currentlyInEditor%20%3D%20checkInEditor()%3B%0A%20%20%20%20%20%20if%20(inEditor%20!%3D%3D%20currentlyInEditor)%20%7B%0A%20%20%20%20%20%20%20%20inEditor%20%3D%20currentlyInEditor%3B%0A%20%20%20%20%20%20%20%20if%20(inEditor)%20attachEvents()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20if%20(typeof%20scaffolding%20%3D%3D%3D%20%22undefined%22)%20startListenerWorker()%3B%0A%0A%20%20class%20SP0zMenuMaker%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%2F*%20used%20by%20My%20Blocks%2B%20*%2F%0A%20%20%20%20%20%20this.refreshCategory%20%3D%20refreshMagic%3B%0A%20%20%20%20%20%20this.getMenus%20%3D%20()%20%3D%3E%20customMenus%3B%0A%20%20%20%20%20%20this.setMenus%20%3D%20(menu%2C%20value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(customMenus%5Bmenu%5D)%20customMenus%5Bmenu%5D.items%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20else%20customMenus%5Bmenu%5D%20%3D%20%7B%20items%3A%20value%2C%20acceptReporters%3A%20false%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20self%20%3D%20this%3B%20%2F%2F%20To%20avoid%20slow%20writes%20every%20time%20a%20menu%20is%20changed%0A%20%20%20%20%20%20const%20oldToJSON%20%3D%20vm.constructor.prototype.toJSON%3B%0A%20%20%20%20%20%20vm.constructor.prototype.toJSON%20%3D%20function%20(...args)%20%7B%0A%20%20%20%20%20%20%20%20if%20(extRevmovable)%20return%20oldToJSON.apply(this%2C%20args)%3B%0A%20%20%20%20%20%20%20%20if%20(!isPM)%20runtime.extensionStorage.SP0zMenuMaker%20%3D%20self.serialize().SP0zMenuMaker%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Make%20the%20extension%20stay%20by%20adding%20a%20dummy%20block%0A%20%20%20%20%20%20%20%20const%20blocks%20%3D%20runtime.targets%5B0%5D.blocks%3B%0A%20%20%20%20%20%20%20%20blocks._blocks%5BTEMP_BLOCK_OPCODE%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20opcode%3A%20TEMP_BLOCK_OPCODE%2C%20id%3A%20TEMP_BLOCK_OPCODE%2C%20fields%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20next%3A%20null%2C%20parent%3A%20null%2C%20shadow%3A%20false%2C%20toLevel%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20x%3A%20undefined%2C%20y%3A%20undefined%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20const%20jsonStr%20%3D%20oldToJSON.apply(this%2C%20args)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Block%20IDs%20may%20have%20been%20compressed%20at%20this%20point%0A%20%20%20%20%20%20%20%20const%20tempBlockId%20%3D%20Object.values(blocks._blocks).find(o%20%3D%3E%20o.opcode%20%3D%3D%3D%20TEMP_BLOCK_OPCODE)%3F.id%3B%0A%20%20%20%20%20%20%20%20if%20(tempBlockId)%20delete%20blocks._blocks%5BtempBlockId%5D%3B%0A%20%20%20%20%20%20%20%20return%20jsonStr%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20const%20oldinstallTargets%20%3D%20vm.installTargets%3B%0A%20%20%20%20%20%20vm.installTargets%20%3D%20function%20(...args)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Remove%20the%20dummy%20block%0A%20%20%20%20%20%20%20%20if%20(args%5B0%5D%20%26%26%20args%5B0%5D%5B0%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20tempBlockId%20%3D%20Object.values(args%5B0%5D%5B0%5D.blocks._blocks).find(o%20%3D%3E%20o.opcode%20%3D%3D%3D%20TEMP_BLOCK_OPCODE)%3F.id%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(tempBlockId)%20delete%20args%5B0%5D%5B0%5D.blocks._blocks%5BtempBlockId%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20oldinstallTargets.apply(this%2C%20args)%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Load%20the%20menus%0A%20%20%20%20%20%20this.refreshStorage()%3B%0A%20%20%20%20%20%20vm.runtime.on(%22PROJECT_LOADED%22%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20refreshWorkspace%20%3D%20vm.refreshWorkspace%3B%0A%20%20%20%20%20%20%20%20vm.refreshWorkspace%20%3D%20()%20%3D%3E%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20this.refreshStorage()%3B%0A%20%20%20%20%20%20%20%20vm.extensionManager.refreshBlocks(%22SP0zMenuMaker%22)%3B%0A%20%20%20%20%20%20%20%20vm.refreshWorkspace%20%3D%20refreshWorkspace%3B%0A%20%20%20%20%20%20%20%20vm.once(%22BEFORE_EXECUTE%22%2C%20()%20%3D%3E%20vm.refreshWorkspace())%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20refreshStorage()%20%7B%20%2F%2F%20TurboWarp%20support%0A%20%20%20%20%20%20if%20(!isPM)%20this.deserialize(runtime.extensionStorage)%3B%0A%20%20%20%20%7D%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20%2F%2F%20Used%20to%20Load%20the%20Menus%0A%20%20%20%20%20%20if%20(this.needsRefresh)%20%7B%0A%20%20%20%20%20%20%20%20this.needsRefresh%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20refreshMagic()%2C%200)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SP0zMenuMaker%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20%22Dropdown%20Maker%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22makeMenu%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Open%20Menu%20Editor%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22removeExt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BUTTON%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22Remove%20this%20Extension%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22importMenus%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22import%20custom%20dropdown%20JSON%20%5BMENUS%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MENUS%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%60%7B%20%22myMenu-1%22%3A%20%7B%20%22items%22%3A%20%5B%7B%20%22text%22%3A%20%22one%22%2C%20%22value%22%3A%20%221%22%20%7D%5D%20%7D%20%7D%60%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22exportMenus%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%22custom%20dropdowns%20JSON%22%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20%22My%20Menus%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20blockType%3A%20Scratch.BlockType.XML%2C%20xml%3A%20menusXML%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20customMenus%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20makeMenu()%20%7B%20initMenuMaker()%20%7D%0A%0A%20%20%20%20removeExt()%20%7B%0A%20%20%20%20%20%20extRevmovable%20%3D%20true%3B%0A%20%20%20%20%20%20const%20deleteBlock%20%3D%20(target%2C%20blockId)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(target%20%3D%3D%3D%20vm.editingTarget%20%26%26%20Scratch.gui)%20Scratch.gui.getBlockly().then(SB%20%3D%3E%20SB.getMainWorkspace().getBlockById(blockId)%3F.dispose(true%2C%20false))%3B%0A%20%20%20%20%20%20%20%20else%20target.blocks.deleteBlock(blockId)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20customMenus%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20menusXML%20%3D%20%60%3Clabel%20text%3D%22Try%20creating%20some%20menus!%22%20%2F%3E%60%3B%0A%20%20%20%20%20%20for%20(const%20target%20of%20runtime.targets)%20%7B%0A%20%20%20%20%20%20%20%20for%20(const%20block%20of%20Object.values(target.blocks._blocks))%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(block.opcode.startsWith(%22SP0zMenuMaker_%22))%20deleteBlock(target%2C%20block.id)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20vm.extensionManager.refreshBlocks(%22SP0zMenuMaker%22)%3B%0A%20%20%20%20%20%20alert(%22Save%20and%20reload%20the%20project%20for%20the%20extension%20to%20fully%20be%20removed.%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20importMenus(args)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20menus%20%3D%20JSON.parse(args.MENUS)%3B%0A%20%20%20%20%20%20%20%20if%20(typeof%20menus%20!%3D%3D%20%22object%22%20%7C%7C%20menus%20%3D%3D%3D%20null%20%7C%7C%20Array.isArray(menus))%20return%20alert(%22Imported%20JSON%20Must%20be%20an%20Object%22)%3B%0A%20%20%20%20%20%20%20%20for%20(const%20key%20in%20menus)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(hasOwn(menus%2C%20key))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20innerObject%20%3D%20menus%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!hasOwn(innerObject%2C%20%22items%22))%20return%20alert(%60%24%7Bkey%7D%20Menu%20Needs%20an%20%22items%22%20Key%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20innerKey%20in%20innerObject)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(hasOwn(innerObject%2C%20innerKey)%20%26%26%20innerKey%20!%3D%3D%20%22items%22)%20delete%20innerObject%5BinnerKey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20menus%5Bkey%5D.acceptReporters%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20items%20%3D%20innerObject.items%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!Array.isArray(items))%20return%20alert(%60%22items%22%20key%20in%20%24%7Bkey%7D%20Menu%20Must%20be%20an%20Array%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(items.length%20%3D%3D%3D%200)%20return%20alert(%60%22items%22%20key%20in%20%24%7Bkey%7D%20Menu%20Must%20have%20at%20Least%201%20Item%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20item%20of%20items)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20item%20!%3D%3D%20%22object%22%20%7C%7C%20item%20%3D%3D%3D%20null%20%7C%7C%20Array.isArray(item))%20return%20alert(%60items%20in%20%22items%22%20key%20in%20%24%7Bkey%7D%20Menu%20Must%20be%20Objects%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20keys%20%3D%20Object.keys(item)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(keys.length%20!%3D%3D%202%20%7C%7C%20!keys.includes(%22text%22)%20%7C%7C%20!keys.includes(%22value%22))%20return%20alert(%60items%20in%20%22items%22%20key%20in%20%24%7Bkey%7D%20Menu%20Must%20have%202%20keys%2C%20%22text%22%20and%20%22value%22%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20item.text%20!%3D%3D%20%22string%22%20%7C%7C%20typeof%20item.value%20!%3D%3D%20%22string%22)%20return%20alert(%60%22item%22%20values%20in%20%24%7Bkey%7D%20Menu%20Must%20be%20Strings%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20customMenus%20%3D%20menus%3B%0A%20%20%20%20%20%20%20%20refreshMagic()%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Remove%20Menu%20Blocks%20that%20no%20Longer%20Exist%0A%20%20%20%20%20%20%20%20const%20menuNames%20%3D%20Object.keys(customMenus)%3B%0A%20%20%20%20%20%20%20%20if%20(Scratch.gui)%20Scratch.gui.getBlockly().then(SB%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20allBlocks%20%3D%20SB.mainWorkspace.blockDB_%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20block%20of%20Object.values(allBlocks))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.type.startsWith(%22SP0zMenuMaker_menu_%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(menuNames.indexOf(block.type.replace(%22SP0zMenuMaker_menu_%22%2C%20%22%22))%20%3D%3D%3D%20-1)%20block.dispose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20if%20(typeof%20scaffolding%20%3D%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20target%20of%20runtime.targets)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20blockCache%20%3D%20target.blocks%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20block%20of%20Object.values(blockCache._blocks))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20block.opcode.startsWith(%22SP0zMenuMaker_menu_%22)%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menuNames.indexOf(block.opcode.replace(%22SP0zMenuMaker_menu_%22%2C%20%22%22))%20%3D%3D%3D%20-1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20blockCache.deleteBlock(block.id%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%20alert(%22Couldnt%20Parse%20Imported%20Custom%20Menu%20JSON%22)%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20exportMenus()%20%7B%20return%20JSON.stringify(customMenus)%20%7D%0A%0A%20%20%20%20%2F%2F%20PenguinMod%20%2B%20IntermediaryTW%20Storage%0A%20%20%20%20serialize()%20%7B%20return%20%7B%20SP0zMenuMaker%20%3A%20%7B%20menus%20%3A%20customMenus%20%7D%20%7D%20%7D%0A%20%20%20%20deserialize(data)%20%7B%0A%20%20%20%20%20%20if%20(data.SP0zMenuMaker%20!%3D%3D%20undefined)%20customMenus%20%3D%20data.SP0zMenuMaker.menus%3B%0A%20%20%20%20%20%20else%20startListenerWorker()%3B%0A%20%20%20%20%20%20this.needsRefresh%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20Scratch.extensions.register((extensionInstance%20%3D%20new%20SP0zMenuMaker()))%3B%0A%20%20if%20(isPM%20%26%26%20typeof%20scaffolding%20%3D%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20refreshMagic()%3B%0A%20%20%20%20startListenerWorker()%3B%0A%20%20%7D%0A%20%20runtime.ext_SP0zMenuMaker%20%3D%20extensionInstance%3B%0A%7D)(Scratch)%3B%0A","skyhigh173JSON":"https://extensions.turbowarp.org/Skyhigh173/json.js","strings":"https://extensions.turbowarp.org/text.js","dtbyxeroname":"https://extensions.turbowarp.org/XeroName/Deltatime.js","runtimeoptions":"https://extensions.turbowarp.org/runtime-options.js","truefantommath":"https://extensions.turbowarp.org/true-fantom/math.js","shovelcss":"https://extensions.turbowarp.org/TheShovel/CustomStyles.js","navigatorinfo":"https://extensions.turbowarp.org/navigator.js","MistiumEval":"https://extensions.mistium.com/featured/EvalPlus.js","lmsTimers":"https://extensions.turbowarp.org/Lily/MoreTimers.js","MistKeyHistoryExtension":"https://extensions.mistium.com/featured/KeyHistory.js","mobilekeyboard0419":"https://extensions.turbowarp.org/veggiecan/mobilekeyboard.js","utilities":"https://extensions.turbowarp.org/utilities.js","lmsCast":"https://extensions.turbowarp.org/Lily/Cast.js","xmerclosecontrol":"https://extensions.turbowarp.org/XmerOriginals/closecontrol.js","filesExpanded":"data:text/javascript;base64,Ly8gTmFtZTogRmlsZXMgRXhwYW5kZWQKLy8gSUQ6IGZpbGVzRXhwYW5kZWQKLy8gRGVzY3JpcHRpb246IFJlYWQsIHVwbG9hZCwgYW5kIGRvd25sb2FkIGZpbGVzLgovLyBCeTogR2FyYm9NdWZmaW4KLy8gQnk6IFNoYXJrUG9vbAovLyBCeTogRHJhZ28gQ3V2ZW4gPGh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzL01BUlRJTkVMUExBWVovPgovLyBCeTogMHpuencgPGh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzLzB6bnp3Lz4KLy8gTGljZW5zZTogTUlUIEFORCBNUEwtMi4wCgovLyBWZXJzaW9uOiAxLjcuMTEKCihmdW5jdGlvbiAoU2NyYXRjaCkgewogICJ1c2Ugc3RyaWN0IjsKICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy51bnNhbmRib3hlZCkgdGhyb3cgbmV3IEVycm9yKCJGaWxlcyBFeHBhbmRlZCBleHRlbnNpb24gbXVzdCBiZSBydW4gdW5zYW5kYm94ZWQiKTsKCiAgY29uc3QgbWVudUljb25VUkkgPQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TXpNdU1UWTBJaUJvWldsbmFIUTlJakV6TXk0eE5qUWlJSFpwWlhkQ2IzZzlJakFnTUNBeE16TXVNVFkwSURFek15NHhOalFpUGp4bklITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0krUEhCaGRHZ2daRDBpVFRNZ05qWXVOVGd5UXpNZ016RXVORFkzSURNeExqUTJOeUF6SURZMkxqVTRNaUF6Y3pZekxqVTRNaUF5T0M0ME5qY2dOak11TlRneUlEWXpMalU0TWkweU9DNDBOamNnTmpNdU5UZ3lMVFl6TGpVNE1pQTJNeTQxT0RKVE15QXhNREV1TmprM0lETWdOall1TlRneWVpSWdabWxzYkQwaUkyWmpZakV3TXlJZ2MzUnliMnRsUFNJalltWTRZakV4SWlCemRISnZhMlV0ZDJsa2RHZzlJallpTHo0OGNHRjBhQ0JrUFNKTk9Ua3VPRGt5SURRNUxqa3lOM1kwT1M0NU5qUmpNQ0EwTGpVNExUTXVOelE0SURndU16STRMVGd1TXpJNElEZ3VNekk0U0RReExqVTFPR010TkM0MU9DQXdMVGd1TWpnMUxUTXVOelE0TFRndU1qZzFMVGd1TXpJNGJDNHdOREV0TmpZdU5qRTRZekF0TkM0MU9DQXpMamN3TmkwNExqTXlPQ0E0TGpJNE5pMDRMak15T0dnek15NHpNWG9pSUdacGJHdzlJbTV2Ym1VaUlITjBjbTlyWlMxdmNHRmphWFI1UFNJdU1UUTVJaUJ6ZEhKdmEyVTlJaU13TURBaUlITjBjbTlyWlMxM2FXUjBhRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5PVGt1T0RreUlEUTVMamt5TjNZME9TNDVOalJqTUNBMExqVTRMVE11TnpRNElEZ3VNekk0TFRndU16STRJRGd1TXpJNFNEUXhMalUxT0dNdE5DNDFPQ0F3TFRndU1qZzFMVE11TnpRNExUZ3VNamcxTFRndU16STRiQzR3TkRFdE5qWXVOakU0WXpBdE5DNDFPQ0F6TGpjd05pMDRMak15T0NBNExqSTROaTA0TGpNeU9HZ3pNeTR6TVhvaUlHWnBiR3c5SWlObVptWWlMejQ4Y0dGMGFDQmtQU0pOTnpBdU56SXlJRFUwTGpFeE5WWXpNUzR4Tmpkc01qSXVPVFEzSURJeUxqazBPSG9pSUdacGJHdzlJaU5tWTJJeE1ETWlMejQ4Y0dGMGFDQmtQU0pOT0RRdU5qWTRJRFk1TGpreE5HTXRMakF5TGpBNE9DMHVNRE0yTGpFM05TMHVNRFl5TGpJMk1pMHVNRGMzTGpNeU5DMHVNak0ySURFdU1Ea3RMak01TmlBeUxqVTROM0V1TURBeExqQXpPQzB1TURBMUxqQTJNV011T0RnZ015NDFNemd0TGpZd01pQTFMalk1TWkweExqVTROQ0EyTGpZM05HRXlJRElnTUNBd0lERXRMakl1TVRsakxTNDVOakl1T0RjMUxUSXVOalF6SURFdU9URTRMVFV1TVRVeUlERXVPVEU0WVRjdU5qVWdOeTQyTlNBd0lEQWdNUzB6TGpRek5TMHVOemcyWXk0d01qWWdNUzQwTURNdU1EUXhJRE11TXpNM0xqQTBNU0EyTGpBeVlUWXVPU0EyTGprZ01DQXdJREVnTWk0ME9UUWdNUzQxTXpnZ055NHhJRGN1TVNBd0lEQWdNU0F5TGpJeElEVXVNVFkzWXpBZ01pNDVNUzB4TGpZM05TQTFMalEwTFRRdU16YzFJRFl1TlRrM2NTMHVNVEF6TGpBME9DMHVNakExTGpBNE9HTXRMamt3TlM0ek5EUXRNUzQ1TWpNdU5URTBMVE11TVRFMkxqVXhOQzB1TkRNeUlEQXRMamc1TlMwdU1ESXRNUzR6T1RrdExqQTJOMkV4T0NBeE9DQXdJREFnTUMweExqSTVOUzR3TURWakxTNDVOekl1TVRBNExUSXVNelF1TWpFMkxUUXVNVGN1TXpFNUxTNHdNellnTUMwdU1EY3lMakF3TlMwdU1URTBMakF3TlhFdExqTTJMakF4TlMwdU5qazVMakF4TldNdE15NHlOelVnTUMwMUxqWTJOaTB4TGpBek9DMDNMakV4TFRNdU1EaHhMUzR3TkRZdExqQTJMUzR3T0RNdExqRXlNMk10TVM0ME55MHlMakU1TlMweExqVXhNaTAwTGprM01pMHVNVEV6TFRjdU1qUnhMakF4TnkwdU1ETTFMakEwTVMwdU1EY3hZeTQ0T1MweExqTTVPU0F5TGpFNUxUSXVNemsySURNdU9EYzNMVEl1T1RnekxqQXlMUzQ1T1RJdU1ERTFMVEl1TWpNMkxTNHdNVFl0TXk0M01USmhOeTQxSURjdU5TQXdJREFnTVMweUxqZzVMalUxTldNdE1pNDROak1nTUMwMUxqSXlPQzB4TGpjd01TMDJMakExTVMwMExqSTRPQzB1TVRjdExqVXlOQzB1TXpNdE1TNHlPUzB1TnkwekxqQXhPR0V5SURJZ01DQXdJREV0TGpBek5TMHVNVGcxYkMwdU56WXhMVFF1TWpVeVlUY2dOeUF3SURBZ01DMHVNVEF6TFM0ek1qUmpMUzR6T1RZdE1TNHhNall0TGpVNE1TMHlMakE0TXkwdU5UZ3hMVE11TURBNElEQXRNUzR4TkRjdU16TTBMVEl1T0RnZ01TNDVNVGd0TkM0Mk1EY3VOemszTFM0NE56UWdNaTR5TkRjdE1pNHdNRFVnTkM0MU9ERXRNaTR6TjNFdU5ETXpMUzR3TnpFdU9EYzBMUzR3TnpKb05TNDJPRGR4TGpFNU1pQXdJQzR6T0RVdU1ERTFZVGN5SURjeUlEQWdNQ0F3SURVdU56Z3RMakF3TlNBNE15QTRNeUF3SURBZ01DQTJMamt6TFM0MU9UWmpMakkxT0MwdU1EZ3pMalV6TmkwdU1UWTFMamd6TkMwdU1qTTNMakk0TXkwdU1EY3lMalUzTFM0eE1UZ3VPRFU0TFM0eE5TQXlMakU1TFM0eUlEUXVNak15TGpRek15QTFMamd5SURFdU56a2dNUzQ1TnlBeExqWTVNaUF5TGpnMElEUXVNalV5SURJdU16SWdOaTQ0TlRRaUlHWnBiR3c5SWlOaVpqaGlNVEVpTHo0OGNHRjBhQ0JrUFNKTk56a3VNVEl4SURZNExqZ3dObkV0TGpNeE5pQXhMakkyTmkwdU5UUXpJRE11TkRNM0xTNHdPU0F4TGpBNE5pNHdPU0F4TGpjMk5DNHpNVFlnTVM0eE16RXRMakEwTkNBeExqUTVNeTB1TkRrNUxqUTFNUzB4TGpNMU55NDBOVEl0TGprNU5pQXdMVEV1TXpFeUxTNDFPVEpCTkRFZ05ERWdNQ0F3SURFZ056WWdOekV1T1RRemNTNHdPUzB4TGprMkxqQTVMVEl1TURVdExqQTBOU0F3TFM0eE16VXRMakE1TWkwMExqSXdOeTR4T0RNdE55NDVNVFV1TlRRMUxTNHdPUzQwTlRNZ01DQXhMalExTGpFNElERXVOREEwTGpFNElERXVOak10TGpFNElERXVOREEyTFM0eE9DQTBMakUzTGpFNElERXVNVGM1TGpFNElERXdMakV3Tm5ZekxqTXdPWEV3SUM0M055NHlNalVnTVM0d09EZG9NaTQzTnpkeExqYzJNaTB1TURrZ01TNHlNekl1TXpZeUxqUTNMalExTXk0ME55QXhMakE0TlNBd0lDNDVPVFF0TGprMUlERXVOREF6TFM0MU9EZ3VNakkxTFRJdU1EZ3VNRGt0TGpjeU15MHVNRFExTFRJdU1USTJJREF0TVM0eU5qVXVNVFUzTFRRdU1EY3VNekUyTFRJdU5EUXpMakE1TFRJdU9UZzFMUzQyTnpndExqTTJNeTB1TlRReUlEQXRNUzR4TXk0Mk16SXRMams1TlNBekxqTXdNaTB1T1RrMUxqazBPQ0F3SURFdU1UYzFMUzR4TlRndU1qSTJMUzR4Tmk0eU1qWXRMall4VmpnNUxqQXpjUzR4TXpVdE1pNHpNRElnTUMwMkxqZzJNUzB1TVRndE5pNDFORFF1TVRneExURXhMalV3T1d3dExqRXpOeTB1TVRNMmNTMHhMall6Tnk0d09TMDFMakkzTlMwdU1Ea3RMalF4SURBdE1pNDNOelF1TVRneExqVTROeUEwTGpFeE55NDNNak1nTmk0eE9UWWdNQ0F1TWpjeUxTNHdPU0F4TGpJeU1TMHVNRFEyTGpZM09DMHhMakV6TVM0Mk56a3RMalU0T1NBd0xTNDJOemd0TGpRd05DMHVNRFEyTFM0d09TMHVOVFF6TFRJdU5ESXliQzB1TnpZNUxUUXVNekEyY1RBdExqRTNPUzB1TXpFMkxURXVNVEl4TFM0eU55MHVOelkwTFM0eU55MHhMakUyTmkwdU1EQXhMUzR6TVRVdU5ETXRMamM0TlM0ME15MHVORGN4SURFdU1qZzVMUzQyTURab05TNDJNRGh4TXk0Mk5qTXVNVE0xSURZdU5URXlJREJoT0RnZ09EZ2dNQ0F3SURBZ09DNHdOUzB1TnpJMGNTNHlOek10TGpFek5TNDRNVFF0TGpJM0xqazVOUzB1TURrZ01TNDJNamt1TkRVeUxqWXpNeTQxTkM0ME5USWdNUzQwTkRjaUlHWnBiR3c5SWlObVptWWlMejQ4TDJjK1BDOXpkbWMrIjsKCiAgY29uc3Qgdm0gPSBTY3JhdGNoLnZtOwogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOwogIGNvbnN0IGlzUE0gPSBTY3JhdGNoLmV4dGVuc2lvbnMuaXNQZW5ndWluTW9kOwoKICBjb25zdCBidWlsdEluRm9udHMgPSBbCiAgICAiU2FucyBTZXJpZiIsICJTZXJpZiIsICJIYW5kd3JpdGluZyIsICJNYXJrZXIiLAogICAgIkN1cmx5IiwgIlBpeGVsIiwgIlNjcmF0Y2giLCAiaW5oZXJpdCIKICBdOwogIGNvbnN0IE1PREVfTU9EQUwgPSAibW9kYWwiOwogIGNvbnN0IE1PREVfSU1NRURJQVRFTFlfU0hPV19TRUxFQ1RPUiA9ICJzZWxlY3RvciI7CiAgY29uc3QgTU9ERV9PTkxZX1NFTEVDVE9SID0gIm9ubHktc2VsZWN0b3IiOwogIGNvbnN0IEFMTF9NT0RFUyA9IFsKICAgIE1PREVfTU9EQUwsCiAgICBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1IsCiAgICBNT0RFX09OTFlfU0VMRUNUT1IsCiAgXTsKICBjb25zdCBBU19URVhUID0gInRleHQiLCBBU19EQVRBX1VSTCA9ICJ1cmwiLCBBU19IRVggPSAiaGV4IjsKICBjb25zdCBBU19CQVNFNjQgPSAiYmFzZTY0IiwgQVNfQlVGRkVSID0gImFycmF5QnVmZmVyIjsKCiAgbGV0IGVuYWJsZVZpcyA9IHRydWU7CiAgbGV0IG9wZW5GaWxlU2VsZWN0b3JNb2RlID0gTU9ERV9NT0RBTDsKICBsZXQgc3RvcmVkRmlsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogIGxldCBGaWxlTmFtZSA9ICIiLCBGaWxlU2l6ZSA9ICIwa2IiLCBSYXdGaWxlU2l6ZSA9ICIwIiwgZmlsZURhdGUgPSAiIiwgbGFzdERhdGEgPSAiIjsKICBsZXQgb3Blbk1vZGFscyA9IDA7CiAgbGV0IHNlbGVjdG9yT3B0aW9ucyA9IHsKICAgIGJvcmRlckNvbG9yOiAiIzg4OCIsIHRleHRDb2xvcjogIiMwMDAiLCBvdXRlcjogIiNmZmYiLAogICAgc2l6ZUZvbnQ6IDEuNSwgYm9yZGVyUmFkaXVzOiAxNiwgYm9yZGVyVHlwZTogImRhc2hlZCIsCiAgICBmb250OiAiaW5oZXJpdCIsIHNoYWRvdzogMC41LCBpbWFnZTogIiIsIHRleHRWOiAiIiwKICAgIGZvbnRXZWlnaHQ6IDQwLCBsZXR0ZXJTcGFjaW5nOiAibm9ybWFsIiwKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0CiAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICovCiAgY29uc3QgaXNDYW5jZWxFdmVudFN1cHBvcnRlZCA9IChpbnB1dCkgPT4gewogICAgaWYgKCJvbmNhbmNlbCIgaW4gaW5wdXQpIHsKICAgICAgLy8gQ2hyb21lIDExMyssIFNhZmFyaSAxNi40KwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8vIEZpcmVmb3ggaXMgd2VpcmQuIGNhbmNlbCBpcyBzdXBwb3J0ZWQgc2luY2UgRmlyZWZveCA5MSwgYnV0IG9uY2FuY2VsIGRvZXNuJ3QgZXhpc3QuCiAgICAvLyBGaXJlZm94IDkxIGlzIGZyb20gQXVndXN0IDIwMjEuIFRoYXQncyBvbGQgZW5vdWdoIHRvIG5vdCBjYXJlIGFib3V0IHByZXZpb3VzIHZlcnNpb25zLgogICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIkZpcmVmb3giKTsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXB0IFNlZSBNT0RFXyBjb25zdGFudHMgYWJvdmUKICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgU2VlIEFTXyBjb25zdGFudHMgYWJvdmUKICAgKiBAcGFyYW0ge29iamVjdH0gb3ZlcnJpZGUgbWFrZXMgbW9kYWwgdXNlIHRoZSBGaWxlIEFQSSBpZiBleGlzdHMKICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBmb3JtYXQgZ2l2ZW4gYnkgYXMgcGFyYW1ldGVyCiAgICovCiAgY29uc3Qgc2hvd0ZpbGVQcm9tcHQgPSAoYWNjZXB0LCBhcywgb3ZlcnJpZGUpID0+CiAgICBuZXcgUHJvbWlzZSgoX3Jlc29sdmUpID0+IHsKICAgICAgLy8gV2UgY2FuJ3QgcmVsaWFibHkgc2hvdyBhbiA8aW5wdXQ+IHBpY2tlciB3aXRob3V0ICJ1c2VyIGludGVyYWN0aW9uIiBpbiBhbGwgZW52aXJvbm1lbnRzLAogICAgICAvLyBzbyB3ZSBoYXZlIHRvIHNob3cgb3VyIG93biBVSSBhbnl3YXlzLiBXZSBtYXkgYXMgd2VsbCB1c2UgdGhpcyB0byBpbXBsZW1lbnQgc29tZSBuaWNlIGZlYXR1cmVzCiAgICAgIC8vIHRoYXQgbmF0aXZlIGZpbGUgcGlja2VycyBkb24ndCBoYXZlOgogICAgICAvLyAgLSBFYXN5IGRyYWcrZHJvcAogICAgICAvLyAgLSBSZWxpYWJsZSBjYW5jZWwgYnV0dG9uIChpbnB1dCBjYW5jZWwgZXZlbnQgaXMgc3RpbGwgbm90IHBlcmZlY3QpCiAgICAgIC8vICAgIFRoaXMgaXMgaW1wb3J0YW50IHNvIHdlIGNhbiBtYWtlIHRoaXMganVzdCBhIHJlcG9ydGVyIGluc3RlYWQgb2YgYSBjb21tYW5kK2hhdCBibG9jay4KICAgICAgLy8gICAgV2l0aG91dCBhbiBpbnRlcmZhY2UsIHRoZSBzY3JpcHQgd291bGQgYmUgc3RhbGxlZCBpZiB0aGUgcHJvbXB0IHdhcyBjYW5jZWxsZWQuCgogICAgICAvKiogQHBhcmFtIHtzdHJpbmd9IHRleHQgKi8KICAgICAgY29uc3QgY2FsbGJhY2sgPSAodGV4dCkgPT4gewogICAgICAgIGxldCBjbGVhbnNlZFR4dCA9IHRleHQ7CiAgICAgICAgaWYgKG92ZXJyaWRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChbQVNfSEVYLCBBU19CQVNFNjRdLmluY2x1ZGVzKGFzKSkgewogICAgICAgICAgICBsZXQgdXJpID0gY2xlYW5zZWRUeHQuc3BsaXQoIiwiKTsKICAgICAgICAgICAgY2xlYW5zZWRUeHQgPSB1cmkuc3BsaWNlKDEsIHVyaS5sZW5ndGgpLmpvaW4oIiwiKTsKICAgICAgICAgICAgaWYgKGFzID09PSBBU19IRVgpIGNsZWFuc2VkVHh0ID0gYmFzZTY0VG9IZXgoY2xlYW5zZWRUeHQsICIgIik7CiAgICAgICAgICB9CiAgICAgICAgICBsYXN0RGF0YSA9IGNsZWFuc2VkVHh0OwogICAgICAgIH0KICAgICAgICBvcGVuTW9kYWxzLS07CiAgICAgICAgX3Jlc29sdmUoY2xlYW5zZWRUeHQpOwogICAgICAgIHZtLnJlbmRlcmVyLnJlbW92ZU92ZXJsYXkob3V0ZXIpOwogICAgICAgIHJ1bnRpbWUub2ZmKCJQUk9KRUNUX1NUT1BfQUxMIiwgaGFuZGxlUHJvamVjdFN0b3BwZWQpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUtleURvd24sIHsKICAgICAgICAgIGNhcHR1cmU6IHRydWUsCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBvcGVuTW9kYWxzKys7CiAgICAgIGxldCBpc1JlYWRpbmdGaWxlID0gZmFsc2U7CgogICAgICAvKiogQHBhcmFtIHtGaWxlfSBmaWxlICovCiAgICAgIGNvbnN0IHJlYWRGaWxlID0gKGZpbGUpID0+IHsKICAgICAgICBpZiAoaXNSZWFkaW5nRmlsZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpc1JlYWRpbmdGaWxlID0gdHJ1ZTsKCiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgICAgRmlsZU5hbWUgPSBmaWxlLm5hbWU7CiAgICAgICAgICBGaWxlU2l6ZSA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSk7CiAgICAgICAgICBSYXdGaWxlU2l6ZSA9IGZpbGUuc2l6ZTsKICAgICAgICAgIGNvbnN0IHJhd0RhdGUgPSBuZXcgRGF0ZShmaWxlLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICBmaWxlRGF0ZSA9IHJhd0RhdGUudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgIGNhbGxiYWNrKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocmVhZGVyLnJlc3VsdCkpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVhZCBmaWxlIGFzIHRleHQiLCByZWFkZXIuZXJyb3IpOwogICAgICAgICAgY2FsbGJhY2soIiIpOwogICAgICAgIH07CiAgICAgICAgaWYgKG92ZXJyaWRlICE9PSB1bmRlZmluZWQpIGNhbGxiYWNrKGZpbGUpOwogICAgICAgIGVsc2UgaWYgKGFzID09PSBBU19URVhUKSByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgICBlbHNlIGlmIChhcyA9PT0gQVNfQlVGRkVSKSByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgICAgICAgZWxzZSByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgfTsKCiAgICAgIC8qKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgKi8KICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7CiAgICAgICAgaWYgKGUua2V5ID09PSAiRXNjYXBlIikgewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUtleURvd24sIHsKICAgICAgICBjYXB0dXJlOiB0cnVlLAogICAgICB9KTsKCiAgICAgIGNvbnN0IGhhbmRsZVByb2plY3RTdG9wcGVkID0gKCkgPT4gewogICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgfTsKICAgICAgcnVudGltZS5vbigiUFJPSkVDVF9TVE9QX0FMTCIsIGhhbmRsZVByb2plY3RTdG9wcGVkKTsKCiAgICAgIGNvbnN0IGhhbmRsZU92ZXJyaWRlID0gYXN5bmMgKCkgPT4gewogICAgICAgIGxldCBmaWxlSW5mbzsKICAgICAgICBpZiAob3ZlcnJpZGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gZXhlY3V0ZSBub3JtYWwgYmVoYXZpb3VyCiAgICAgICAgICBpbnB1dC5jbGljaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAob3ZlcnJpZGUudHlwZSA9PT0gImZvbGRlciIpIHsKICAgICAgICAgICAgICBmaWxlSW5mbyA9IGF3YWl0IHdpbmRvdy5zaG93RGlyZWN0b3J5UGlja2VyKHsKICAgICAgICAgICAgICAgIG11bHRpcGxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGVzOiBbeyBhY2NlcHQ6IHsgIiovKiI6IFtdIH0gfV0sCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmlsZUluZm8gPSBhd2FpdCB3aW5kb3cuc2hvd09wZW5GaWxlUGlja2VyKHsKICAgICAgICAgICAgICAgIG11bHRpcGxlOiBvdmVycmlkZS5hbGxvd011bHRpLAogICAgICAgICAgICAgICAgdHlwZXM6IFt7IGFjY2VwdDogeyAiKi8qIjogYWNjZXB0IH0gfV0sCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FsbGJhY2soZmlsZUluZm8pOwogICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBjb25zdCBJTklUSUFMX0JPUkRFUl9DT0xPUiA9IHNlbGVjdG9yT3B0aW9ucy5ib3JkZXJDb2xvcjsKICAgICAgY29uc3QgRFJPUFBJTkdfQk9SREVSX0NPTE9SID0gIiMwM2E5ZmMiOwoKICAgICAgY29uc3Qgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb3V0ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJhdXRvIjsKICAgICAgb3V0ZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIG91dGVyLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgb3V0ZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgb3V0ZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICBvdXRlci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwogICAgICBvdXRlci5zdHlsZS5jb2xvclNjaGVtZSA9ICJsaWdodCI7CiAgICAgIGlmIChvdmVycmlkZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gdGhlIEZpbGUgQVBJIGNhbnQgZXhhY3RseSBzdXBwb3J0IGRyYWdnaW5nIGZpbGVzCiAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ292ZXIiLCAoZSkgPT4gewogICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKCJGaWxlcyIpKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICJjb3B5IjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBEUk9QUElOR19CT1JERVJfQ09MT1I7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIiwgKCkgPT4gewogICAgICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBJTklUSUFMX0JPUkRFUl9DT0xPUjsKICAgICAgICB9KTsKICAgICAgICBvdXRlci5hZGRFdmVudExpc3RlbmVyKCJkcm9wIiwgKGUpID0+IHsKICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1swXTsKICAgICAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgcmVhZEZpbGUoZmlsZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewogICAgICAgIGlmIChlLnRhcmdldCA9PT0gb3V0ZXIpIHsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgbW9kYWwuaWQgPSAidHctZmlsZXMtbW9kYWwiOwogICAgICBtb2RhbC5zdHlsZS5ib3hTaGFkb3cgPSAiMCAwIDEwcHggLTVweCBjdXJyZW50Q29sb3IiOwogICAgICBtb2RhbC5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICAgIG1vZGFsLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgbW9kYWwuc3R5bGUucGFkZGluZyA9ICIxNnB4IjsKICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyID0gYDhweCBkYXNoZWQgJHtJTklUSUFMX0JPUkRFUl9DT0xPUn1gOwogICAgICBtb2RhbC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICAgIG1vZGFsLnN0eWxlLnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jICgpID0+IHsKICAgICAgICAvLyB3aWxsIGV4ZWN1dGUgImlucHV0LmNsaWNrKCkiIGlmIG92ZXJyaWRlIGlzICJ1bmRlZmluZWQiCiAgICAgICAgYXdhaXQgaGFuZGxlT3ZlcnJpZGUoKTsKICAgICAgfSk7CiAgICAgIG1vZGFsLmZvY3VzKCk7CiAgICAgIG91dGVyLmFwcGVuZENoaWxkKG1vZGFsKTsKCiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaW5wdXQudHlwZSA9ICJmaWxlIjsKICAgICAgaW5wdXQuYWNjZXB0ID0gYWNjZXB0OwogICAgICBpZiAob3ZlcnJpZGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKSA9PiB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICBpZiAoZmlsZSkgewogICAgICAgICAgICByZWFkRmlsZShmaWxlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGl0bGUudGV4dENvbnRlbnQgPQogICAgICAgIG92ZXJyaWRlID09PSB1bmRlZmluZWQKICAgICAgICAgID8gU2NyYXRjaC50cmFuc2xhdGUoIlNlbGVjdCBvciBkcm9wIGZpbGUiKQogICAgICAgICAgOiBTY3JhdGNoLnRyYW5zbGF0ZSgiU2VsZWN0IGZpbGUiKTsKICAgICAgdGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gIjhweCI7CiAgICAgIG1vZGFsLmFwcGVuZENoaWxkKHRpdGxlKTsKCiAgICAgIGNvbnN0IHN1YnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGNvbnN0IGZvcm1hdHRlZEFjY2VwdCA9IGFjY2VwdCB8fCBTY3JhdGNoLnRyYW5zbGF0ZSgiYW55Iik7CiAgICAgIHN1YnRpdGxlLnRleHRDb250ZW50ID0gU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgewogICAgICAgICAgZGVmYXVsdDogIkFjY2VwdGVkIGZvcm1hdHM6IHtmb3JtYXRzfSIsCiAgICAgICAgICBkZXNjcmlwdGlvbjogIltmb3JtYXRzXSBpcyByZXBsYWNlZCB3aXRoIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmlsZSB0eXBlcyBlZzogLnR4dCwgLm1wMywgLnBuZyBvciB0aGUgd29yZCBhbnkiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZm9ybWF0czogZm9ybWF0dGVkQWNjZXB0LAogICAgICAgIH0KICAgICAgKTsKICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQoc3VidGl0bGUpOwoKICAgICAgLy8gVG8gYXZvaWQgdGhlIHNjcmlwdCBnZXR0aW5nIHN0YWxsZWQgZm9yZXZlciwgaWYgY2FuY2VsIGlzbid0IHN1cHBvcnRlZCwgd2UnbGwganVzdCBmb3JjaWJseQogICAgICAvLyBzaG93IG91ciBtb2RhbC4KICAgICAgaWYgKAogICAgICAgIG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IgJiYKICAgICAgICAhaXNDYW5jZWxFdmVudFN1cHBvcnRlZChpbnB1dCkKICAgICAgKSB7CiAgICAgICAgb3BlbkZpbGVTZWxlY3Rvck1vZGUgPSBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1I7CiAgICAgIH0KCiAgICAgIGlmIChvcGVuRmlsZVNlbGVjdG9yTW9kZSAhPT0gTU9ERV9PTkxZX1NFTEVDVE9SKSB7CiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHZtLnJlbmRlcmVyLmFkZE92ZXJsYXkob3V0ZXIsICJzY2FsZSIpOwogICAgICAgIG92ZXJsYXkuY29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICIxMDAiOwogICAgICB9CgogICAgICBpZiAoCiAgICAgICAgb3BlbkZpbGVTZWxlY3Rvck1vZGUgPT09IE1PREVfSU1NRURJQVRFTFlfU0hPV19TRUxFQ1RPUiB8fAogICAgICAgIG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IKICAgICAgKSB7CiAgICAgICAgLy8gd2lsbCBydW4gImlucHV0LmNsaWNrKCkiIGlmIG92ZXJyaWRlIGlzICJ1bmRlZmluZWQiCiAgICAgICAgaGFuZGxlT3ZlcnJpZGUoKTsKICAgICAgfQoKICAgICAgaWYgKG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IpIHsKICAgICAgICAvLyBOb3RlIHRoYXQgYnJvd3NlciBzdXBwb3J0IGZvciBjYW5jZWwgaXMgY3VycmVudGx5IHF1aXRlIGJhZAogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNhbmNlbCIsICgpID0+IHsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdXBkYXRlTW9kYWxWaXN1YWxzKCk7CiAgICB9KTsKCiAgY29uc3QgdXBkYXRlTW9kYWxWaXN1YWxzID0gKCkgPT4gewogICAgY29uc3QgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgYnV0dG9uW2lkPSJ0dy1maWxlcy1tb2RhbCJdYCk7CiAgICBhbGxNb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHsKICAgICAgbW9kYWwucGFyZW50Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYmEoMCwgMCwgMCwgJHtzZWxlY3Rvck9wdGlvbnMuc2hhZG93fSlgOwogICAgICBtb2RhbC5wYXJlbnROb2RlLnN0eWxlLmNvbG9yID0gc2VsZWN0b3JPcHRpb25zLnRleHRDb2xvcjsKCiAgICAgIG1vZGFsLnN0eWxlLmZvbnQgPSBzZWxlY3Rvck9wdGlvbnMuZm9udDsKICAgICAgbW9kYWwuc3R5bGUuZm9udEZhbWlseSA9IHNlbGVjdG9yT3B0aW9ucy5mb250OwogICAgICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gc2VsZWN0b3JPcHRpb25zLmltYWdlCiAgICAgICAgPyBzZWxlY3Rvck9wdGlvbnMuaW1hZ2UKICAgICAgICA6IHNlbGVjdG9yT3B0aW9ucy5vdXRlcjsKICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gYCR7c2VsZWN0b3JPcHRpb25zLmJvcmRlclJhZGl1c31weGA7CiAgICAgIG1vZGFsLnN0eWxlLmJvcmRlclN0eWxlID0gc2VsZWN0b3JPcHRpb25zLmJvcmRlclR5cGU7CiAgICAgIG1vZGFsLnN0eWxlLmJvcmRlckNvbG9yID0gc2VsZWN0b3JPcHRpb25zLmJvcmRlckNvbG9yOwoKICAgICAgY29uc3QgdGl0bGUgPSBtb2RhbC5jaGlsZHJlblswXTsKICAgICAgaWYgKHNlbGVjdG9yT3B0aW9ucy50ZXh0VikgdGl0bGUudGV4dENvbnRlbnQgPSBzZWxlY3Rvck9wdGlvbnMudGV4dFY7CiAgICAgIHRpdGxlLnN0eWxlLmNvbG9yID0gc2VsZWN0b3JPcHRpb25zLnRleHRDb2xvcjsKICAgICAgdGl0bGUuc3R5bGUuZm9udFNpemUgPSBgJHtzZWxlY3Rvck9wdGlvbnMuc2l6ZUZvbnR9ZW1gOwogICAgICB0aXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gc2VsZWN0b3JPcHRpb25zLmZvbnRXZWlnaHQgKiA5OwogICAgICB0aXRsZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gYCR7c2VsZWN0b3JPcHRpb25zLmxldHRlclNwYWNpbmd9cHhgOwoKICAgICAgY29uc3Qgc3VidGl0bGUgPSBtb2RhbC5jaGlsZHJlblsxXTsKICAgICAgc3VidGl0bGUuc3R5bGUuY29sb3IgPSBzZWxlY3Rvck9wdGlvbnMudGV4dENvbG9yOwogICAgICBzdWJ0aXRsZS5zdHlsZS5mb250U2l6ZSA9IGAke3NlbGVjdG9yT3B0aW9ucy5zaXplRm9udCAtIDAuNX1lbWA7CiAgICAgIHN1YnRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSBzZWxlY3Rvck9wdGlvbnMuZm9udFdlaWdodCAqIDk7CiAgICAgIHN1YnRpdGxlLnN0eWxlLmxldHRlclNwYWNpbmcgPSBgJHtzZWxlY3Rvck9wdGlvbnMubGV0dGVyU3BhY2luZ31weGA7CiAgICB9KTsKICB9OwoKICAvLyBiYWNrdXAgZG93bmxvYWQgc3lzdGVtIChQZW5ndWlubW9kIGRvZXMgbm90IGhhdmUgU2NyYXRjaC5kb3dubG9hZCkKICBjb25zdCBkb3dubG9hZEJhY2t1cFVSTCA9ICh1cmwsIGZpbGUpID0+IHsKICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICBsaW5rLmRvd25sb2FkID0gZmlsZTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICBsaW5rLmNsaWNrKCk7CiAgICBsaW5rLnJlbW92ZSgpOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7QmxvYn0gYmxvYiBEYXRhIHRvIGRvd25sb2FkCiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUgTmFtZSBvZiB0aGUgZmlsZQogICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAqLwogIGNvbnN0IGRvd25sb2FkQmxvYiA9IGFzeW5jIChibG9iLCBmaWxlKSA9PiB7CiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgdHJ5IHsKICAgICAgaWYgKGlzUE0pIHsKICAgICAgICBkb3dubG9hZEJhY2t1cFVSTCh1cmwsIGZpbGUpOwogICAgICAgIChyZXF1ZXN0SWRsZUNhbGxiYWNrID8/IHNldFRpbWVvdXQpKCgpID0+IFVSTC5yZXZva2VPYmplY3RVUkwodXJsKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgYXdhaXQgU2NyYXRjaC5kb3dubG9hZCh1cmwsIGZpbGUpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgfQogICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwKICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgKi8KICBjb25zdCBpc0RhdGFVUkwgPSAodXJsKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCBwYXJzZWQgPSBuZXcgVVJMKHVybCk7CiAgICAgIHJldHVybiBwYXJzZWQucHJvdG9jb2wgPT09ICJkYXRhOiI7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsCiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUKICAgKi8KICBjb25zdCBkb3dubG9hZFVudHJ1c3RlZFVSTCA9IGFzeW5jICh1cmwsIGZpbGUpID0+IHsKICAgIGlmIChpc0RhdGFVUkwodXJsKSkgewogICAgICBpZiAoaXNQTSkgewogICAgICAgIGRvd25sb2FkQmFja3VwVVJMKHVybCwgZmlsZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRPRE86IFNjcmF0Y2guZmV0Y2gncyBiZXR0ZXIgaGFuZGxpbmcgb2YgZGF0YTogbWVhbnMgdGhpcyBpcyBwcm9iYWJseSBub3QgbmVlZGVkIGFueW1vcmUKICAgICAgICAvLyBhbmQgaXQgdGhlIGJsb2I6IHByb2JhYmx5IHdvcmtzIGJldHRlciB3aXRoIGJpZyBmaWxlcwogICAgICAgIHJldHVybiBTY3JhdGNoLmRvd25sb2FkKHVybCwgZmlsZSk7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCByZXMgPSBhd2FpdCBTY3JhdGNoLmZldGNoKHVybCk7CiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTsKICAgIGF3YWl0IGRvd25sb2FkQmxvYihibG9iLCBmaWxlKTsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZQogICAqIEByZXR1cm5zIHtzdHJpbmd9IGZvcm1hdHRlZCBieXRlIHNpemUKICAgKi8KICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7CiAgICBjb25zdCB1bml0cyA9IFsiQiIsICJLQiIsICJNQiIsICJHQiIsICJUQiJdOwogICAgbGV0IGkgPSAwOwogICAgd2hpbGUgKHNpemUgPj0gMTAyNCAmJiBpIDwgdW5pdHMubGVuZ3RoIC0gMSkgewogICAgICBzaXplIC89IDEwMjQ7CiAgICAgIGkrKzsKICAgIH0KICAgIHJldHVybiBgJHtzaXplLnRvRml4ZWQoMil9ICR7dW5pdHNbaV19YDsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyCiAgICogQHBhcmFtIHtzdHJpbmd9IGRlbGltCiAgICogQHJldHVybnMge3N0cmluZ30gaGV4IHNwbGl0IGJ5IGRlbGltaXRlcgogICAqLwogIGZ1bmN0aW9uIGJhc2U2NFRvSGV4KHN0ciwgZGVsaW0pIHsKICAgIGNvbnN0IHJhdyA9IGF0b2Ioc3RyKTsKICAgIGxldCByZXN1bHQgPSAiIjsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGhleCA9IHJhdy5jaGFyQ29kZUF0KGkpLnRvU3RyaW5nKDE2KTsKICAgICAgcmVzdWx0ICs9IGRlbGltLnRvU3RyaW5nKCkgKyAoaGV4Lmxlbmd0aCA9PT0gMiA/IGhleCA6ICIwIiArIGhleCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlcgogICAqIEByZXR1cm5zIHtzdHJpbmd9IGJhc2U2NAogICAqLwogIGZ1bmN0aW9uIGJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikgewogICAgdmFyIGJpbmFyeSA9ICIiOwogICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICAgIHZhciBsZW4gPSBieXRlcy5ieXRlTGVuZ3RoOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7CiAgICB9CiAgICByZXR1cm4gYnRvYShiaW5hcnkpOwogIH0KCiAgY2xhc3MgZmlsZXNFeHBhbmRlZCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5fc2hvd1Vuc2FmZU9wdGlvbnMgPSBmYWxzZTsKICAgIH0KICAgIGdldEluZm8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6ICJmaWxlc0V4cGFuZGVkIiwKICAgICAgICBuYW1lOiBTY3JhdGNoLnRyYW5zbGF0ZSgiRmlsZXMgRXhwYW5kZWQiKSwKICAgICAgICBtZW51SWNvblVSSSwKICAgICAgICBjb2xvcjE6ICIjZmNiMTAzIiwKICAgICAgICBjb2xvcjI6ICIjZGI5YTM3IiwKICAgICAgICBjb2xvcjM6ICIjZGI4OTM3IiwKICAgICAgICBibG9ja3M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlVwbG9hZGluZyIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvcGVuIGEgZmlsZSIpLAogICAgICAgICAgICBkaXNhYmxlTW9uaXRvcjogdHJ1ZSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlckV4dGVuc2lvbnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3BlbiBhIFtleHRlbnNpb25dIGZpbGUiKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBleHRlbnNpb246IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogIi50eHQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzaG93UGlja2VyQXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3BlbiBhIGZpbGUgYXMgW2FzXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBhczogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlckV4dGVuc2lvbnNBcyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvcGVuIGEgW2V4dGVuc2lvbl0gZmlsZSBhcyBbYXNdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIGV4dGVuc2lvbjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiLnR4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhczogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIkRvd25sb2FkaW5nIiksCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkb3dubG9hZCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRvd25sb2FkIFt0ZXh0XSBhcyBbZmlsZV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgiSGVsbG8sIHdvcmxkISIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZmlsZTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgic2F2ZS50eHQiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZG93bmxvYWRVUkwiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkb3dubG9hZCBVUkwgW3VybF0gYXMgW2ZpbGVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIHVybDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiZGF0YTp0ZXh0L3BsYWluO2Jhc2U2NCxTR1ZzYkc4c0lIZHZjbXhrSVE9PSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBmaWxlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJzYXZlLnR4dCIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiRXh0cmEiKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldE9wZW5Nb2RlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IG9wZW4gZmlsZSBzZWxlY3RvciBtb2RlIHRvIFttb2RlXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBtb2RlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IE1PREVfTU9EQUwsCiAgICAgICAgICAgICAgICBtZW51OiAiYXV0b21hdGljYWxseU9wZW4iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJmaWxlSW5mbyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJsYXN0IG9wZW5lZCBmaWxlIFtGT1JNQVRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPUk1BVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkZJTEVfSU5GTyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibW9kYWxPcGVuIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaXMgbW9kYWwgb3Blbj8iKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZpbmRGaWxlU2l6ZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJbVFlQRV0gZmlsZSBzaXplIG9mIFtGSUxFXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAiRklMRV9TSVpFUyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBGSUxFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJIZWxsbywgd29ybGQhIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJTdG9yZWQgRmlsZXMiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImNoZWNrRmlsZUFQSSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIGZpbGUgd3JpdGluZyBzdXBwb3J0ZWQ/IiksCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhbGxTdG9yZWQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYWxsIHN0b3JlZCBmaWxlcyIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0U3RvcmVkRmlsZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgIm9wZW4gW01VTFRJXSBbRklMRV0gZmlsZShzKSBhbmQgc3RvcmUgYXMgW1RZUEVdIG5hbWVkIFtOQU1FXSIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTVVMVEk6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJtdWx0aU1vZGUiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibXktZmlsZS0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBGSUxFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICIudHh0IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIFRZUEU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJlbmNvZGluZyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN0b3JlZEZvbGRlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgIm9wZW4gZm9sZGVyIGFuZCBzdG9yZSBmaWxlcyBhcyBbVFlQRV0gd2l0aCBuYW1lIFtOQU1FXSIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE5BTUU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15LWZvbGRlci0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImRlbGV0ZVN0b3JlZEZpbGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgZmlsZSBbTkFNRV0gZnJvbSBbT1BUSU9OXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJteS1maWxlLTEiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE9QVElPTjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkRFTEVUSU9OIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVGaWxlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid3JpdGUgW1RYVF0gdG8gc3RvcmVkIGZpbGUgW05BTUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRYVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibmV3IGNvbnRlbnQiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE5BTUU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15LWZpbGUtMSIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVGaWxlVVJMIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid3JpdGUgVVJMIFtVUkxdIHRvIHN0b3JlZCBmaWxlIFtOQU1FXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBVUkw6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogImRhdGE6dGV4dC9wbGFpbjtiYXNlNjQsU0dWc2JHOHNJSGR2Y214a0lRPT0iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibXktZmlsZS0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN0b3JlZEluZm8iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiW0ZPUk1BVF0gaW4gc3RvcmVkIGZpbGUgW05BTUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPUk1BVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkZJTEVfSU5GTyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJteS1maWxlLTEiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJtb3ZlU3RvcmFnZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm1pZ3JhdGUgZmlsZXMgdG8gQ1NUJ3MgWklQIEV4dGVuc2lvbiIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlZpc3VhbHMiKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGZ1bmM6ICJ0b2dnbGVWaXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgYCR7ZW5hYmxlVmlzID8gIkVuIiA6ICJEaXMifWFibGUgQ3VzdG9taXphdGlvbmAKICAgICAgICAgICAgKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlc2V0U3R5bGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZXNldCBzZWxlY3RvciBzdHlsZSB0byBkZWZhdWx0IiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJib3JkZXJDb2xvcnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2VsZWN0b3IgW09QVElPTl0gY29sb3IgdG8gW0NPTE9SXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1BUSU9OOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAidmlzdWFsQ29sb3JzIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIENPTE9SOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5DT0xPUiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidmlzdWFsc1NlbGVjdCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzZWxlY3RvciBbT1BUSU9OXSB0byBbQU1UXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1BUSU9OOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAidmlzdWFsT3B0aW9ucyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBBTVQ6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMTUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImltYWdlU2V0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IHNlbGVjdG9yIGltYWdlIHRvIFtJTUddIiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJTUc6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogImh0dHBzOi8vZXh0ZW5zaW9ucy50dXJib3dhcnAub3JnL2RhbmdvLnBuZyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAvKiBEZXByZWNhdGlvbiBNYXJrZXIgKi8KICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2NhbGVJbWFnZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInNjYWxlIHNlbGVjdG9yIGltYWdlIHRvIFtTQ0FMRV0lIiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsgU0NBTEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSIH0gfQogICAgICAgICAgfSwKICAgICAgICAgIC8qIE1hcmtlciBFbmQgKi8KICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYm9yZGVyVHlwZVNldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzZWxlY3RvciBib3JkZXIgdHlwZSB0byBbVFlQRV0iKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBlbmFibGVWaXMsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJib3JkZXJUeXBlcyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZvbnRTZXQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2VsZWN0b3IgZm9udCB0byBbRk9OVF0iKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBlbmFibGVWaXMsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPTlQ6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJmb250IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidGV4dFNldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBmaWxlIHNlbGVjdG9yIHRleHQgdG8gW1RFWFRdIiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJJbnNlcnQgRmlsZSBIZXJlIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImN1cnJlbnRYIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImN1cnJlbnQgc2VsZWN0b3IgW1RISU5HXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVEhJTkc6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJtb2RhbFZpc3VhbHMiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgbWVudXM6IHsKICAgICAgICAgIGZvbnQ6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogImdldEZvbnRzIiwKICAgICAgICAgIH0sCiAgICAgICAgICBlbmNvZGluZzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiAiZ2V0RW5jb2RpbmdzIiwKICAgICAgICAgIH0sCiAgICAgICAgICBhdXRvbWF0aWNhbGx5T3BlbjogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNob3cgbW9kYWwiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiBNT0RFX01PREFMLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm9wZW4gc2VsZWN0b3IgaW1tZWRpYXRlbHkiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1IsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBXaWxsIG5vdCB3b3JrIGlmIHRoZSBicm93c2VyIGRvZXNuJ3QgdGhpbmsgd2UgYXJlIHJlc3BvbmRpbmcgdG8gYSBjbGljayBldmVudC4KICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvbmx5IHNob3cgc2VsZWN0b3IgKHVucmVsaWFibGUpIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogTU9ERV9PTkxZX1NFTEVDVE9SLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgRklMRV9TSVpFUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImZvcm1hdHRlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb3JtYXR0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInVuZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInVuZm9ybWF0dGVkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIEZJTEVfSU5GTzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRhdGEiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZGF0YSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibmFtZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJuYW1lIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJtb2RpZmllZCBkYXRlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogIm1vZGlmaWVkIGRhdGUiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNpemUgZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpemUgZm9ybWF0dGVkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzaXplIHVuZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpemUgdW5mb3JtYXR0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgREVMRVRJT046IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzdG9yYWdlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInN0b3JhZ2UiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRoaXMgZGV2aWNlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInRoaXMgZGV2aWNlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJib3RoIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImJvdGgiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgbXVsdGlNb2RlOiB7CiAgICAgICAgICAgIGFjY2VwdFJlcG9ydGVyczogZmFsc2UsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImEgc2luZ2xlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpbmdsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJtdWx0aXBsZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJtdWx0aXBsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIG1vZGFsVmlzdWFsczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciBjb2xvciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXIiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQgY29sb3IiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAidGV4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFja2dyb3VuZCBjb2xvciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJvdXRlciIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3ZlcmxheSBvcGFjaXR5IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNoYWRvdyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZm9udCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb250IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHNpemUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAic2l6ZUZvbnQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImZvbnQgdGhpY2tuZXNzIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImZvbnRXZWlnaHQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImxldHRlciBzcGFjaW5nIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImxldHRlclNwYWNpbmciLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciByYWRpdXMiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiYm9yZGVyUmFkaXVzIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJib3JkZXIgdHlwZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXJUeXBlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJiYWNrZ3JvdW5kIGltYWdlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImltYWdlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJ0ZXh0IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInRleHRWIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIHZpc3VhbENvbG9yczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXIiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAidGV4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFja2dyb3VuZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJiYWNrZ3JvdW5kIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIHZpc3VhbE9wdGlvbnM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHNpemUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZm9udCBzaXplIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHRoaWNrbmVzcyIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb250IHRoaWNrbmVzcyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibGV0dGVyIHNwYWNpbmciKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAibGV0dGVyIHNwYWNpbmciLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciByYWRpdXMiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiYm9yZGVyIHJhZGl1cyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3ZlcmxheSBvcGFjaXR5IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogIm92ZXJsYXkgb3BhY2l0eSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgICBib3JkZXJUeXBlczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRvdHRlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJkb3R0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRhc2hlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJkYXNoZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNvbGlkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNvbGlkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkb3VibGUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZG91YmxlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJncm9vdmUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZ3Jvb3ZlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyaWRnZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJyaWRnZSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaW5zZXQiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiaW5zZXQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm91dHNldCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJvdXRzZXQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm5vbmUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAibm9uZSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfTsKICAgIH0KCiAgICAvLyBIZWxwZXIgRnVuY3MKICAgIGdldEZvbnRzKCkgewogICAgICBjb25zdCBjdXN0b21Gb250cyA9IHJ1bnRpbWUuZm9udE1hbmFnZXIgPyBydW50aW1lLmZvbnRNYW5hZ2VyLmdldEZvbnRzKCkubWFwKChpKSA9PiAoeyB0ZXh0OiBpLm5hbWUsIHZhbHVlOiBpLmZhbWlseSB9KSkgOiBbXTsKICAgICAgcmV0dXJuIFsuLi5idWlsdEluRm9udHMsIC4uLmN1c3RvbUZvbnRzXTsKICAgIH0KCiAgICBnZXRFbmNvZGluZ3Mob25seVNhZmUpIHsKICAgICAgY29uc3QgdHlwZXMgPSBbCiAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidGV4dCIpLCB2YWx1ZTogQVNfVEVYVCB9LAogICAgICAgIHsgdGV4dDogImRhdGE6IFVSTCIsIHZhbHVlOiBBU19EQVRBX1VSTCB9LAogICAgICAgIHsgdGV4dDogImJhc2U2NCIsIHZhbHVlOiBBU19CQVNFNjQgfSwKICAgICAgICB7IHRleHQ6ICJoZXgiLCB2YWx1ZTogQVNfSEVYIH0sCiAgICAgIF07CiAgICAgIGlmICh0aGlzLl9zaG93VW5zYWZlT3B0aW9ucykgdHlwZXMucHVzaCh7IHRleHQ6ICJhcnJheUJ1ZmZlciIsIHZhbHVlOiBBU19CVUZGRVIgfSk7CiAgICAgIHJldHVybiB0eXBlczsKICAgIH0KCiAgICB0b2dnbGVWaXMoKSB7CiAgICAgIChlbmFibGVWaXMgPSBlbmFibGVWaXMgPyBmYWxzZSA6IHRydWUpLAogICAgICAgIHZtLmV4dGVuc2lvbk1hbmFnZXIucmVmcmVzaEJsb2NrcygpOwogICAgfQoKICAgIHVwZGF0ZVN0b3JlKG5hbWUsIGRhdGEsIG1ldGFEYXRhKSB7CiAgICAgIGNvbnN0IHJhd0RhdGUgPSBuZXcgRGF0ZShtZXRhRGF0YS5sYXN0TW9kaWZpZWQpOwogICAgICBzdG9yZWRGaWxlc1tuYW1lXS5kYXRhID0gewogICAgICAgIHNpemU6IG1ldGFEYXRhLnNpemUsCiAgICAgICAgc2l6ZUZvcm1hdDogZm9ybWF0RmlsZVNpemUobWV0YURhdGEuc2l6ZSksCiAgICAgICAgZGF0ZUZvcm1hdDogcmF3RGF0ZS50b0xvY2FsZVN0cmluZygpLAogICAgICAgIGRhdGEsCiAgICAgIH07CiAgICB9CgogICAgYXN5bmMgZW5jb2RlRGF0YShtZXRhLCBmb3JtYXQpIHsKICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IG1ldGEudGV4dCgpOwogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBtZXRhLmFycmF5QnVmZmVyKCk7CiAgICAgIGlmIChmb3JtYXQgPT09IEFTX1RFWFQpIHJldHVybiB0ZXh0OwogICAgICBlbHNlIGlmIChmb3JtYXQgPT09IEFTX0JVRkZFUikgcmV0dXJuIGJ1ZmZlcjsKICAgICAgY29uc3QgYmFzZTY0ID0gYnVmZmVyVG9CYXNlNjQoYnVmZmVyKTsKICAgICAgaWYgKGZvcm1hdCA9PT0gQVNfQkFTRTY0KSByZXR1cm4gYmFzZTY0OwogICAgICBlbHNlIGlmIChmb3JtYXQgPT09IEFTX0RBVEFfVVJMKSByZXR1cm4gYGRhdGE6JHttZXRhLnR5cGV9O2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCR7YmFzZTY0fWA7CiAgICAgIGVsc2UgaWYgKGZvcm1hdCA9PT0gQVNfSEVYKSByZXR1cm4gYmFzZTY0VG9IZXgoYmFzZTY0LCAiICIpOwogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICAvLyBCbG9jayBGdW5jcyAoVXBsb2FkICYgRG93bmxvYWQpCiAgICBzaG93UGlja2VyKCkgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoIiIsIEFTX1RFWFQpOwogICAgfQoKICAgIHNob3dQaWNrZXJFeHRlbnNpb25zKGFyZ3MpIHsKICAgICAgcmV0dXJuIHNob3dGaWxlUHJvbXB0KGFyZ3MuZXh0ZW5zaW9uLCBBU19URVhUKTsKICAgIH0KCiAgICBzaG93UGlja2VyQXMoYXJncykgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoIiIsIGFyZ3MuYXMpOwogICAgfQoKICAgIHNob3dQaWNrZXJFeHRlbnNpb25zQXMoYXJncykgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoYXJncy5leHRlbnNpb24sIGFyZ3MuYXMpOwogICAgfQoKICAgIGFzeW5jIGRvd25sb2FkKGFyZ3MpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBkb3dubG9hZEJsb2IoCiAgICAgICAgICBuZXcgQmxvYihbU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MudGV4dCldKSwKICAgICAgICAgIFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLmZpbGUpCiAgICAgICAgKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBkb3dubG9hZFVSTChhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgZG93bmxvYWRVbnRydXN0ZWRVUkwoCiAgICAgICAgICBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy51cmwpLAogICAgICAgICAgU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuZmlsZSkKICAgICAgICApOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgfQogICAgfQoKICAgIHNldE9wZW5Nb2RlKGFyZ3MpIHsKICAgICAgaWYgKEFMTF9NT0RFUy5pbmNsdWRlcyhhcmdzLm1vZGUpKSBvcGVuRmlsZVNlbGVjdG9yTW9kZSA9IGFyZ3MubW9kZTsKICAgICAgZWxzZSBjb25zb2xlLndhcm4oYHVua25vd24gbW9kZWAsIGFyZ3MubW9kZSk7CiAgICB9CgogICAgZmlsZUluZm8oYXJncykgewogICAgICBpZiAoYXJncy5GT1JNQVQgPT09ICJzaXplIGZvcm1hdHRlZCIpIHJldHVybiBGaWxlU2l6ZTsKICAgICAgZWxzZSBpZiAoYXJncy5GT1JNQVQgPT09ICJzaXplIHVuZm9ybWF0dGVkIikgcmV0dXJuIFJhd0ZpbGVTaXplOwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gIm1vZGlmaWVkIGRhdGUiKSByZXR1cm4gZmlsZURhdGU7CiAgICAgIGVsc2UgaWYgKGFyZ3MuRk9STUFUID09PSAiZGF0YSIpIHJldHVybiBsYXN0RGF0YTsKICAgICAgcmV0dXJuIEZpbGVOYW1lOwogICAgfQoKICAgIG1vZGFsT3BlbigpIHsKICAgICAgcmV0dXJuIG9wZW5Nb2RhbHMgIT09IDA7CiAgICB9CgogICAgLy8gRmlsZSBXcml0aW5nICYgRm9sZGVycwogICAgY2hlY2tGaWxlQVBJKCkgewogICAgICByZXR1cm4gInNob3dPcGVuRmlsZVBpY2tlciIgaW4gd2luZG93OwogICAgfQoKICAgIGFsbFN0b3JlZCgpIHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHN0b3JlZEZpbGVzKSk7CiAgICB9CgogICAgYXN5bmMgc2V0U3RvcmVkRmlsZShhcmdzKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0ZpbGVBUEkoKSkgcmV0dXJuOwogICAgICBjb25zdCBmaWxlVHlwZXMgPSBhcmdzLkZJTEUgPyBhcmdzLkZJTEUuc3BsaXQoIiAiKSA6IFtdOwogICAgICBjb25zdCBpc011bHRpID0gYXJncy5NVUxUSSA9PT0gIm11bHRpcGxlIjsKICAgICAgY29uc3Qgb3ZlcnJpZGVyID0geyB0eXBlOiAid2luZG93IiwgYWxsb3dNdWx0aTogaXNNdWx0aSB9OwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHBpY2tlciA9IGF3YWl0IHNob3dGaWxlUHJvbXB0KGZpbGVUeXBlcywgIiIsIG92ZXJyaWRlcik7CiAgICAgICAgaWYgKCFwaWNrZXIpIHJldHVybjsKCiAgICAgICAgY29uc3QgbmFtZSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLk5BTUUpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlja2VyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBzcGFjZU5hbWUgPSBpc011bHRpID8gbmFtZSArIChpICsgMSkgOiBuYW1lOwogICAgICAgICAgc3RvcmVkRmlsZXNbc3BhY2VOYW1lXSA9IHsgZmlsZTogcGlja2VyW2ldLCBkYXRhOiB7fSB9OwogICAgICAgICAgY29uc3QgbWV0YURhdGEgPSBhd2FpdCBwaWNrZXJbaV0uZ2V0RmlsZSgpOwogICAgICAgICAgY29uc3QgZW5jb2RlZERhdGEgPSBhd2FpdCB0aGlzLmVuY29kZURhdGEobWV0YURhdGEsIGFyZ3MuVFlQRSk7CiAgICAgICAgICB0aGlzLnVwZGF0ZVN0b3JlKHNwYWNlTmFtZSwgZW5jb2RlZERhdGEsIG1ldGFEYXRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLndhcm4oZSk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBzdG9yZWRGb2xkZXIoYXJncykgewogICAgICBpZiAoIXRoaXMuY2hlY2tGaWxlQVBJKCkpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwaWNrZXIgPSBhd2FpdCBzaG93RmlsZVByb21wdCgiRm9sZGVyIiwgIiIsIHsgdHlwZTogImZvbGRlciIgfSk7CiAgICAgICAgaWYgKCFwaWNrZXIpIHJldHVybjsKCiAgICAgICAgY29uc3QgY3JlYXRlRXh0RmlsZSA9IGFzeW5jIChmb2xkZXJOLCBkYXRhKSA9PiB7CiAgICAgICAgICBjb25zdCBuYW1lID0gYCR7Zm9sZGVyTn0vJHtkYXRhLm5hbWV9YDsKICAgICAgICAgIHN0b3JlZEZpbGVzW25hbWVdID0geyBmaWxlOiBkYXRhLCBkYXRhOiB7fSB9OwogICAgICAgICAgY29uc3QgbWV0YURhdGEgPSBhd2FpdCBkYXRhLmdldEZpbGUoKTsKICAgICAgICAgIGNvbnN0IGVuY29kZWREYXRhID0gYXdhaXQgdGhpcy5lbmNvZGVEYXRhKG1ldGFEYXRhLCBhcmdzLlRZUEUpOwogICAgICAgICAgdGhpcy51cGRhdGVTdG9yZShuYW1lLCBlbmNvZGVkRGF0YSwgbWV0YURhdGEpOwogICAgICAgIH07CgogICAgICAgIGNvbnN0IGRpZ1Rocm91Z2hGb2xkZXIgPSBhc3luYyAoZm9sZGVyQ3R4KSA9PiB7CiAgICAgICAgICBjb25zdCBlbnRyaWVzID0gZm9sZGVyQ3R4LmVudHJpZXMoKTsKICAgICAgICAgIGNvbnN0IGZvbGRlck4gPSBhcmdzLk5BTUUgPyBhcmdzLk5BTUUgOiBmb2xkZXJDdHgubmFtZTsKICAgICAgICAgIGxldCB0aGlzRmlsZSA9ICIiOwogICAgICAgICAgd2hpbGUgKHRoaXNGaWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc3Qgb3V0ZXJEYXRhID0gYXdhaXQgZW50cmllcy5uZXh0KCk7CiAgICAgICAgICAgIHRoaXNGaWxlID0gb3V0ZXJEYXRhLnZhbHVlOwogICAgICAgICAgICBpZiAodGhpc0ZpbGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGNvbnN0IGlubmVyRGF0YSA9IHRoaXNGaWxlWzFdOwogICAgICAgICAgICAgIGlmIChpbm5lckRhdGEua2luZCA9PT0gImRpcmVjdG9yeSIpIGF3YWl0IGRpZ1Rocm91Z2hGb2xkZXIoaW5uZXJEYXRhKTsKICAgICAgICAgICAgICBlbHNlIGF3YWl0IGNyZWF0ZUV4dEZpbGUoZm9sZGVyTiwgaW5uZXJEYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYXdhaXQgZGlnVGhyb3VnaEZvbGRlcihwaWNrZXIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKGUpOwogICAgICB9CiAgICB9CgogICAgZGVsZXRlU3RvcmVkRmlsZShhcmdzKSB7CiAgICAgIGlmIChhcmdzLk9QVElPTiA9PT0gInRoaXMgZGV2aWNlIiB8fCBhcmdzLk9QVElPTiA9PT0gImJvdGgiKSB7CiAgICAgICAgaWYgKCF0aGlzLmNoZWNrRmlsZUFQSSgpIHx8IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0uZmlsZS5yZW1vdmUoKTsKICAgICAgfQogICAgICBpZiAoYXJncy5PUFRJT04gPT09ICJzdG9yYWdlIiB8fCBhcmdzLk9QVElPTiA9PT0gImJvdGgiKSBkZWxldGUgc3RvcmVkRmlsZXNbYXJncy5OQU1FXTsKICAgIH0KCiAgICBhc3luYyB1cGRhdGVGaWxlKGFyZ3MpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrRmlsZUFQSSgpIHx8IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHdyaXRhYmxlID0gYXdhaXQgc3RvcmVkRmlsZXNbYXJncy5OQU1FXS5maWxlLmNyZWF0ZVdyaXRhYmxlKCk7CiAgICAgICAgYXdhaXQgd3JpdGFibGUud3JpdGUoYXJncy5UWFQpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7CiAgICAgICAgdGhpcy51cGRhdGVTdG9yZShhcmdzLk5BTUUsIGFyZ3MuVFhULCB7CiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCksCiAgICAgICAgICBzaXplOiBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5UWFQpLmxlbmd0aCwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihlKTsKICAgICAgfQogICAgfQoKICAgIGFzeW5jIHVwZGF0ZUZpbGVVUkwoYXJncykgewogICAgICBpZiAoIXRoaXMuY2hlY2tGaWxlQVBJKCkgfHwgc3RvcmVkRmlsZXNbYXJncy5OQU1FXSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXJsID0gU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuVVJMKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBTY3JhdGNoLmZldGNoKHVybCk7CiAgICAgICAgaWYgKCFyZXMub2spIHJldHVybjsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTsKICAKICAgICAgICBjb25zdCB3cml0YWJsZSA9IGF3YWl0IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0uZmlsZS5jcmVhdGVXcml0YWJsZSgpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLndyaXRlKGJsb2IpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7CiAgICAgICAgdGhpcy51cGRhdGVTdG9yZShhcmdzLk5BTUUsIHVybCwgewogICAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLAogICAgICAgICAgc2l6ZTogdXJsLmxlbmd0aCwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihlKTsKICAgICAgfQogICAgfQoKICAgIHN0b3JlZEluZm8oYXJncykgewogICAgICBjb25zdCBmaWxlSW5mbyA9IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV07CiAgICAgIGlmIChmaWxlSW5mbyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gIiI7CiAgICAgIGVsc2UgaWYgKGFyZ3MuRk9STUFUID09PSAic2l6ZSBmb3JtYXR0ZWQiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5zaXplRm9ybWF0OwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gInNpemUgdW5mb3JtYXR0ZWQiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5zaXplOwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gIm1vZGlmaWVkIGRhdGUiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5kYXRlRm9ybWF0OwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gImRhdGEiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5kYXRhOwogICAgICByZXR1cm4gZmlsZUluZm8uZmlsZS5uYW1lOwogICAgfQoKICAgIG1vdmVTdG9yYWdlKCkgewogICAgICBjb25zdCBleHQgPSBydW50aW1lLmV4dF9jc3QxMjI5emlwOwogICAgICBpZiAoZXh0ID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgZXh0LmNyZWF0ZUVtcHR5QXMoeyBOQU1FOiAiZmlsZXNFeHBhbmRlZF9zdG9yZWRGaWxlcyIgfSk7CiAgICAgIGlmIChleHQuemlwRXJyb3IpIHJldHVybjsKICAgICAgY29uc3QgemlwID0gZXh0LnppcHNbImZpbGVzRXhwYW5kZWRfc3RvcmVkRmlsZXMiXTsKICAgICAgZm9yIChjb25zdCBbbmFtZSwgZmlsZV0gb2YgT2JqZWN0LmVudHJpZXMoc3RvcmVkRmlsZXMpKSB6aXAuZmlsZShuYW1lLCBmaWxlLmRhdGEuZGF0YSk7CiAgICB9CgogICAgLy8gRXh0cmEKICAgIGZpbmRGaWxlU2l6ZShhcmdzKSB7CiAgICAgIGNvbnN0IHNpemUgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5GSUxFKS5sZW5ndGg7IC8vIGJ5dGVzCiAgICAgIHJldHVybiBhcmdzLlRZUEUgPT09ICJmb3JtYXR0ZWQiID8gZm9ybWF0RmlsZVNpemUoc2l6ZSkgOiBzaXplOwogICAgfQoKICAgIC8vIFZpc3VhbHMKICAgIHJlc2V0U3R5bGUoKSB7CiAgICAgIHNlbGVjdG9yT3B0aW9ucyA9IHsKICAgICAgICBib3JkZXJDb2xvcjogIiM4ODgiLCB0ZXh0Q29sb3I6ICIjMDAwIiwgb3V0ZXI6ICIjZmZmIiwKICAgICAgICBzaXplRm9udDogMS41LCBib3JkZXJSYWRpdXM6IDE2LCBib3JkZXJUeXBlOiAiZGFzaGVkIiwKICAgICAgICBmb250OiAiaW5oZXJpdCIsIHNoYWRvdzogMC41LCBpbWFnZTogIiIsIHRleHRWOiAiIiwKICAgICAgICBmb250V2VpZ2h0OiA0MCwgbGV0dGVyU3BhY2luZzogIm5vcm1hbCIsCiAgICAgIH07CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQoKICAgIGJvcmRlckNvbG9ycyhhcmdzKSB7CiAgICAgIHN3aXRjaCAoYXJncy5PUFRJT04pIHsKICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy50ZXh0Q29sb3IgPSBhcmdzLkNPTE9SOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiYmFja2dyb3VuZCI6CiAgICAgICAgICBzZWxlY3Rvck9wdGlvbnMub3V0ZXIgPSBhcmdzLkNPTE9SOwogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmltYWdlID0gIiI7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlckNvbG9yID0gYXJncy5DT0xPUjsKICAgICAgfQogICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgIH0KCiAgICB2aXN1YWxzU2VsZWN0KGFyZ3MpIHsKICAgICAgY29uc3QgYW10SW4gPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYXJncy5BTVQpOwogICAgICBzd2l0Y2ggKGFyZ3MuT1BUSU9OKSB7CiAgICAgICAgY2FzZSAiZm9udCBzaXplIjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5zaXplRm9udCA9IGFtdEluIC8gMTA7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmb250IHRoaWNrbmVzcyI6CiAgICAgICAgICBzZWxlY3Rvck9wdGlvbnMuZm9udFdlaWdodCA9IGFtdEluOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAibGV0dGVyIHNwYWNpbmciOgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmxldHRlclNwYWNpbmcgPSBhbXRJbjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImJvcmRlciByYWRpdXMiOgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlclJhZGl1cyA9IGFtdEluOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAib3ZlcmxheSBvcGFjaXR5IjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5zaGFkb3cgPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYW10SW4pIC8gMTAwOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5ib3JkZXIgPSBhbXRJbjsKICAgICAgfQogICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgIH0KCiAgICBib3JkZXJUeXBlU2V0KGFyZ3MpIHsKICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlclR5cGUgPSBhcmdzLlRZUEU7CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQoKICAgIGZvbnRTZXQoYXJncykgewogICAgICBzZWxlY3Rvck9wdGlvbnMuZm9udCA9IGFyZ3MuRk9OVDsKICAgICAgdXBkYXRlTW9kYWxWaXN1YWxzKCk7CiAgICB9CgogICAgY3VycmVudFgoYXJncykgewogICAgICBpZiAoYXJncy5USElORyA9PT0gInNoYWRvdyIgfHwgYXJncy5USElORyA9PT0gInNpemVGb250IikgewogICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBhcmdzLlRISU5HID09PSAic2hhZG93IiA/IDEwMCA6IDEwOwogICAgICAgIHJldHVybiBzZWxlY3Rvck9wdGlvbnNbYXJncy5USElOR10gKiBtdWx0aXBsaWVyOwogICAgICB9CiAgICAgIHJldHVybiBzZWxlY3Rvck9wdGlvbnNbYXJncy5USElOR107CiAgICB9CgogICAgLyogRGVwcmVjYXRpb24gTWFya2VyICovCiAgICBzY2FsZUltYWdlKCkgeyAvKiBkZXByZWNhdGVkICovIH0KICAgIC8qIE1hcmtlciBFbmQgKi8KICAgIGltYWdlU2V0KGFyZ3MpIHsKICAgICAgU2NyYXRjaC5jYW5GZXRjaChlbmNvZGVVUkkoYXJncy5JTUcpKS50aGVuKChjYW5GZXRjaCkgPT4gewogICAgICAgIGlmIChjYW5GZXRjaCkgewogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmltYWdlID0gYHVybCgke2VuY29kZVVSSShhcmdzLklNRyl9KWA7CiAgICAgICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHRleHRTZXQoYXJncykgewogICAgICBzZWxlY3Rvck9wdGlvbnMudGV4dFYgPSBhcmdzLlRFWFQ7CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQogIH0KCiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKChydW50aW1lLmV4dF9maWxlc0V4cGFuZGVkID0gbmV3IGZpbGVzRXhwYW5kZWQoKSkpOwp9KShTY3JhdGNoKTsK"},"meta":{"semver":"3.0.0","platform":{"name":"Mistwarp","url":"https://warp.mistium.com/"}}}