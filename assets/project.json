{"extensionStorage":{"SP0zMenuMaker":{"menus":{"myMenu-1":{"items":[{"text":"one","value":"1"}],"acceptReporters":false}}}},"targets":[{"isStage":true,"name":"Stage","variables":{"`jEk@4|i[#Fk?(8x)AV.-my variable":["my variable",0],"*6drhXP:uEQ|CIv1S8w@":["tmp",""],"2.8hHiaGU}W_ZtWSFr8{":["i",6],"eQwx-s}=a#9yHIAYl?I!":["tmp1",""],"npUY#k@VmQF+eQ;Grb`b":["j",1],"kb!NJ48,X=3E+A}v$pMh":["boxes","{\"1\":\"99\",\"2\":\"11\",\"op\":\"/\",\"calc\":9}"],"eJT3;YUNKbqbDr[OMj)a":["k",1],"Nb_hrG-xLFDC,w`vcT`x":["tmp2","[\"$calc\"]"],"E1O6Ig#rMIt_+F`~oyf*":["m",6],"IJ!vv`_]-Kj:B(*KP)R5":["n",0],"Njau~Rd+?m4v*qz$JPRw":["mode","1"],"-[/s5Ci!Vm_AYWv8F$C^":["code.toimport",0],"r[g}EQf@c1m5dOd_z]Z2":["o",10297502],"*Y4Kh;pE7IVVbDj/Jwk/":["tmp3",0],"HZriX$bbU/0Fn+gAGJ/L":["lm?",false],"gHwP?VfvO/L(IP_8XO;q":["data","apple banana"],"kiecKb_Raz?e$xLm2OTT":["tmp4",38281.09000000002],"H,MdXb!fA:r+(|cUAIyD":["p",254],"M+@({_-]oELA*M8.S0(O":["runing?","0"],"c3iI[Usk,NCBHtSp@p!Z":["tmp5","11<"]},"lists":{";A!-EsNOQGwq7!9H*J8b":["code (run)",["{\"cmd\":\"say\",\"args\":[\"calc\",\"1\"]}","{\"cmd\":\"ask\",\"args\":[\"1\"]}","{\"cmd\":\"ask\",\"args\":[\"op\"]}","{\"cmd\":\"ask\",\"args\":[\"2\"]}","{\"cmd\":\"math\",\"args\":[\"calc\",\"$1\",\"$2\",\"$op\"]}","{\"cmd\":\"say\",\"args\":[\"$calc\"]}"]],"9O|/dr-6%0yRU!*jD@Cb":["code",["say calc|1","ask 1","ask op","ask 2","math calc|$1|$2|$op","say $calc"]],"_Im,zJg}7i]sA]LkT)iJ":["[debug]",["box data size:33","fps: 151","cur cmd: say","[\"1\",\"99\"]","[\"2\",\"11\"]","[\"op\",\"/\"]","[\"calc\",9]"]],"}dDt?K()T1V#X=R=X]hf":["console",["calc","1  : 99","op  : /","2  : 11","9"]],"aqB}_)Cd()d9mK}wH)x!":["fps",[144.93,36.36,138.89,192.31,107.53,67.57,175.44,188.68,56.5,106.38,163.93,120.48,151.52,82.64,121.95,52.08,51.55,98.04,23.04,56.18,55.56,116.28,85.47,53.19,78.13,61.73,83.33,102.04,68.03,93.46,102.04,80.65,81.97,114.94,108.7,79.37,169.49,169.49,196.08,204.08,208.33,100,208.33,204.08,99.01,208.33,181.82,200,208.33,99.01,208.33,200,107.53,200,200,204.08,142.86,106.38,151.52,151.52,147.06,172.41,112.36,153.85,114.94,169.49,151.52,163.93,149.25,142.86,172.41,140.85,153.85,172.41,113.64,144.93,149.25,163.93,163.93,147.06,158.73,156.25,161.29,158.73,111.11,172.41,178.57,149.25,156.25,125,163.93,181.82,149.25,163.93,112.36,175.44,163.93,163.93,172.41,104.17,166.67,181.82,147.06,153.85,99.01,158.73,172.41,175.44,161.29,116.28,181.82,166.67,166.67,185.19,153.85,178.57,163.93,113.64,181.82,121.95,151.52,163.93,114.94,161.29,158.73,129.87,166.67,181.82,172.41,156.25,169.49,188.68,169.49,178.57,169.49,161.29,163.93,175.44,158.73,169.49,90.09,158.73,96.15,181.82,169.49,166.67,175.44,98.04,172.41,172.41,158.73,188.68,172.41,158.73,178.57,108.7,172.41,181.82,181.82,172.41,172.41,169.49,163.93,106.38,172.41,169.49,178.57,192.31,175.44,166.67,181.82,98.04,169.49,185.19,166.67,181.82,169.49,166.67,172.41,106.38,158.73,91.74,169.49,166.67,163.93,178.57,106.38,169.49,93.46,156.25,158.73,178.57,163.93,111.11,169.49,90.09,140.85,175.44,166.67,185.19,158.73,161.29,196.08,123.46,163.93,188.68,181.82,175.44,175.44,172.41,163.93,107.53,172.41,169.49,178.57,188.68,175.44,185.19,188.68,140.85,163.93,185.19,81.97,161.29,103.09,142.86,166.67,178.57,169.49,156.25,178.57,93.46,156.25,90.91,151.52,172.41,166.67,169.49,161.29,166.67,169.49,123.46,185.19,172.41,172.41,192.31,172.41,188.68,175.44,172.41,169.49,175.44,109.89,185.19]],"BEh/Abj(PI02)oR7U(*2":["err",[]],"iR=|db]RwF5@WV=W*X=H":["wrn",[]]},"broadcasts":{},"blocks":{"am":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"an","parent":null,"inputs":{"CONDITION":[2,"cc"]},"fields":{"STATE":["true"]},"topLevel":true},"cc":{"opcode":"operator_equals","next":null,"parent":"am","inputs":{"OPERAND1":[3,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"],[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"ao":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"ap","parent":null,"inputs":{"CONDITION":[2,"cd"]},"fields":{"STATE":["true"]},"topLevel":true},"cd":{"opcode":"operator_equals","next":null,"parent":"ao","inputs":{"OPERAND1":[3,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"an":{"opcode":"looks_switchbackdropto","next":null,"parent":"am","inputs":{"BACKDROP":[1,"ce"]},"fields":{}},"ce":{"opcode":"looks_backdrops","next":null,"parent":"an","inputs":{},"fields":{"BACKDROP":["backdrop1",null]},"shadow":true},"ap":{"opcode":"looks_switchbackdropto","next":null,"parent":"ao","inputs":{"BACKDROP":[1,"cf"]},"fields":{}},"cf":{"opcode":"looks_backdrops","next":null,"parent":"ap","inputs":{},"fields":{"BACKDROP":["backdrop2",null]},"shadow":true},"ev":{"opcode":"SP0zMenuMaker___SP0zMenuMaker_TEMP_BLOCK","next":null,"parent":null,"inputs":{},"fields":{}}},"comments":{"ew":{"blockId":null,"x":-60.03703703703701,"y":-42.703703703703695,"width":350,"height":170,"minimized":true,"text":"Configuration for https://turbowarp.org/\nYou can move, resize, and minimize this comment, but don't edit it by hand. This comment can be deleted to remove the stored settings.\n{\"framerate\":272,\"runtimeOptions\":{\"maxClones\":Infinity,\"miscLimits\":false,\"fencing\":false,\"caseSensitiveLists\":true,\"realLayerIndexes\":true},\"interpolation\":true,\"turbo\":true,\"hq\":true,\"mistwarpTheme\":{\"version\":1,\"kind\":\"standard\",\"data\":{\"accent\":\"red\",\"gui\":\"dark\",\"blocks\":\"custom\",\"menuBarAlign\":\"center\",\"wallpaper\":{\"url\":\"https://4kwallpapers.com/images/wallpapers/jujutsu-kaisen-3840x2160-24150.jpg\",\"opacity\":1,\"darkness\":0.1,\"gridVisible\":true,\"history\":[\"https://4kwallpapers.com/images/wallpapers/jujutsu-kaisen-3840x2160-24150.jpg\"]},\"fonts\":{\"system\":[],\"google\":[],\"history\":[]}}}} // _twconfig_"}},"currentCostume":0,"costumes":[{"name":"backdrop1","bitmapResolution":2,"dataFormat":"png","assetId":"fe85d1b853caabe1e38905aff3cb4611","md5ext":"fe85d1b853caabe1e38905aff3cb4611.png","rotationCenterX":480,"rotationCenterY":360},{"name":"backdrop2","bitmapResolution":2,"dataFormat":"png","assetId":"d7a26984c8850ae0ba9b238cd45e8b61","md5ext":"d7a26984c8850ae0ba9b238cd45e8b61.png","rotationCenterX":480,"rotationCenterY":360}],"sounds":[],"volume":100,"layerOrder":0,"tempo":60,"videoTransparency":50,"videoState":"on","textToSpeechLanguage":null},{"isStage":false,"name":"boxy :3","variables":{},"lists":{},"broadcasts":{},"blocks":{"aq":{"opcode":"procedures_definition","next":"ar","parent":null,"inputs":{"custom_block":[1,"q"]},"fields":{},"topLevel":true},"q":{"opcode":"procedures_prototype","next":null,"parent":"aq","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[1,"cg"],"sMWSK[e`nP!.#1hm5o6[":[1,"ch"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","argumentnames":"[\"input#\",\"line#\"]","argumentdefaults":"[\"\",\"\"]","warp":"true"}},"cg":{"opcode":"argument_reporter_string_number","next":null,"parent":"q","inputs":{},"fields":{"VALUE":["input#",null]},"shadow":true},"ch":{"opcode":"argument_reporter_string_number","next":null,"parent":"q","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"ar":{"opcode":"procedures_return","next":null,"parent":"aq","inputs":{"VALUE":[3,"as",[10,""]]},"fields":{}},"as":{"opcode":"procedures_call","next":null,"parent":"ar","inputs":{"RTR2*3KVWkD)pO1G4:X%":[3,"r",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get box data %s","argumentids":"[\"RTR2*3KVWkD)pO1G4:X%\"]","warp":"true","return":"1"}},"r":{"opcode":"skyhigh173JSON_json_array_get","next":null,"parent":"as","inputs":{"item":[3,"ci",[4,"1"]],"json":[3,"at",[10,"[\"scratch\",\"TurboWarp\"]"]]},"fields":{}},"ci":{"opcode":"argument_reporter_string_number","next":null,"parent":"r","inputs":{},"fields":{"VALUE":["input#",null]}},"at":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"r","inputs":{"item":[1,[10,"args"]],"json":[3,"au",[10,"{\"key\":\"value\"}"]]},"fields":{}},"au":{"opcode":"data_itemoflist","next":null,"parent":"at","inputs":{"INDEX":[3,"cj",[7,"1"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"cj":{"opcode":"argument_reporter_string_number","next":null,"parent":"au","inputs":{},"fields":{"VALUE":["line#",null]}},"av":{"opcode":"procedures_definition","next":"aw","parent":null,"inputs":{"custom_block":[1,"ax"]},"fields":{},"topLevel":true},"ax":{"opcode":"procedures_prototype","next":null,"parent":"av","inputs":{"tx=G`+RuTkIT/GbZ.p26":[1,"ck"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","argumentnames":"[\"line#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"ck":{"opcode":"argument_reporter_string_number","next":null,"parent":"ax","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"aw":{"opcode":"procedures_return","next":null,"parent":"av","inputs":{"VALUE":[3,"ay",[10,""]]},"fields":{}},"ay":{"opcode":"strings_split","next":null,"parent":"aw","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"az",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"az":{"opcode":"data_itemoflist","next":null,"parent":"ay","inputs":{"INDEX":[3,"cl",[7,"1"]]},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"cl":{"opcode":"argument_reporter_string_number","next":null,"parent":"az","inputs":{},"fields":{"VALUE":["line#",null]}},"aA":{"opcode":"procedures_definition","next":"s","parent":null,"inputs":{"custom_block":[1,"aB"]},"fields":{},"topLevel":true},"aB":{"opcode":"procedures_prototype","next":null,"parent":"aA","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[1,"cm"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","argumentnames":"[\"line#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"cm":{"opcode":"argument_reporter_string_number","next":null,"parent":"aB","inputs":{},"fields":{"VALUE":["line#",null]},"shadow":true},"s":{"opcode":"data_setvariableto","next":"cn","parent":"aA","inputs":{"VALUE":[3,"aC",[10,"0"]]},"fields":{"VARIABLE":["tmp2","Nb_hrG-xLFDC,w`vcT`x"]}},"aC":{"opcode":"skyhigh173JSON_json_array_create","next":null,"parent":"s","inputs":{"text":[3,"aD",[10,"a,b,c"]],"d":[1,[10,"|"]]},"fields":{}},"aD":{"opcode":"strings_split","next":null,"parent":"aC","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,"aE",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"aE":{"opcode":"data_itemoflist","next":null,"parent":"aD","inputs":{"INDEX":[3,"co",[7,"1"]]},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"co":{"opcode":"argument_reporter_string_number","next":null,"parent":"aE","inputs":{},"fields":{"VALUE":["line#",null]}},"cn":{"opcode":"procedures_return","next":null,"parent":"s","inputs":{"VALUE":[3,[12,"tmp2","Nb_hrG-xLFDC,w`vcT`x"],[10,""]]},"fields":{}},"aF":{"opcode":"procedures_definition","next":"aG","parent":null,"inputs":{"custom_block":[1,"cp"]},"fields":{},"topLevel":true},"cp":{"opcode":"procedures_prototype","next":null,"parent":"aF","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"make code","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"aG":{"opcode":"data_deletealloflist","next":"t","parent":"aF","inputs":{},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"t":{"opcode":"control_for_each","next":null,"parent":"aG","inputs":{"VALUE":[3,"cq",[6,"10"]],"SUBSTACK":[2,"aH"]},"fields":{"VARIABLE":["i","2.8hHiaGU}W_ZtWSFr8{"]}},"cq":{"opcode":"data_lengthoflist","next":null,"parent":"t","inputs":{},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"aH":{"opcode":"data_addtolist","next":null,"parent":"t","inputs":{"ITEM":[3,"u",[10,"thing"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"u":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"aH","inputs":{"item":[1,[10,"args"]],"json":[3,"aI",[10,"{\"key\":\"value\"}"]],"value":[3,"cr",[10,"new value"]]},"fields":{}},"aI":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"u","inputs":{"item":[1,[10,"cmd"]],"json":[1,[10,"{}"]],"value":[3,"cs",[10,"new value"]]},"fields":{}},"cs":{"opcode":"procedures_call","next":null,"parent":"aI","inputs":{"tx=G`+RuTkIT/GbZ.p26":[3,[12,"i","2.8hHiaGU}W_ZtWSFr8{"],[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull cmd from %s","argumentids":"[\"tx=G`+RuTkIT/GbZ.p26\"]","warp":"true","return":"1"}},"cr":{"opcode":"procedures_call","next":null,"parent":"u","inputs":{"*$rgZ{!x?pa]7?3G-D5?":[3,[12,"i","2.8hHiaGU}W_ZtWSFr8{"],[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"pull inputs from %s","argumentids":"[\"*$rgZ{!x?pa]7?3G-D5?\"]","warp":"true","return":"1"}},"aJ":{"opcode":"procedures_definition","next":"v","parent":null,"inputs":{"custom_block":[1,"aK"]},"fields":{},"topLevel":true},"aK":{"opcode":"procedures_prototype","next":null,"parent":"aJ","inputs":{"RTR2*3KVWkD)pO1G4:X%":[1,"ct"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"get box data %s","argumentids":"[\"RTR2*3KVWkD)pO1G4:X%\"]","argumentnames":"[\"data\"]","argumentdefaults":"[\"\",\"\",\"\"]","warp":"true"}},"ct":{"opcode":"argument_reporter_string_number","next":null,"parent":"aK","inputs":{},"fields":{"VALUE":["data",null]},"shadow":true},"v":{"opcode":"data_setvariableto","next":"c","parent":"aJ","inputs":{"VALUE":[3,"cu",[10,"0"]]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"cu":{"opcode":"argument_reporter_string_number","next":null,"parent":"v","inputs":{},"fields":{"VALUE":["data",null]}},"c":{"opcode":"control_for_each","next":"d","parent":"v","inputs":{"VALUE":[3,"aL",[6,"10"]],"SUBSTACK":[2,"w"]},"fields":{"VARIABLE":["j","npUY#k@VmQF+eQ;Grb`b"]}},"aL":{"opcode":"operator_add","next":null,"parent":"c","inputs":{"NUM1":[1,[4,"1"]],"NUM2":[3,"cv",[4,""]]},"fields":{}},"cv":{"opcode":"strings_count","next":null,"parent":"aL","inputs":{"SUBSTRING":[1,[10,"$"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"w":{"opcode":"data_setvariableto","next":"x","parent":"c","inputs":{"VALUE":[3,"aM",[10,"box"]]},"fields":{"VARIABLE":["tmp","*6drhXP:uEQ|CIv1S8w@"]}},"aM":{"opcode":"strings_split","next":null,"parent":"w","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"aN",[10,"apple"]],"SPLIT":[1,[10,"~"]]},"fields":{}},"aN":{"opcode":"strings_split","next":null,"parent":"aM","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"aO",[10,"apple"]],"SPLIT":[1,[10,":"]]},"fields":{}},"aO":{"opcode":"strings_split","next":null,"parent":"aN","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"cw",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"cw":{"opcode":"strings_split","next":null,"parent":"aO","inputs":{"ITEM":[1,[4,"2"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]],"SPLIT":[1,[10,"$"]]},"fields":{}},"x":{"opcode":"data_setvariableto","next":"cx","parent":"w","inputs":{"VALUE":[3,"y",[10,"$box"]]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"y":{"opcode":"strings_replace","next":null,"parent":"x","inputs":{"SUBSTRING":[3,"cy",[10,"world"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"$box:ing123"]],"REPLACE":[3,"cz",[10,"fellow Scratchers"]]},"fields":{}},"cy":{"opcode":"operator_join","next":null,"parent":"y","inputs":{"STRING1":[1,[10,"$"]],"STRING2":[3,[12,"tmp","*6drhXP:uEQ|CIv1S8w@"],[10,"banana"]]},"fields":{}},"cz":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"y","inputs":{"item":[3,[12,"tmp","*6drhXP:uEQ|CIv1S8w@"],[10,"box"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]]},"fields":{}},"cx":{"opcode":"control_wait","next":null,"parent":"x","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"d":{"opcode":"control_repeat","next":"cA","parent":"c","inputs":{"TIMES":[3,"cB",[6,"10"]],"SUBSTACK":[2,"aP"]},"fields":{}},"cB":{"opcode":"strings_count","next":null,"parent":"d","inputs":{"SUBSTRING":[1,[10,":"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"aP":{"opcode":"data_setvariableto","next":null,"parent":"d","inputs":{"VALUE":[3,"aQ",[10,"test:ing123"]]},"fields":{"VARIABLE":["tmp1","eQwx-s}=a#9yHIAYl?I!"]}},"aQ":{"opcode":"strings_replace","next":null,"parent":"aP","inputs":{"SUBSTRING":[1,[10,"~"]],"STRING":[3,"z",[10,"Hello world!"]],"REPLACE":[1,[10," "]]},"fields":{}},"z":{"opcode":"operator_join","next":null,"parent":"aQ","inputs":{"STRING1":[3,"cC",[10,"apple "]],"STRING2":[3,"A",[10,"banana"]]},"fields":{}},"cC":{"opcode":"strings_split","next":null,"parent":"z","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]],"SPLIT":[1,[10,":"]]},"fields":{}},"A":{"opcode":"strings_letters_of","next":null,"parent":"z","inputs":{"LETTER1":[3,"aR",[4,"2"]],"LETTER2":[3,"cD",[4,"4"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"aR":{"opcode":"operator_add","next":null,"parent":"A","inputs":{"NUM1":[3,"cE",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"cE":{"opcode":"strings_indexof","next":null,"parent":"aR","inputs":{"SUBSTRING":[1,[10,":"]],"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"cD":{"opcode":"operator_length","next":null,"parent":"A","inputs":{"STRING":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,"apple"]]},"fields":{}},"cA":{"opcode":"procedures_return","next":null,"parent":"d","inputs":{"VALUE":[3,[12,"tmp1","eQwx-s}=a#9yHIAYl?I!"],[10,""]]},"fields":{}},"cF":{"opcode":"event_whenthisspriteclicked","next":"cG","parent":null,"inputs":{},"fields":{},"topLevel":true},"cG":{"opcode":"procedures_call","next":null,"parent":"cF","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"runcode","argumentids":"[]","warp":"false"}},"cH":{"opcode":"lmsMoreEvents_everyDuration","next":"B","parent":null,"inputs":{"DURATION":[1,[4,"1"]]},"fields":{},"topLevel":true},"B":{"opcode":"data_addtolist","next":"aS","parent":"cH","inputs":{"ITEM":[3,"cI",[10,"thing"]]},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"cI":{"opcode":"dtbyxeroname_fps","next":null,"parent":"B","inputs":{},"fields":{}},"aS":{"opcode":"data_deleteoflist","next":"e","parent":"B","inputs":{"INDEX":[1,[7,"255"]]},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"cJ":{"opcode":"procedures_call","next":null,"parent":"C","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"make code","argumentids":"[]","warp":"true"}},"e":{"opcode":"skyhigh173JSON_json_vm_setlist","next":"a","parent":"aS","inputs":{"list":[1,"cK"],"json":[3,"D",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"cK":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"e","inputs":{},"fields":{"get_list":["_Im,zJg}7i]sA]LkT)iJ",null]},"shadow":true},"D":{"opcode":"skyhigh173JSON_json_array_concat","next":null,"parent":"e","inputs":{"json":[3,"E",[10,"[\"a\",\"b\"]"]],"json2":[3,"cL",[10,"[\"c\",\"d\"]"]]},"fields":{}},"F":{"opcode":"skyhigh173JSON_json_array_push","next":null,"parent":"E","inputs":{"item":[3,"aT",[10,"TurboWarp"]],"json":[3,"aU",[10,"[\"scratch\"]"]]},"fields":{}},"aT":{"opcode":"operator_join","next":null,"parent":"F","inputs":{"STRING1":[1,[10,"fps: "]],"STRING2":[3,"aV",[10,"banana"]]},"fields":{}},"aV":{"opcode":"operator_round","next":null,"parent":"aT","inputs":{"NUM":[3,"cM",[4,""]]},"fields":{}},"cM":{"opcode":"procedures_call","next":null,"parent":"aV","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","warp":"true","return":"1"}},"aU":{"opcode":"skyhigh173JSON_json_array_push","next":null,"parent":"F","inputs":{"item":[3,"aW",[10,"TurboWarp"]],"json":[1,[10,"[]"]]},"fields":{}},"aW":{"opcode":"operator_join","next":null,"parent":"aU","inputs":{"STRING1":[1,[10,"box data size:"]],"STRING2":[3,"G",[10,"banana"]]},"fields":{}},"G":{"opcode":"operator_multiply","next":null,"parent":"aW","inputs":{"NUM1":[3,"H",[4,"111"]],"NUM2":[3,"aX",[4,""]]},"fields":{}},"H":{"opcode":"operator_subtract","next":null,"parent":"G","inputs":{"NUM1":[3,"cN",[4,""]],"NUM2":[3,"cO",[4,""]]},"fields":{}},"cN":{"opcode":"skyhigh173JSON_json_jlength","next":null,"parent":"H","inputs":{"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{}},"cO":{"opcode":"operator_length","next":null,"parent":"H","inputs":{"STRING":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"apple"]]},"fields":{}},"aX":{"opcode":"operator_subtract","next":null,"parent":"G","inputs":{"NUM1":[1,[4,""]],"NUM2":[3,"I",[4,""]]},"fields":{}},"I":{"opcode":"operator_divide","next":null,"parent":"aX","inputs":{"NUM1":[3,"cP",[4,"0"]],"NUM2":[3,"cQ",[4,"0"]]},"fields":{}},"cP":{"opcode":"skyhigh173JSON_json_jlength","next":null,"parent":"I","inputs":{"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{}},"cQ":{"opcode":"skyhigh173JSON_json_jlength","next":null,"parent":"I","inputs":{"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{}},"cL":{"opcode":"skyhigh173JSON_json_get_all","next":null,"parent":"D","inputs":{"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{"Stype":["datas",null]}},"a":{"opcode":"control_if_else","next":"J","parent":"e","inputs":{"CONDITION":[2,"cR"],"SUBSTACK":[2,"cS"],"SUBSTACK2":[2,"cT"]},"fields":{}},"cR":{"opcode":"operator_equals","next":null,"parent":"a","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"cS":{"opcode":"data_showlist","next":null,"parent":"a","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"cT":{"opcode":"data_hidelist","next":null,"parent":"a","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"cU":{"opcode":"lmsMoreEvents_everyDuration","next":"cV","parent":null,"inputs":{"DURATION":[1,[4,"3"]]},"fields":{},"topLevel":true},"cV":{"opcode":"motion_gotoxy","next":null,"parent":"cU","inputs":{"X":[1,[4,"-230"]],"Y":[1,[4,"168"]]},"fields":{}},"aY":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"K","parent":null,"inputs":{"CONDITION":[2,"cW"]},"fields":{"STATE":["true",null]},"topLevel":true},"cW":{"opcode":"operator_equals","next":null,"parent":"aY","inputs":{"OPERAND1":[3,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"],[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"K":{"opcode":"shovelcss_changecss","next":"L","parent":"aY","inputs":{"COLORABLE":[1,"cX"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"cX":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"K","inputs":{},"fields":{"COLORABLE_MENU":["monitor text",null]},"shadow":true},"L":{"opcode":"shovelcss_changecss","next":"M","parent":"K","inputs":{"COLORABLE":[1,"cY"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"cY":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"L","inputs":{},"fields":{"COLORABLE_MENU":["list value text",null]},"shadow":true},"M":{"opcode":"shovelcss_changecss","next":"N","parent":"L","inputs":{"COLORABLE":[1,"cZ"],"COLOR":[1,[9,"#1f1f1f"]]},"fields":{}},"cZ":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"M","inputs":{},"fields":{"COLORABLE_MENU":["list header background",null]},"shadow":true},"N":{"opcode":"shovelcss_changecss","next":"O","parent":"M","inputs":{"COLORABLE":[1,"c!"],"COLOR":[1,[9,"#1f1f1f"]]},"fields":{}},"c!":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"N","inputs":{},"fields":{"COLORABLE_MENU":["list footer background",null]},"shadow":true},"O":{"opcode":"shovelcss_changecss","next":"P","parent":"N","inputs":{"COLORABLE":[1,"c#"],"COLOR":[1,[9,"#353535"]]},"fields":{}},"c#":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"O","inputs":{},"fields":{"COLORABLE_MENU":["monitor background",null]},"shadow":true},"P":{"opcode":"shovelcss_changecss","next":"Q","parent":"O","inputs":{"COLORABLE":[1,"c%"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"c%":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"P","inputs":{},"fields":{"COLORABLE_MENU":["list value background",null]},"shadow":true},"Q":{"opcode":"shovelcss_changecss","next":"aZ","parent":"P","inputs":{"COLORABLE":[1,"c("],"COLOR":[1,[9,"#000000"]]},"fields":{}},"c(":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"Q","inputs":{},"fields":{"COLORABLE_MENU":["variable value background",null]},"shadow":true},"aZ":{"opcode":"shovelcss_changecss","next":null,"parent":"Q","inputs":{"COLORABLE":[1,"c)"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"c)":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"aZ","inputs":{},"fields":{"COLORABLE_MENU":["variable value text",null]},"shadow":true},"a!":{"opcode":"lmsMoreEvents_whenTrueFalse","next":"R","parent":null,"inputs":{"CONDITION":[2,"c*"]},"fields":{"STATE":["true",null]},"topLevel":true},"c*":{"opcode":"operator_equals","next":null,"parent":"a!","inputs":{"OPERAND1":[3,[12,"lm?","HZriX$bbU/0Fn+gAGJ/L"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"R":{"opcode":"shovelcss_changecss","next":"S","parent":"a!","inputs":{"COLORABLE":[1,"c+"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"c+":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"R","inputs":{},"fields":{"COLORABLE_MENU":["monitor text",null]},"shadow":true},"S":{"opcode":"shovelcss_changecss","next":"T","parent":"R","inputs":{"COLORABLE":[1,"c,"],"COLOR":[1,[9,"#000000"]]},"fields":{}},"c,":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"S","inputs":{},"fields":{"COLORABLE_MENU":["list value text",null]},"shadow":true},"T":{"opcode":"shovelcss_changecss","next":"U","parent":"S","inputs":{"COLORABLE":[1,"c-"],"COLOR":[1,[9,"#989898"]]},"fields":{}},"c-":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"T","inputs":{},"fields":{"COLORABLE_MENU":["list header background",null]},"shadow":true},"U":{"opcode":"shovelcss_changecss","next":"V","parent":"T","inputs":{"COLORABLE":[1,"c."],"COLOR":[1,[9,"#989898"]]},"fields":{}},"c.":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"U","inputs":{},"fields":{"COLORABLE_MENU":["list footer background",null]},"shadow":true},"V":{"opcode":"shovelcss_changecss","next":"W","parent":"U","inputs":{"COLORABLE":[1,"c/"],"COLOR":[1,[9,"#cccccc"]]},"fields":{}},"c/":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"V","inputs":{},"fields":{"COLORABLE_MENU":["monitor background",null]},"shadow":true},"W":{"opcode":"shovelcss_changecss","next":"X","parent":"V","inputs":{"COLORABLE":[1,"c:"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"c:":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"W","inputs":{},"fields":{"COLORABLE_MENU":["list value background",null]},"shadow":true},"X":{"opcode":"shovelcss_changecss","next":"a#","parent":"W","inputs":{"COLORABLE":[1,"c;"],"COLOR":[1,[9,"#ffffff"]]},"fields":{}},"c;":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"X","inputs":{},"fields":{"COLORABLE_MENU":["variable value background",null]},"shadow":true},"a#":{"opcode":"shovelcss_changecss","next":null,"parent":"X","inputs":{"COLORABLE":[1,"c="],"COLOR":[1,[9,"#000000"]]},"fields":{}},"c=":{"opcode":"shovelcss_menu_COLORABLE_MENU","next":null,"parent":"a#","inputs":{},"fields":{"COLORABLE_MENU":["variable value text",null]},"shadow":true},"c?":{"opcode":"event_whenflagclicked","next":"Y","parent":null,"inputs":{},"fields":{},"topLevel":true},"Y":{"opcode":"data_setvariableto","next":"c@","parent":"c?","inputs":{"VALUE":[3,"a%",[10,"77"]]},"fields":{"VARIABLE":["lm?","HZriX$bbU/0Fn+gAGJ/L"]}},"a%":{"opcode":"navigatorinfo_getPreferredColorScheme","next":null,"parent":"Y","inputs":{"THEME":[1,"c["]},"fields":{}},"c[":{"opcode":"navigatorinfo_menu_THEME","next":null,"parent":"a%","inputs":{},"fields":{"THEME":["light",null]},"shadow":true},"c@":{"opcode":"data_deletealloflist","next":null,"parent":"Y","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"a(":{"opcode":"procedures_definition","next":"a)","parent":null,"inputs":{"custom_block":[1,"c]"]},"fields":{},"topLevel":true},"c]":{"opcode":"procedures_prototype","next":null,"parent":"a(","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"a)":{"opcode":"data_setvariableto","next":"f","parent":"a(","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["tmp4","kiecKb_Raz?e$xLm2OTT"]}},"f":{"opcode":"control_for_each","next":"a*","parent":"a)","inputs":{"VALUE":[3,"c^",[6,"255"]],"SUBSTACK":[2,"a+"]},"fields":{"VARIABLE":["p","H,MdXb!fA:r+(|cUAIyD"]}},"c^":{"opcode":"data_lengthoflist","next":null,"parent":"f","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"a+":{"opcode":"data_changevariableby","next":null,"parent":"f","inputs":{"VALUE":[3,"c_",[4,"0"]]},"fields":{"VARIABLE":["tmp4","kiecKb_Raz?e$xLm2OTT"]}},"c_":{"opcode":"data_itemoflist","next":null,"parent":"a+","inputs":{"INDEX":[3,[12,"p","H,MdXb!fA:r+(|cUAIyD"],[7,"1"]]},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"a*":{"opcode":"procedures_return","next":null,"parent":"f","inputs":{"VALUE":[3,"a,",[10,""]]},"fields":{}},"a,":{"opcode":"operator_divide","next":null,"parent":"a*","inputs":{"NUM1":[3,[12,"tmp4","kiecKb_Raz?e$xLm2OTT"],[4,""]],"NUM2":[3,"c`",[4,"255"]]},"fields":{}},"c`":{"opcode":"data_lengthoflist","next":null,"parent":"a,","inputs":{},"fields":{"LIST":["fps","aqB}_)Cd()d9mK}wH)x!"]}},"a-":{"opcode":"procedures_definition","next":"a.","parent":null,"inputs":{"custom_block":[1,"a/"]},"fields":{},"topLevel":true},"a/":{"opcode":"procedures_prototype","next":null,"parent":"a-","inputs":{"^C@~ykNFhNV,b@60bh;V":[1,"c{"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","argumentnames":"[\"info\"]","argumentdefaults":"[\"\"]","warp":"true"}},"c{":{"opcode":"argument_reporter_string_number","next":null,"parent":"a/","inputs":{},"fields":{"VALUE":["info",null]},"shadow":true},"a.":{"opcode":"control_stop","next":"Z","parent":"a-","inputs":{},"fields":{"STOP_OPTION":["other scripts in sprite",null]},"mutation":{"tagName":"mutation","children":[],"hasnext":"true"}},"Z":{"opcode":"data_addtolist","next":"!","parent":"a.","inputs":{"ITEM":[3,"c|",[10,""]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"c|":{"opcode":"operator_join","next":null,"parent":"Z","inputs":{"STRING1":[1,[10,"error on line: "]],"STRING2":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"banana"]]},"fields":{}},"!":{"opcode":"data_addtolist","next":"c}","parent":"Z","inputs":{"ITEM":[3,"a:",[10,""]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"a:":{"opcode":"operator_join","next":null,"parent":"!","inputs":{"STRING1":[1,[10,"error: "]],"STRING2":[3,"c~",[10,"banana"]]},"fields":{}},"c~":{"opcode":"argument_reporter_string_number","next":null,"parent":"a:","inputs":{},"fields":{"VALUE":["info",null]}},"c}":{"opcode":"looks_sayforsecs","next":null,"parent":"!","inputs":{"MESSAGE":[1,[10,"ERROR check text logs"]],"SECS":[1,[4,"2"]]},"fields":{}},"a;":{"opcode":"procedures_definition","next":"g","parent":null,"inputs":{"custom_block":[1,"da"]},"fields":{},"topLevel":true},"da":{"opcode":"procedures_prototype","next":null,"parent":"a;","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd math","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"g":{"opcode":"control_if_else","next":null,"parent":"a;","inputs":{"CONDITION":[2,"a="],"SUBSTACK":[2,"a?"],"SUBSTACK2":[2,"a@"]},"fields":{}},"a=":{"opcode":"operator_gt","next":null,"parent":"g","inputs":{"OPERAND1":[3,"a[",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"a[":{"opcode":"skyhigh173JSON_json_array_itemH","next":null,"parent":"a=","inputs":{"item":[3,"db",[10,"scratch"]],"json":[1,[10,"[\"+\", \"-\", \"*\", \"/\", \"%\"]"]]},"fields":{}},"db":{"opcode":"procedures_call","next":null,"parent":"a[","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"a?":{"opcode":"data_setvariableto","next":null,"parent":"g","inputs":{"VALUE":[3,"#",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"#":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"a?","inputs":{"item":[3,"dc",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"a]",[10,"new value"]]},"fields":{}},"dc":{"opcode":"procedures_call","next":null,"parent":"#","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"a]":{"opcode":"MistiumEval_reporterBlock","next":null,"parent":"#","inputs":{"CODE":[3,"%",[10,""]]},"fields":{}},"%":{"opcode":"operator_join","next":null,"parent":"a]","inputs":{"STRING1":[3,"(",[10,"apple "]],"STRING2":[3,"dd",[10,"banana"]]},"fields":{}},"(":{"opcode":"operator_join","next":null,"parent":"%","inputs":{"STRING1":[3,"de",[10,"apple "]],"STRING2":[3,"df",[10,"banana"]]},"fields":{}},"de":{"opcode":"procedures_call","next":null,"parent":"(","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"df":{"opcode":"procedures_call","next":null,"parent":"(","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dd":{"opcode":"procedures_call","next":null,"parent":"%","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"a@":{"opcode":"procedures_call","next":null,"parent":"g","inputs":{"^C@~ykNFhNV,b@60bh;V":[3,"a^",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"a^":{"opcode":"operator_join","next":null,"parent":"a@","inputs":{"STRING1":[1,[10,"math error \""]],"STRING2":[3,"a_",[10,"banana"]]},"fields":{}},"a_":{"opcode":"operator_join","next":null,"parent":"a^","inputs":{"STRING1":[3,"dg",[10,"apple "]],"STRING2":[1,[10,"\" is not a valid op"]]},"fields":{}},"dg":{"opcode":"procedures_call","next":null,"parent":"a_","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"a`":{"opcode":"procedures_definition","next":"a{","parent":null,"inputs":{"custom_block":[1,"a|"]},"fields":{},"topLevel":true},"a|":{"opcode":"procedures_prototype","next":null,"parent":"a`","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,"dh"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","argumentnames":"[\"#\"]","argumentdefaults":"[\"\"]","warp":"true"}},"dh":{"opcode":"argument_reporter_string_number","next":null,"parent":"a|","inputs":{},"fields":{"VALUE":["#",null]},"shadow":true},"a{":{"opcode":"procedures_return","next":null,"parent":"a`","inputs":{"VALUE":[3,"a}",[10,""]]},"fields":{}},"a}":{"opcode":"procedures_call","next":null,"parent":"a{","inputs":{"wA0rR|WYT9LLLk|[Q:?A":[3,"di",[10,""]],"sMWSK[e`nP!.#1hm5o6[":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"get input data %s %s","argumentids":"[\"wA0rR|WYT9LLLk|[Q:?A\",\"sMWSK[e`nP!.#1hm5o6[\"]","warp":"true","return":"1"}},"di":{"opcode":"argument_reporter_string_number","next":null,"parent":"a}","inputs":{},"fields":{"VALUE":["#",null]}},"a~":{"opcode":"procedures_definition","next":"h","parent":null,"inputs":{"custom_block":[1,"dj"]},"fields":{},"topLevel":true},"dj":{"opcode":"procedures_prototype","next":null,"parent":"a~","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd del","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"h":{"opcode":"control_if","next":"ba","parent":"a~","inputs":{"CONDITION":[2,"bb"],"SUBSTACK":[2,"bc"]},"fields":{}},"bb":{"opcode":"operator_not","next":null,"parent":"h","inputs":{"OPERAND":[2,"bd"]},"fields":{}},"bd":{"opcode":"skyhigh173JSON_json_has_key","next":null,"parent":"bb","inputs":{"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"key":[3,"dk",[10,"key2"]]},"fields":{}},"dk":{"opcode":"procedures_call","next":null,"parent":"bd","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bc":{"opcode":"procedures_call","next":null,"parent":"h","inputs":{"ROKse:^Y5Q=vF?$G/VUI":[3,"be",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"warn %s","argumentids":"[\"ROKse:^Y5Q=vF?$G/VUI\"]","warp":"true"}},"be":{"opcode":"operator_join","next":null,"parent":"bc","inputs":{"STRING1":[3,"bf",[10,"apple "]],"STRING2":[1,[10,"\" was not ever defined or was already deleted"]]},"fields":{}},"bf":{"opcode":"operator_join","next":null,"parent":"be","inputs":{"STRING1":[1,[10,"box \""]],"STRING2":[3,"dl",[10,"banana"]]},"fields":{}},"dl":{"opcode":"procedures_call","next":null,"parent":"bf","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"ba":{"opcode":"data_setvariableto","next":null,"parent":"h","inputs":{"VALUE":[3,"bg",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"bg":{"opcode":"skyhigh173JSON_json_delete","next":null,"parent":"ba","inputs":{"item":[3,"dm",[10,"key2"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\",\"key2\":\"value2\"}"]]},"fields":{}},"dm":{"opcode":"procedures_call","next":null,"parent":"bg","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bh":{"opcode":"procedures_definition","next":")","parent":null,"inputs":{"custom_block":[1,"bi"]},"fields":{},"topLevel":true},"bi":{"opcode":"procedures_prototype","next":null,"parent":"bh","inputs":{"ROKse:^Y5Q=vF?$G/VUI":[1,"dn"]},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"warn %s","argumentids":"[\"ROKse:^Y5Q=vF?$G/VUI\"]","argumentnames":"[\"data\"]","argumentdefaults":"[\"\"]","warp":"true"}},"dn":{"opcode":"argument_reporter_string_number","next":null,"parent":"bi","inputs":{},"fields":{"VALUE":["data",null]},"shadow":true},")":{"opcode":"data_addtolist","next":"*","parent":"bh","inputs":{"ITEM":[3,"do",[10,""]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"do":{"opcode":"operator_join","next":null,"parent":")","inputs":{"STRING1":[1,[10,"warning from line: "]],"STRING2":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[10,"banana"]]},"fields":{}},"*":{"opcode":"data_addtolist","next":"dp","parent":")","inputs":{"ITEM":[3,"bj",[10,""]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bj":{"opcode":"operator_join","next":null,"parent":"*","inputs":{"STRING1":[1,[10,"warn: "]],"STRING2":[3,"dq",[10,"banana"]]},"fields":{}},"dq":{"opcode":"argument_reporter_string_number","next":null,"parent":"bj","inputs":{},"fields":{"VALUE":["data",null]}},"dp":{"opcode":"looks_sayforsecs","next":null,"parent":"*","inputs":{"MESSAGE":[1,[10,"WARN check text logs"]],"SECS":[1,[4,"2"]]},"fields":{}},"bk":{"opcode":"procedures_definition","next":"bl","parent":null,"inputs":{"custom_block":[1,"dr"]},"fields":{},"topLevel":true},"dr":{"opcode":"procedures_prototype","next":null,"parent":"bk","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd say","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"bl":{"opcode":"lmsTimers_startResetTimer","next":"+","parent":"bk","inputs":{"TIMER":[1,[10,"say"]]},"fields":{}},"+":{"opcode":"data_addtolist","next":"i","parent":"bl","inputs":{"ITEM":[3,"ds",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"ds":{"opcode":"procedures_call","next":null,"parent":"+","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"i":{"opcode":"control_if_else","next":"bm","parent":"+","inputs":{"CONDITION":[2,"dt"],"SUBSTACK2":[2,","]},"fields":{}},"dt":{"opcode":"operator_equals","next":null,"parent":"i","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},",":{"opcode":"looks_sayforsecs","next":null,"parent":"i","inputs":{"MESSAGE":[3,"du",[10,"Hello!"]],"SECS":[3,"dv",[4,"2"]]},"fields":{}},"du":{"opcode":"procedures_call","next":null,"parent":",","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dv":{"opcode":"procedures_call","next":null,"parent":",","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bm":{"opcode":"control_wait_until","next":null,"parent":"i","inputs":{"CONDITION":[2,"-"]},"fields":{}},"-":{"opcode":"operator_gt","next":null,"parent":"bm","inputs":{"OPERAND1":[3,"dw",[10,""]],"OPERAND2":[3,"dx",[10,"50"]]},"fields":{}},"dw":{"opcode":"lmsTimers_valueOfTimer","next":null,"parent":"-","inputs":{"TIMER":[1,[10,"say"]]},"fields":{}},"dx":{"opcode":"procedures_call","next":null,"parent":"-","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bn":{"opcode":"procedures_definition","next":"b","parent":null,"inputs":{"custom_block":[1,"dy"]},"fields":{},"topLevel":true},"dy":{"opcode":"procedures_prototype","next":null,"parent":"bn","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd ask","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"false"}},"b":{"opcode":"control_if_else","next":"dz","parent":"bn","inputs":{"CONDITION":[2,"dA"],"SUBSTACK":[2,"bo"],"SUBSTACK2":[2,"bp"]},"fields":{}},"dA":{"opcode":"operator_equals","next":null,"parent":"b","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"bo":{"opcode":"data_addtolist","next":"bq","parent":"b","inputs":{"ITEM":[1,[10,"|"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"j":{"opcode":"control_repeat_until","next":"l","parent":"k","inputs":{"CONDITION":[2,"br"],"SUBSTACK":[2,"."]},"fields":{}},"/":{"opcode":"data_replaceitemoflist","next":null,"parent":":","inputs":{"INDEX":[3,"dB",[7,"1"]],"ITEM":[3,"bs",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"dB":{"opcode":"data_lengthoflist","next":null,"parent":"/","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"bs":{"opcode":"operator_join","next":null,"parent":"/","inputs":{"STRING1":[3,"bt",[10,"apple "]],"STRING2":[3,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"],[10,"banana"]]},"fields":{}},"bt":{"opcode":"operator_join","next":null,"parent":"bs","inputs":{"STRING1":[3,"dC",[10,"apple "]],"STRING2":[1,[10,"  : "]]},"fields":{}},"dC":{"opcode":"procedures_call","next":null,"parent":"bt","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},";":{"opcode":"operator_join","next":null,"parent":":","inputs":{"STRING1":[3,"bu",[10,"apple "]],"STRING2":[3,"bv",[10,"banana"]]},"fields":{}},"bu":{"opcode":"strings_letters_of","next":null,"parent":";","inputs":{"LETTER1":[1,[4,"1"]],"LETTER2":[3,"dD",[4,"4"]],"STRING":[3,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"],[10,"apple"]]},"fields":{}},"dD":{"opcode":"mobilekeyboard0419_getCursorPosition","next":null,"parent":"bu","inputs":{},"fields":{}},"bv":{"opcode":"operator_join","next":null,"parent":";","inputs":{"STRING1":[1,[10,"<"]],"STRING2":[3,"=",[10,"banana"]]},"fields":{}},"=":{"opcode":"strings_letters_of","next":null,"parent":"bv","inputs":{"LETTER1":[3,"bw",[4,"2"]],"LETTER2":[3,"dE",[4,"4"]],"STRING":[3,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"],[10,"apple"]]},"fields":{}},"bw":{"opcode":"operator_add","next":null,"parent":"=","inputs":{"NUM1":[3,"dF",[4,""]],"NUM2":[1,[4,"1"]]},"fields":{}},"dF":{"opcode":"mobilekeyboard0419_getCursorPosition","next":null,"parent":"bw","inputs":{},"fields":{}},"dE":{"opcode":"operator_length","next":null,"parent":"=","inputs":{"STRING":[3,[12,"tmp5","c3iI[Usk,NCBHtSp@p!Z"],[10,"apple"]]},"fields":{}},"l":{"opcode":"data_replaceitemoflist","next":"bx","parent":"j","inputs":{"INDEX":[3,"dG",[7,"1"]],"ITEM":[3,"?",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"dG":{"opcode":"data_lengthoflist","next":null,"parent":"l","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"?":{"opcode":"operator_join","next":null,"parent":"l","inputs":{"STRING1":[3,"by",[10,"apple "]],"STRING2":[3,"dH",[10,"banana"]]},"fields":{}},"by":{"opcode":"operator_join","next":null,"parent":"?","inputs":{"STRING1":[3,"dI",[10,"apple "]],"STRING2":[1,[10,"  : "]]},"fields":{}},"dI":{"opcode":"procedures_call","next":null,"parent":"by","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dH":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"?","inputs":{},"fields":{}},"bx":{"opcode":"data_setvariableto","next":null,"parent":"l","inputs":{"VALUE":[3,"@",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"@":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"bx","inputs":{"item":[3,"bz",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"dJ",[10,"new value"]]},"fields":{}},"bz":{"opcode":"strings_reverse","next":null,"parent":"@","inputs":{"STRING":[3,"bA",[10,"apple"]]},"fields":{}},"bA":{"opcode":"strings_split","next":null,"parent":"bz","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"bB",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"bB":{"opcode":"strings_reverse","next":null,"parent":"bA","inputs":{"STRING":[3,"dK",[10,"apple"]]},"fields":{}},"dK":{"opcode":"procedures_call","next":null,"parent":"bB","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dJ":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":"@","inputs":{},"fields":{}},"bp":{"opcode":"data_addtolist","next":"[","parent":"b","inputs":{"ITEM":[1,[10,"|"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"[":{"opcode":"sensing_askandwait","next":"m","parent":"bp","inputs":{"QUESTION":[3,"dL",[10,"What's your name?"]]},"fields":{}},"dL":{"opcode":"procedures_call","next":null,"parent":"[","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"m":{"opcode":"data_replaceitemoflist","next":"bC","parent":"[","inputs":{"INDEX":[3,"dM",[7,"1"]],"ITEM":[3,"]",[10,"thing"]]},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"dM":{"opcode":"data_lengthoflist","next":null,"parent":"m","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"]":{"opcode":"operator_join","next":null,"parent":"m","inputs":{"STRING1":[3,"bD",[10,"apple "]],"STRING2":[3,"dN",[10,"banana"]]},"fields":{}},"bD":{"opcode":"operator_join","next":null,"parent":"]","inputs":{"STRING1":[3,"dO",[10,"apple "]],"STRING2":[1,[10,"  : "]]},"fields":{}},"dO":{"opcode":"procedures_call","next":null,"parent":"bD","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dN":{"opcode":"sensing_answer","next":null,"parent":"]","inputs":{},"fields":{}},"bC":{"opcode":"data_setvariableto","next":null,"parent":"m","inputs":{"VALUE":[3,"^",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"^":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"bC","inputs":{"item":[3,"bE",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"dP",[10,"new value"]]},"fields":{}},"bE":{"opcode":"strings_reverse","next":null,"parent":"^","inputs":{"STRING":[3,"bF",[10,"apple"]]},"fields":{}},"bF":{"opcode":"strings_split","next":null,"parent":"bE","inputs":{"ITEM":[1,[4,"1"]],"STRING":[3,"bG",[10,"apple"]],"SPLIT":[1,[10," "]]},"fields":{}},"bG":{"opcode":"strings_reverse","next":null,"parent":"bF","inputs":{"STRING":[3,"dQ",[10,"apple"]]},"fields":{}},"dQ":{"opcode":"procedures_call","next":null,"parent":"bG","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dP":{"opcode":"sensing_answer","next":null,"parent":"^","inputs":{},"fields":{}},"bH":{"opcode":"procedures_definition","next":"bI","parent":null,"inputs":{"custom_block":[1,"dR"]},"fields":{},"topLevel":true},"dR":{"opcode":"procedures_prototype","next":null,"parent":"bH","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd box","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"bI":{"opcode":"data_setvariableto","next":null,"parent":"bH","inputs":{"VALUE":[3,"_",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"_":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"bI","inputs":{"item":[3,"dS",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"dT",[10,"new value"]]},"fields":{}},"dS":{"opcode":"procedures_call","next":null,"parent":"_","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dT":{"opcode":"procedures_call","next":null,"parent":"_","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bJ":{"opcode":"procedures_definition","next":"n","parent":null,"inputs":{"custom_block":[1,"dU"]},"fields":{},"topLevel":true},"dU":{"opcode":"procedures_prototype","next":null,"parent":"bJ","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd test","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"n":{"opcode":"control_if_else","next":null,"parent":"bJ","inputs":{"CONDITION":[2,"bK"],"SUBSTACK":[2,"bL"],"SUBSTACK2":[2,"bM"]},"fields":{}},"bK":{"opcode":"operator_gt","next":null,"parent":"n","inputs":{"OPERAND1":[3,"bN",[10,""]],"OPERAND2":[1,[10,"0"]]},"fields":{}},"bN":{"opcode":"skyhigh173JSON_json_array_itemH","next":null,"parent":"bK","inputs":{"item":[3,"dV",[10,"scratch"]],"json":[1,[10,"[\">\",\"<\",\">=\",\"<=\",\"==\",\"!=\"]"]]},"fields":{}},"dV":{"opcode":"procedures_call","next":null,"parent":"bN","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bL":{"opcode":"data_setvariableto","next":null,"parent":"n","inputs":{"VALUE":[3,"`",[10,"0"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"`":{"opcode":"skyhigh173JSON_json_set","next":null,"parent":"bL","inputs":{"item":[3,"dW",[10,"key"]],"json":[3,[12,"boxes","kb!NJ48,X=3E+A}v$pMh"],[10,"{\"key\":\"value\"}"]],"value":[3,"o",[10,"new value"]]},"fields":{}},"dW":{"opcode":"procedures_call","next":null,"parent":"`","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"o":{"opcode":"utilities_ternaryOperator","next":null,"parent":"`","inputs":{"A":[2,"{"],"B":[3,"dX",[10,"banana"]],"C":[3,"dY",[10,"apple"]]},"fields":{}},"{":{"opcode":"lmsCast_toType","next":null,"parent":"o","inputs":{"INPUT":[3,"bO",[10,"apple"]],"TYPE":[1,"dZ"]},"fields":{}},"bO":{"opcode":"MistiumEval_reporterBlock","next":null,"parent":"{","inputs":{"CODE":[3,"|",[10,""]]},"fields":{}},"|":{"opcode":"operator_join","next":null,"parent":"bO","inputs":{"STRING1":[3,"}",[10,"apple "]],"STRING2":[3,"d!",[10,"banana"]]},"fields":{}},"}":{"opcode":"operator_join","next":null,"parent":"|","inputs":{"STRING1":[3,"d#",[10,"apple "]],"STRING2":[3,"d%",[10,"banana"]]},"fields":{}},"d#":{"opcode":"procedures_call","next":null,"parent":"}","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"2"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"d%":{"opcode":"procedures_call","next":null,"parent":"}","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"d!":{"opcode":"procedures_call","next":null,"parent":"|","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"4"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dZ":{"opcode":"lmsCast_menu_type","next":null,"parent":"{","inputs":{},"fields":{"type":["boolean",null]},"shadow":true},"dX":{"opcode":"procedures_call","next":null,"parent":"o","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"5"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"dY":{"opcode":"procedures_call","next":null,"parent":"o","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"6"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bM":{"opcode":"procedures_call","next":null,"parent":"n","inputs":{"^C@~ykNFhNV,b@60bh;V":[3,"bP",[10,""]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"error %s","argumentids":"[\"^C@~ykNFhNV,b@60bh;V\"]","warp":"true"}},"bP":{"opcode":"operator_join","next":null,"parent":"bM","inputs":{"STRING1":[1,[10,"test error \""]],"STRING2":[3,"bQ",[10,"banana"]]},"fields":{}},"bQ":{"opcode":"operator_join","next":null,"parent":"bP","inputs":{"STRING1":[3,"d(",[10,"apple "]],"STRING2":[1,[10,"\" is not a valid op"]]},"fields":{}},"d(":{"opcode":"procedures_call","next":null,"parent":"bQ","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"3"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bR":{"opcode":"procedures_definition","next":"bS","parent":null,"inputs":{"custom_block":[1,"d)"]},"fields":{},"topLevel":true},"d)":{"opcode":"procedures_prototype","next":null,"parent":"bR","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"cmd wait","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"true"}},"bS":{"opcode":"lmsTimers_startResetTimer","next":"bT","parent":"bR","inputs":{"TIMER":[1,[10,"wait"]]},"fields":{}},"bT":{"opcode":"control_wait_until","next":null,"parent":"bS","inputs":{"CONDITION":[2,"~"]},"fields":{}},"~":{"opcode":"operator_gt","next":null,"parent":"bT","inputs":{"OPERAND1":[3,"d*",[10,""]],"OPERAND2":[3,"d+",[10,"50"]]},"fields":{}},"d*":{"opcode":"lmsTimers_valueOfTimer","next":null,"parent":"~","inputs":{"TIMER":[1,[10,"wait"]]},"fields":{}},"d+":{"opcode":"procedures_call","next":null,"parent":"~","inputs":{":}nvKo.p@H]KfXxRx*~d":[1,[10,"1"]]},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"data %s","argumentids":"[\":}nvKo.p@H]KfXxRx*~d\"]","warp":"true","return":"1"}},"bU":{"opcode":"procedures_definition","next":"bV","parent":null,"inputs":{"custom_block":[1,"d,"]},"fields":{},"topLevel":true},"d,":{"opcode":"procedures_prototype","next":null,"parent":"bU","inputs":{},"fields":{},"shadow":true,"mutation":{"tagName":"mutation","children":[],"proccode":"runcode","argumentids":"[]","argumentnames":"[]","argumentdefaults":"[]","warp":"false"}},"bW":{"opcode":"data_setvariableto","next":"bX","parent":"bV","inputs":{"VALUE":[1,[10,"{}"]]},"fields":{"VARIABLE":["boxes","kb!NJ48,X=3E+A}v$pMh"]}},"bX":{"opcode":"data_deletealloflist","next":"p","parent":"bW","inputs":{},"fields":{"LIST":["console","}dDt?K()T1V#X=R=X]hf"]}},"p":{"opcode":"control_for_each","next":"d-","parent":"bX","inputs":{"VALUE":[3,"d.",[6,"10"]],"SUBSTACK":[2,"aa"]},"fields":{"VARIABLE":["m","E1O6Ig#rMIt_+F`~oyf*"]}},"d.":{"opcode":"data_lengthoflist","next":null,"parent":"p","inputs":{},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"aa":{"opcode":"control_switch","next":null,"parent":"p","inputs":{"VALUE":[3,"bY",[10,"cmd"]],"SUBSTACK":[2,"bZ"]},"fields":{}},"bY":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"aa","inputs":{"item":[1,[10,"cmd"]],"json":[3,"d/",[10,"{\"key\":\"value\"}"]]},"fields":{}},"d/":{"opcode":"data_itemoflist","next":null,"parent":"bY","inputs":{"INDEX":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[7,"1"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},"bZ":{"opcode":"control_case_fallthrough","next":"ab","parent":"aa","inputs":{"VALUE":[1,[10,"b"]]},"fields":{}},"ab":{"opcode":"control_case","next":"b!","parent":"bZ","inputs":{"VALUE":[1,[10,"box"]],"SUBSTACK":[2,"d:"]},"fields":{}},"d:":{"opcode":"procedures_call","next":null,"parent":"ab","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd box","argumentids":"[]","warp":"true"}},"b!":{"opcode":"control_case_fallthrough","next":"ac","parent":"ab","inputs":{"VALUE":[1,[10,"a"]]},"fields":{}},"ac":{"opcode":"control_case","next":"b#","parent":"b!","inputs":{"VALUE":[1,[10,"ask"]],"SUBSTACK":[2,"d;"]},"fields":{}},"d;":{"opcode":"procedures_call","next":null,"parent":"ac","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd ask","argumentids":"[]","warp":"false"}},"b#":{"opcode":"control_case_fallthrough","next":"ad","parent":"ac","inputs":{"VALUE":[1,[10,"s"]]},"fields":{}},"ad":{"opcode":"control_case","next":"b%","parent":"b#","inputs":{"VALUE":[1,[10,"say"]],"SUBSTACK":[2,"d="]},"fields":{}},"d=":{"opcode":"procedures_call","next":null,"parent":"ad","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd say","argumentids":"[]","warp":"true"}},"b%":{"opcode":"control_case_fallthrough","next":"ae","parent":"ad","inputs":{"VALUE":[1,[10,"d"]]},"fields":{}},"ae":{"opcode":"control_case","next":"b(","parent":"b%","inputs":{"VALUE":[1,[10,"del"]],"SUBSTACK":[2,"d?"]},"fields":{}},"d?":{"opcode":"procedures_call","next":null,"parent":"ae","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd del","argumentids":"[]","warp":"true"}},"b(":{"opcode":"control_case_fallthrough","next":"af","parent":"ae","inputs":{"VALUE":[1,[10,"m"]]},"fields":{}},"af":{"opcode":"control_case","next":"b)","parent":"b(","inputs":{"VALUE":[1,[10,"math"]],"SUBSTACK":[2,"d@"]},"fields":{}},"d@":{"opcode":"procedures_call","next":null,"parent":"af","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd math","argumentids":"[]","warp":"true"}},"b)":{"opcode":"control_case_fallthrough","next":"ag","parent":"af","inputs":{"VALUE":[1,[10,"t"]]},"fields":{}},"ag":{"opcode":"control_case","next":"b*","parent":"b)","inputs":{"VALUE":[1,[10,"test"]],"SUBSTACK":[2,"d["]},"fields":{}},"d[":{"opcode":"procedures_call","next":null,"parent":"ag","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd test","argumentids":"[]","warp":"true"}},"b+":{"opcode":"lmsMoreEvents_whileTrueFalse","next":"b,","parent":null,"inputs":{"CONDITION":[2,"d]"]},"fields":{"STATE":["false",null]},"topLevel":true},"d]":{"opcode":"xmerclosecontrol_getControl","next":null,"parent":"b+","inputs":{},"fields":{}},"b,":{"opcode":"xmerclosecontrol_setControl","next":null,"parent":"b+","inputs":{"OPTION":[1,"d^"]},"fields":{}},"d^":{"opcode":"xmerclosecontrol_menu_option","next":null,"parent":"b,","inputs":{},"fields":{"option":["true",null]},"shadow":true},"C":{"opcode":"runtimeoptions_setFramerate","next":"cJ","parent":"J","inputs":{"fps":[3,"b-",[4,"480"]]},"fields":{}},"b.":{"opcode":"operator_round","next":null,"parent":"ah","inputs":{"NUM":[3,"d_",[4,""]]},"fields":{}},"d_":{"opcode":"procedures_call","next":null,"parent":"b.","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"fps","argumentids":"[]","warp":"true","return":"1"}},"d`":{"opcode":"sensing_timer","next":null,"parent":"b/","inputs":{},"fields":{}},"b/":{"opcode":"truefantommath_scale_block","next":null,"parent":"b:","inputs":{"A":[3,"d`",[4,""]],"m1":[1,[4,"10"]],"M1":[1,[4,"0"]],"m2":[1,[4,"0"]],"M2":[1,[4,"1"]]},"fields":{}},"b:":{"opcode":"truefantommath_clamp_block","next":null,"parent":"b;","inputs":{"A":[3,"b/",[4,""]],"B":[1,[4,"-1"]],"C":[1,[4,"0"]]},"fields":{}},"ah":{"opcode":"operator_multiply","next":null,"parent":"b-","inputs":{"NUM1":[3,"b.",[4,""]],"NUM2":[3,"b;",[4,""]]},"fields":{}},"b;":{"opcode":"operator_add","next":null,"parent":"ah","inputs":{"NUM1":[1,[4,"2"]],"NUM2":[3,"b:",[4,""]]},"fields":{}},"J":{"opcode":"control_if","next":null,"parent":"a","inputs":{"SUBSTACK":[2,"C"],"CONDITION":[2,"b="]},"fields":{}},"b=":{"opcode":"operator_not","next":null,"parent":"J","inputs":{"OPERAND":[2,"d{"]},"fields":{}},"d{":{"opcode":"operator_equals","next":null,"parent":"b=","inputs":{"OPERAND1":[1,[10,"1"]],"OPERAND2":[3,[12,"runing?","M+@({_-]oELA*M8.S0(O"],[10,"50"]]},"fields":{}},"bV":{"opcode":"data_setvariableto","next":"bW","parent":"bU","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["runing?","M+@({_-]oELA*M8.S0(O"]}},"d-":{"opcode":"data_setvariableto","next":null,"parent":"p","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["runing?","M+@({_-]oELA*M8.S0(O"]}},"b*":{"opcode":"control_case_fallthrough","next":"b?","parent":"ag","inputs":{"VALUE":[1,[10,"w"]]},"fields":{}},"b?":{"opcode":"control_case","next":null,"parent":"b*","inputs":{"VALUE":[1,[10,"wait"]],"SUBSTACK":[2,"d|"]},"fields":{}},"d|":{"opcode":"procedures_call","next":null,"parent":"b?","inputs":{},"fields":{},"mutation":{"tagName":"mutation","children":[],"proccode":"cmd wait","argumentids":"[]","warp":"true"}},"E":{"opcode":"skyhigh173JSON_json_array_push","next":null,"parent":"D","inputs":{"item":[3,"b@",[10,"TurboWarp"]],"json":[3,"F",[10,"[]"]]},"fields":{}},"b@":{"opcode":"operator_join","next":null,"parent":"E","inputs":{"STRING1":[1,[10,"cur cmd: "]],"STRING2":[3,"b[",[10,""]]},"fields":{}},"b[":{"opcode":"skyhigh173JSON_json_get","next":null,"parent":"b@","inputs":{"item":[1,[10,"cmd"]],"json":[3,"d}",[10,"{\"key\":\"value\"}"]]},"fields":{}},"d}":{"opcode":"data_itemoflist","next":null,"parent":"b[","inputs":{"INDEX":[3,[12,"m","E1O6Ig#rMIt_+F`~oyf*"],[7,"1"]]},"fields":{"LIST":["code (run)",";A!-EsNOQGwq7!9H*J8b"]}},".":{"opcode":"data_setvariableto","next":":","parent":"j","inputs":{"VALUE":[3,"d~",[10,"0"]]},"fields":{"VARIABLE":["tmp5","c3iI[Usk,NCBHtSp@p!Z"]}},":":{"opcode":"data_setvariableto","next":"/","parent":".","inputs":{"VALUE":[3,";",[10,"0"]]},"fields":{"VARIABLE":["tmp5","c3iI[Usk,NCBHtSp@p!Z"]}},"bq":{"opcode":"MistKeyHistoryExtension_deleteAllKeys","next":"k","parent":"bo","inputs":{},"fields":{}},"b]":{"opcode":"mobilekeyboard0419_showKeyboardBlock","next":null,"parent":"k","inputs":{"TYPE":[1,"ea"]},"fields":{}},"ea":{"opcode":"mobilekeyboard0419_menu_keyboardtypes","next":null,"parent":"b]","inputs":{},"fields":{"keyboardtypes":["alphabetical",null]},"shadow":true},"d~":{"opcode":"mobilekeyboard0419_typedTextSinceKeyboardOpened","next":null,"parent":".","inputs":{},"fields":{}},"dz":{"opcode":"control_wait","next":null,"parent":"b","inputs":{"DURATION":[1,[5,"0.01"]]},"fields":{}},"eb":{"opcode":"mobilekeyboard0419_isKeyboardOpen","next":null,"parent":"br","inputs":{},"fields":{}},"br":{"opcode":"operator_not","next":null,"parent":"j","inputs":{"OPERAND":[2,"eb"]},"fields":{}},"ec":{"opcode":"mobilekeyboard0419_isKeyboardOpen","next":null,"parent":"k","inputs":{},"fields":{}},"k":{"opcode":"control_repeat_until","next":"j","parent":"bq","inputs":{"CONDITION":[2,"ec"],"SUBSTACK":[2,"b]"]},"fields":{}},"b-":{"opcode":"operator_round","next":null,"parent":"C","inputs":{"NUM":[3,"ah",[4,""]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"boxey (art by my mom)","bitmapResolution":1,"dataFormat":"svg","assetId":"09ec1af4bd1ed4ecac58693f3e822076","md5ext":"09ec1af4bd1ed4ecac58693f3e822076.svg","rotationCenterX":20.086035866941188,"rotationCenterY":22.064059999999984},{"name":"boxedLANG icon (art by me)","bitmapResolution":1,"dataFormat":"svg","assetId":"8938855f0031f19169542518c93d2995","md5ext":"8938855f0031f19169542518c93d2995.svg","rotationCenterX":25.612855000000025,"rotationCenterY":25.612864849112782}],"sounds":[],"volume":100,"layerOrder":1,"visible":true,"x":-230,"y":168,"size":50,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"mode","variables":{},"lists":{},"broadcasts":{},"blocks":{"ed":{"opcode":"event_whenthisspriteclicked","next":"b^","parent":null,"inputs":{},"fields":{},"topLevel":true},"b^":{"opcode":"data_setvariableto","next":null,"parent":"ed","inputs":{"VALUE":[3,"b_",[10,"0"]]},"fields":{"VARIABLE":["mode","Njau~Rd+?m4v*qz$JPRw"]}},"b_":{"opcode":"utilities_ternaryOperator","next":null,"parent":"b^","inputs":{"A":[2,"ee"],"B":[1,[10,"0"]],"C":[1,[10,"1"]]},"fields":{}},"ee":{"opcode":"operator_equals","next":null,"parent":"b_","inputs":{"OPERAND1":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"ef":{"opcode":"lmsMoreEvents_whenValueChanged","next":"b`","parent":null,"inputs":{"INPUT":[2,[12,"mode","Njau~Rd+?m4v*qz$JPRw"]]},"fields":{},"topLevel":true},"b`":{"opcode":"looks_switchcostumeto","next":null,"parent":"ef","inputs":{"COSTUME":[3,[12,"mode","Njau~Rd+?m4v*qz$JPRw"],"eg"]},"fields":{}},"eg":{"opcode":"looks_costume","next":null,"parent":"b`","inputs":{},"fields":{"COSTUME":["0",null]},"shadow":true},"eh":{"opcode":"lmsMoreEvents_everyDuration","next":"ei","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"ei":{"opcode":"motion_gotoxy","next":null,"parent":"eh","inputs":{"X":[1,[4,"70"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"1","bitmapResolution":1,"dataFormat":"svg","assetId":"17ca2899092ae1237dca269e4210a20c","md5ext":"17ca2899092ae1237dca269e4210a20c.svg","rotationCenterX":15.95452499999999,"rotationCenterY":11.86361500000001},{"name":"0","bitmapResolution":1,"dataFormat":"svg","assetId":"7570e32bd2cfa2088172be7ee94e8778","md5ext":"7570e32bd2cfa2088172be7ee94e8778.svg","rotationCenterX":15.954545454545467,"rotationCenterY":11.863636363636402}],"sounds":[],"volume":100,"layerOrder":4,"visible":true,"x":70,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"export","variables":{},"lists":{},"broadcasts":{},"blocks":{"b{":{"opcode":"skyhigh173JSON_json_vm_getlist","next":null,"parent":"b|","inputs":{"list":[1,"ej"]},"fields":{}},"ej":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"b{","inputs":{},"fields":{"get_list":["9O|/dr-6%0yRU!*jD@Cb",null]},"shadow":true},"b|":{"opcode":"filesExpanded_download","next":null,"parent":"ek","inputs":{"text":[3,"b{",[10,"Hello, world!"]],"file":[1,[10,"exported_code.bx"]]},"fields":{}},"ek":{"opcode":"event_whenthisspriteclicked","next":"b|","parent":null,"inputs":{},"fields":{},"topLevel":true},"el":{"opcode":"lmsMoreEvents_everyDuration","next":"em","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"em":{"opcode":"motion_gotoxy","next":null,"parent":"el","inputs":{"X":[1,[4,"-15"]],"Y":[1,[4,"170"]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"5d69cec6107a39ffbc6cd096bd186676","md5ext":"5d69cec6107a39ffbc6cd096bd186676.svg","rotationCenterX":21.166664999999938,"rotationCenterY":9.25}],"sounds":[],"volume":100,"layerOrder":2,"visible":true,"x":-15,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"},{"isStage":false,"name":"import","variables":{},"lists":{},"broadcasts":{},"blocks":{"en":{"opcode":"event_whenthisspriteclicked","next":"b}","parent":null,"inputs":{},"fields":{},"topLevel":true},"ai":{"opcode":"skyhigh173JSON_json_vm_setlist","next":null,"parent":"aj","inputs":{"list":[1,"eo"],"json":[3,"ak",[10,"[\"apple\",\"banana\"]"]]},"fields":{}},"eo":{"opcode":"skyhigh173JSON_menu_get_list","next":null,"parent":"ai","inputs":{},"fields":{"get_list":["9O|/dr-6%0yRU!*jD@Cb"]},"shadow":true},"b~":{"opcode":"filesExpanded_showPickerExtensionsAs","next":null,"parent":"aj","inputs":{"extension":[1,[10,".bx"]],"as":[1,"ep"]},"fields":{}},"ep":{"opcode":"filesExpanded_menu_encoding","next":null,"parent":"b~","inputs":{},"fields":{"encoding":["text"]},"shadow":true},"al":{"opcode":"filesExpanded_setOpenMode","next":"aj","parent":"b}","inputs":{"mode":[1,"eq"]},"fields":{}},"eq":{"opcode":"filesExpanded_menu_automaticallyOpen","next":null,"parent":"al","inputs":{},"fields":{"automaticallyOpen":["selector",null]},"shadow":true},"er":{"opcode":"motion_gotoxy","next":null,"parent":"es","inputs":{"X":[1,[4,"30"]],"Y":[1,[4,"170"]]},"fields":{}},"es":{"opcode":"lmsMoreEvents_everyDuration","next":"er","parent":null,"inputs":{"DURATION":[1,[4,"4"]]},"fields":{},"topLevel":true},"ca":{"opcode":"skyhigh173JSON_json_array_create","next":null,"parent":"ak","inputs":{"text":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"a,b,c"]],"d":[3,"et",[10,","]]},"fields":{}},"et":{"opcode":"utilities_newline","next":null,"parent":"ca","inputs":{},"fields":{}},"ak":{"opcode":"utilities_ternaryOperator","next":null,"parent":"ai","inputs":{"B":[3,"ca",[10,"banana"]],"C":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"apple"]],"A":[2,"cb"]},"fields":{}},"eu":{"opcode":"utilities_newline","next":null,"parent":"cb","inputs":{},"fields":{}},"cb":{"opcode":"operator_contains","next":null,"parent":"ak","inputs":{"STRING1":[3,[12,"code.toimport","-[/s5Ci!Vm_AYWv8F$C^"],[10,"apple"]],"STRING2":[3,"eu",[10,"a"]]},"fields":{}},"b}":{"opcode":"data_deletealloflist","next":"al","parent":"en","inputs":{},"fields":{"LIST":["code","9O|/dr-6%0yRU!*jD@Cb"]}},"aj":{"opcode":"data_setvariableto","next":"ai","parent":"al","inputs":{"VALUE":[3,"b~",[10,"0"]]},"fields":{"VARIABLE":["code.toimport","-[/s5Ci!Vm_AYWv8F$C^"]}}},"comments":{},"currentCostume":0,"costumes":[{"name":"costume1","bitmapResolution":1,"dataFormat":"svg","assetId":"63f3dd1176079bb2a388066fd7c40bf2","md5ext":"63f3dd1176079bb2a388066fd7c40bf2.svg","rotationCenterX":21.166666666666714,"rotationCenterY":9.25}],"sounds":[],"volume":100,"layerOrder":3,"visible":true,"x":30,"y":170,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"}],"monitors":[{"id":"9O|/dr-6%0yRU!*jD@Cb","mode":"list","opcode":"data_listcontents","params":{"LIST":"code"},"spriteName":null,"value":[],"width":480,"height":180,"x":0,"y":178,"visible":true},{"id":";A!-EsNOQGwq7!9H*J8b","mode":"list","opcode":"data_listcontents","params":{"LIST":"code (run)"},"spriteName":null,"value":[],"width":243,"height":197,"x":235,"y":0,"visible":false},{"id":"kb!NJ48,X=3E+A}v$pMh","mode":"default","opcode":"data_variable","params":{"VARIABLE":"boxes"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"_Im,zJg}7i]sA]LkT)iJ","mode":"list","opcode":"data_listcontents","params":{"LIST":"[debug]"},"spriteName":null,"value":[],"width":148,"height":200,"x":330,"y":0,"visible":true},{"id":"}dDt?K()T1V#X=R=X]hf","mode":"list","opcode":"data_listcontents","params":{"LIST":"console"},"spriteName":null,"value":[],"width":329,"height":160,"x":0,"y":22,"visible":true},{"id":"gHwP?VfvO/L(IP_8XO;q","mode":"default","opcode":"data_variable","params":{"VARIABLE":"data"},"spriteName":null,"value":0,"width":0,"height":0,"x":147,"y":185,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true}],"extensions":["lmsMoreEvents","SP0zMenuMaker","skyhigh173JSON","strings","dtbyxeroname","shovelcss","navigatorinfo","MistiumEval","lmsTimers","mobilekeyboard0419","utilities","lmsCast","xmerclosecontrol","runtimeoptions","truefantommath","MistKeyHistoryExtension","filesExpanded"],"extensionURLs":{"lmsMoreEvents":"https://extensions.turbowarp.org/Lily/MoreEvents.js","SP0zMenuMaker":"data:text/javascript;base64,Ly8gTmFtZTogRHJvcGRvd24gTWFrZXIKLy8gSUQ6IFNQMHpNZW51TWFrZXIKLy8gRGVzY3JpcHRpb246IENyZWF0ZSBDdXN0b20gRHJvcGRvd25zCi8vIEJ5OiBTaGFya1Bvb2wKLy8gQnk6IDB6bnp3IDxodHRwczovL3NjcmF0Y2gubWl0LmVkdS91c2Vycy8wem56dy8+Ci8vIEJ5OiBDU1QxMjI5IDxodHRwczovL3NjcmF0Y2gubWl0LmVkdS91c2Vycy9DU1QxMjI5Lz4KLy8gTGljZW5zZTogTUlUIEFORCBMR1BMdjMKCi8vIFZlcnNpb24gVi4xLjAuMQoKKGZ1bmN0aW9uIChTY3JhdGNoKSB7CiAgInVzZSBzdHJpY3QiOwogIGlmICghU2NyYXRjaC5leHRlbnNpb25zLnVuc2FuZGJveGVkKSB0aHJvdyBuZXcgRXJyb3IoIk1lbnUgTWFrZXIgbmVlZHMgdG8gcnVuIHVuc2FuZGJveGVkISIpOwoKICBjb25zdCBkZWxldGVTVkcgPQogICAgImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJek9TNDNNellpSUdobGFXZG9kRDBpTXprdU56TTJJaUIyYVdWM1FtOTRQU0l3SURBZ016a3VOek0ySURNNUxqY3pOaUkrUEhCaGRHZ2daRDBpVFRFeUxqVTBNU0F6TlM0eE9UVmhPQ0E0SURBZ01DQXhMVGd0T0ZZeE1pNDFOREZoT0NBNElEQWdNQ0F4SURndE9HZ3hOQzQyTlRSaE9DQTRJREFnTUNBeElEZ2dPSFl4TkM0Mk5UUmhPQ0E0SURBZ01DQXhMVGdnT0hvaUlHWnBiR3c5SWlObVpqUmtOR1FpTHo0OGNHRjBhQ0JrUFNKTk1DQXpPUzQzTXpaV01HZ3pPUzQzTXpaMk16a3VOek0yZWlJZ1ptbHNiRDBpYm05dVpTSXZQanh3WVhSb0lHUTlJazB4TWk0MU5ERWdNelV1TVRrMVlUZ2dPQ0F3SURBZ01TMDRMVGhXTVRJdU5UUXhZVGdnT0NBd0lEQWdNU0E0TFRob01UUXVOalUwWVRnZ09DQXdJREFnTVNBNElEaDJNVFF1TmpVMFlUZ2dPQ0F3SURBZ01TMDRJRGg2SWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVdGIzQmhZMmwwZVQwaUxqSTFNU0lnYzNSeWIydGxQU0lqTURBd0lpQnpkSEp2YTJVdGQybGtkR2c5SWpVaUx6NDhjR0YwYUNCa1BTSk5NVE11TVRBNElESXlMalU1T1dFeUxqWTNJREl1TmpjZ01DQXdJREV0TWk0Mk55MHlMalkzZGkwdU1USXlZVEl1TmpjZ01pNDJOeUF3SURBZ01TQXlMalkzTFRJdU5qZG9NVE11TlRKaE1pNDJOeUF5TGpZM0lEQWdNQ0F4SURJdU5qY2dNaTQyTjNZdU1USXlZVEl1TmpjZ01pNDJOeUF3SURBZ01TMHlMalkzSURJdU5qZDZJaUJtYVd4c1BTSWpabVptSWk4K1BDOXpkbWMrIjsKICBjb25zdCBhZGRTVkcgPQogICAgImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJek9TNDNNellpSUdobGFXZG9kRDBpTXprdU56TTJJaUIyYVdWM1FtOTRQU0l3SURBZ016a3VOek0ySURNNUxqY3pOaUkrUEhCaGRHZ2daRDBpVFRFeUxqVTBNU0F6TlM0eE9UVmhPQ0E0SURBZ01DQXhMVGd0T0ZZeE1pNDFOREZoT0NBNElEQWdNQ0F4SURndE9HZ3hOQzQyTlRSaE9DQTRJREFnTUNBeElEZ2dPSFl4TkM0Mk5UUmhPQ0E0SURBZ01DQXhMVGdnT0hvaUlHWnBiR3c5SWlNMU1tWm1NMlVpTHo0OGNHRjBhQ0JrUFNKTk1USXVOVFF4SURNMUxqRTVOV0U0SURnZ01DQXdJREV0T0MwNFZqRXlMalUwTVdFNElEZ2dNQ0F3SURFZ09DMDRhREUwTGpZMU5HRTRJRGdnTUNBd0lERWdPQ0E0ZGpFMExqWTFOR0U0SURnZ01DQXdJREV0T0NBNGVpSWdabWxzYkQwaWJtOXVaU0lnYzNSeWIydGxMVzl3WVdOcGRIazlJaTR5TlRFaUlITjBjbTlyWlQwaUl6QXdNQ0lnYzNSeWIydGxMWGRwWkhSb1BTSTFJaTgrUEhCaGRHZ2daRDBpVFRFekxqRXdPQ0F5TWk0MU9UbGhNaTQyTnlBeUxqWTNJREFnTUNBeExUSXVOamN0TWk0Mk4zWXRMakV5TW1FeUxqWTNJREl1TmpjZ01DQXdJREVnTWk0Mk55MHlMalkzYURFekxqVXlZVEl1TmpjZ01pNDJOeUF3SURBZ01TQXlMalkzSURJdU5qZDJMakV5TW1FeUxqWTNJREl1TmpjZ01DQXdJREV0TWk0Mk55QXlMalkzZWlJZ1ptbHNiRDBpSTJabVppSXZQanh3WVhSb0lHUTlJazB4Tnk0eE16Y2dNVE11TVRBNFlUSXVOamNnTWk0Mk55QXdJREFnTVNBeUxqWTNMVEl1Tmpkb0xqRXlNbUV5TGpZM0lESXVOamNnTUNBd0lERWdNaTQyTnlBeUxqWTNkakV6TGpVeVlUSXVOamNnTWk0Mk55QXdJREFnTVMweUxqWTNJREl1Tmpkb0xTNHhNakpoTWk0Mk55QXlMalkzSURBZ01DQXhMVEl1TmpjdE1pNDJOM29pSUdacGJHdzlJaU5tWm1ZaUx6NDhjR0YwYUNCa1BTSk5NQ0F6T1M0M016WldNR2d6T1M0M016WjJNemt1TnpNMmVpSWdabWxzYkQwaWJtOXVaU0l2UGp3dmMzWm5QZz09IjsKICBjb25zdCBlZGl0U1ZHID0KICAgICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXpPUzQzTXpZaUlHaGxhV2RvZEQwaU16a3VOek0ySWlCMmFXVjNRbTk0UFNJd0lEQWdNemt1TnpNMklETTVMamN6TmlJK1BIQmhkR2dnWkQwaVRURXlMalUwTVNBek5TNHhPVFZoT0NBNElEQWdNQ0F4TFRndE9GWXhNaTQxTkRGaE9DQTRJREFnTUNBeElEZ3RPR2d4TkM0Mk5UUmhPQ0E0SURBZ01DQXhJRGdnT0hZeE5DNDJOVFJoT0NBNElEQWdNQ0F4TFRnZ09Ib2lJR1pwYkd3OUlpTTBNR1E0Wm1ZaUx6NDhjR0YwYUNCa1BTSk5NVEl1TlRReElETTFMakU1TldFNElEZ2dNQ0F3SURFdE9DMDRWakV5TGpVME1XRTRJRGdnTUNBd0lERWdPQzA0YURFMExqWTFOR0U0SURnZ01DQXdJREVnT0NBNGRqRTBMalkxTkdFNElEZ2dNQ0F3SURFdE9DQTRlaUlnWm1sc2JEMGlibTl1WlNJZ2MzUnliMnRsTFc5d1lXTnBkSGs5SWk0eU5URWlJSE4wY205clpUMGlJekF3TUNJZ2MzUnliMnRsTFhkcFpIUm9QU0kxSWk4K1BIQmhkR2dnWkQwaVRURXlMalU0TnlBeU15NHdPVGhqTGpFd01pMHVORE11TXpjM0xTNDROaTQzTXpRdE1TNHlMak15TVMwdU16QTFJRFF1T0RNNElEUXVNVFk0SURRdU5UUTRJRFF1TkRnekxTNHpORFF1TXpjekxTNDNPRGd1TmpZekxURXVNak14TGpjMk9Hd3RNeTQ0TkM0NU1UWmpMUzQ0TVRjdU1UazBMVEV1TXpJeExTNHpNUzB4TGpFeU55MHhMakV5Tm5wdE1URXVNVEU0TFRFd0xqQXpObUV4TGpBNU5TQXhMakE1TlNBd0lEQWdNU0F3TFRFdU5UUTRiQzQ1TmpZdExqazJOMkV4TGpBNU5TQXhMakE1TlNBd0lEQWdNU0F4TGpVME9TQXdiREl1T1RZNUlESXVPVGRqTGpReU55NDBNamN1TkRJM0lERXVNVElnTUNBeExqVTBPR3d0TGprMk55NDVOalpoTVM0d09UVWdNUzR3T1RVZ01DQXdJREV0TVM0MU5EZ2dNSHB0TFRndU16a3hJRGd1TXpreFlURXVNRGsxSURFdU1EazFJREFnTUNBeElEQXRNUzQxTkRoc05pNHdNUzAyTGpBeFlURXVNRGsxSURFdU1EazFJREFnTUNBeElERXVOVFE0SURCc01pNDVOamtnTWk0NU5qbGpMalF5T0M0ME1qZ3VOREk0SURFdU1USWdNQ0F4TGpVME9Hd3ROaTR3TVNBMkxqQXhZVEV1TURrMUlERXVNRGsxSURBZ01DQXhMVEV1TlRRNElEQjZJaUJtYVd4c1BTSWpabVptSWk4K1BIQmhkR2dnWkQwaVRUQWdNemt1TnpNMlZqQm9Nemt1TnpNMmRqTTVMamN6Tm5vaUlHWnBiR3c5SW01dmJtVWlMejQ4TDNOMlp6ND0iOwogIGNvbnN0IG1lbnVJY29uVVJJID0KICAgICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhNRFl1TkRFNUlpQm9aV2xuYUhROUlqRXdOaTQwTVRraUlIWnBaWGRDYjNnOUlqQWdNQ0F4TURZdU5ERTVJREV3Tmk0ME1Ua2lQanh3WVhSb0lHUTlJazB5TGpVZ05UTXVNakZETWk0MUlESTFMakl3TkNBeU5TNHlNRFFnTWk0MUlEVXpMakl4SURJdU5YTTFNQzQzTVNBeU1pNDNNRFFnTlRBdU56RWdOVEF1TnpFdE1qSXVOekEwSURVd0xqY3hMVFV3TGpjeElEVXdMamN4VXpJdU5TQTRNUzR5TVRZZ01pNDFJRFV6TGpJeGVpSWdabWxzYkQwaUl6Qm1ZbVE0WXlJZ2MzUnliMnRsUFNJak1HRTRNRFZsSWlCemRISnZhMlV0ZDJsa2RHZzlJalVpTHo0OGNHRjBhQ0JrUFNKTk1Ua3VPVElnTlRNdU1qRmpNQzB4T0M0ek9EWWdNVFF1T1RBMExUTXpMakk1SURNekxqSTVMVE16TGpJNVV6ZzJMalVnTXpRdU9ESTBJRGcyTGpVZ05UTXVNakVnTnpFdU5UazJJRGcyTGpVZ05UTXVNakVnT0RZdU5TQXhPUzQ1TWlBM01TNDFPVFlnTVRrdU9USWdOVE11TWpGNklpQm1hV3hzUFNJak1HTTVPVGN4SWlCemRISnZhMlU5SWlNd1lUZ3dOV1VpSUhOMGNtOXJaUzEzYVdSMGFEMGlOQzQxSWk4K1BIQmhkR2dnWkQwaVRUWTNMak0wT0NBME9TNDRNREpoTlM0ek5pQTFMak0ySURBZ01DQXhMVEV1TlRnZ015NDRNamRzTFRndU56SWdPQzQzTW1FMUxqUTFJRFV1TkRVZ01DQXdJREV0Tnk0Mk56WWdNR3d0T0M0Mk9UZ3RPQzQzTW1FMUxqTTRJRFV1TXpnZ01DQXdJREV0TVM0Mk1ESXRNeTQ0TWpjZ05TNDFNaUExTGpVeUlEQWdNQ0F4SURFdU5UZ3RNeTQ0TkRsakxqWTBOUzB1TlRNMElERXVOakF4TFRFdU5UZ2dNVEl1TlRjdE1TNDFPQ0F4TUM0NU5qY2dNQ0F4TVM0NU9TQXhMakF5TkNBeE1pNDFORFlnTVM0MU9HRTFMalF6SURVdU5ETWdNQ0F3SURFZ01TNDFPQ0F6TGpnMWVpSWdabWxzYkQwaWJtOXVaU0lnYzNSeWIydGxQU0lqTUdFNE1EVmxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqY3VOU0l2UGp4d1lYUm9JR1E5SWswMk55NHpORGdnTkRrdU9EQXlZVFV1TXpZZ05TNHpOaUF3SURBZ01TMHhMalU0SURNdU9ESTNiQzA0TGpjeUlEZ3VOekpoTlM0ME5TQTFMalExSURBZ01DQXhMVGN1TmpjMklEQnNMVGd1TmprNExUZ3VOekpoTlM0ek9DQTFMak00SURBZ01DQXhMVEV1TmpBeUxUTXVPREkzSURVdU5USWdOUzQxTWlBd0lEQWdNU0F4TGpVNExUTXVPRFE1WXk0Mk5EVXRMalV6TkNBeExqWXdNUzB4TGpVNElERXlMalUzTFRFdU5UZ2dNVEF1T1RZM0lEQWdNVEV1T1RrZ01TNHdNalFnTVRJdU5UUTJJREV1TlRoaE5TNDBNeUExTGpReklEQWdNQ0F4SURFdU5UZ2dNeTQ0TlNJZ1ptbHNiRDBpSTJabVppSXZQand2YzNablBnPT0iOwoKICBjb25zdCB2bSA9IFNjcmF0Y2gudm07CiAgY29uc3QgcnVudGltZSA9IHZtLnJ1bnRpbWU7CiAgY29uc3QgaXNQTSA9IFNjcmF0Y2guZXh0ZW5zaW9ucy5pc1Blbmd1aW5Nb2Q7CiAgY29uc3QgVEVNUF9CTE9DS19PUENPREUgPSAiU1Awek1lbnVNYWtlcl9fX1NQMHpNZW51TWFrZXJfVEVNUF9CTE9DSyI7IC8vIG9wY29kZSBvZiB0aGUgdGVtcG9yYXJ5IGJsb2NrIGFkZGVkIHRvIGtlZXAgdGhlIGV4dGVuc2lvbiBpbiB0aGUgcHJvamVjdAoKICBsZXQgZXh0UmV2bW92YWJsZSA9IGZhbHNlLCBleHRlbnNpb25JbnN0YW5jZTsgLy8gY3JlYXRlZCB3aGVuIHRoZSBleHRlbnNpb24gaXMgInJlZ2lzdGVyZWQiCiAgbGV0IG1lbnVzWE1MID0gYDxsYWJlbCB0ZXh0PSJUcnkgY3JlYXRpbmcgc29tZSBtZW51cyEiIC8+YDsKICBsZXQgY3VzdG9tTWVudXMgPSB7CiAgICAibmV3LW1lbnUtMSI6IHsgaXRlbXM6IFt7IHRleHQ6ICJmb28iLCB2YWx1ZTogImJhciIgfV0sIGFjY2VwdFJlcG9ydGVyczogZmFsc2UgfQogIH07CgogIC8vIEhlbHBlciBGdW5jcwogIGNvbnN0IGhhc093biA9IChvYmosIGtleSkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTsKCiAgY29uc3QgeG1sRXNjYXBlID0gZnVuY3Rpb24gKHVuc2FmZSkgewogICAgcmV0dXJuIFNjcmF0Y2guQ2FzdC50b1N0cmluZyh1bnNhZmUpLnJlcGxhY2UoL1s8PiYnIl0vZywgYyA9PiB7CiAgICAgIHN3aXRjaCAoYykgewogICAgICAgIGNhc2UgIjwiOiByZXR1cm4gIiZsdDsiOwogICAgICAgIGNhc2UgIj4iOiByZXR1cm4gIiZndDsiOwogICAgICAgIGNhc2UgIiYiOiByZXR1cm4gIiZhbXA7IjsKICAgICAgICBjYXNlICInIjogcmV0dXJuICImYXBvczsiOwogICAgICAgIGNhc2UgIlwiIjogcmV0dXJuICImcXVvdDsiOwogICAgICB9CiAgICB9KTsKICB9OwoKICBmdW5jdGlvbiByZWZyZXNoTWFnaWMoKSB7CiAgICBtZW51c1hNTCA9IE9iamVjdC5rZXlzKGN1c3RvbU1lbnVzKS5tYXAobWVudU5hbWUgPT4gewogICAgICBjb25zdCBtZW51QmxvY2sgPSBgU1Awek1lbnVNYWtlcl9tZW51XyR7eG1sRXNjYXBlKG1lbnVOYW1lKX1gOwogICAgICByZXR1cm4gYDxibG9jayB0eXBlPSIke21lbnVCbG9ja30iIGlkPSIke21lbnVCbG9ja30iPjwvYmxvY2s+YDsKICAgIH0pLmpvaW4oIiIpIHx8IGA8bGFiZWwgdGV4dD0iVHJ5IGNyZWF0aW5nIHNvbWUgbWVudXMhIiAvPmA7CiAgICB2bS5leHRlbnNpb25NYW5hZ2VyLnJlZnJlc2hCbG9ja3MoIlNQMHpNZW51TWFrZXIiKS50aGVuKCgpID0+IHZtLnJlZnJlc2hXb3Jrc3BhY2UoKSk7CiAgfQoKICBmdW5jdGlvbiBwYXRjaERpdkNvbG9yKGNvbnRhaW5lciwgaXNEYXJrKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGNoaWxkID0gY29udGFpbmVyLmNoaWxkTm9kZXNbaV07CiAgICAgIGNoaWxkLnN0eWxlLmJhY2tncm91bmQgPSBpICUgMiAhPT0gMCA/IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAke2lzRGFyayA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In0gODAlLCByZ2JhKDAsMCwwLDApKWAgOiAiIjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHBhdGNoTmFtZShuYW1lLCBhcnJheSkgewogICAgaWYgKGFycmF5LmluZGV4T2YobmFtZSkgPiAtMSkgewogICAgICBjb25zdCBhcHBlYXJhbmNlID0gYXJyYXkuZmlsdGVyKCh2KSA9PiB2ID09PSBuYW1lKS5sZW5ndGg7CiAgICAgIGNvbnN0IGxhc3REYXNoID0gbmFtZS5sYXN0SW5kZXhPZigiLSIpOwogICAgICBsZXQgbmV3TmFtZSA9IGAke25hbWV9LSR7YXBwZWFyYW5jZX1gOwogICAgICBpZiAobGFzdERhc2ggIT09IC0xKSB7CiAgICAgICAgY29uc3QgbGFzdFBhcnQgPSBuYW1lLnNsaWNlKGxhc3REYXNoICsgMSk7CiAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChsYXN0UGFydCkpKSBuZXdOYW1lID0gbmFtZS5zbGljZSgwLCBsYXN0RGFzaCkgKyBgLSR7cGFyc2VJbnQobGFzdFBhcnQpICsgYXBwZWFyYW5jZX1gOwogICAgICB9CiAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKG5ld05hbWUpID4gLTEgPyBwYXRjaE5hbWUobmV3TmFtZSwgYXJyYXkpIDogbmV3TmFtZTsKICAgIH0KICAgIHJldHVybiBuYW1lOwogIH0KCiAgLy8gR1VJCiAgZnVuY3Rpb24gbWFrZVRpdGxlKHR4dCkgewogICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHRpdGxlLnRleHRDb250ZW50ID0gdHh0OwogICAgdGl0bGUuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHRleHQtYWxpZ246IGNlbnRlcjsgd2lkdGg6IDQ3JTsgbWFyZ2luLXJpZ2h0OiA4cHg7IG1hcmdpbi1sZWZ0OiA4cHg7IHBhZGRpbmc6IDBweCAwcHggMjBweDsiKTsKICAgIHJldHVybiB0aXRsZTsKICB9CgogIGZ1bmN0aW9uIG1ha2VMYWJlbCh0eHQpIHsKICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBsYWJlbC50ZXh0Q29udGVudCA9IHR4dDsKICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAibWFyZ2luOiA1cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsIC01NSUpOyIpOwogICAgcmV0dXJuIGxhYmVsOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQ29udGFpbihjbGFzUywgZGFya0dVSSkgewogICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBib3guY2xhc3NMaXN0LmFkZChjbGFzUyk7CiAgICBib3guc2V0QXR0cmlidXRlKCJzdHlsZSIsICJvdmVyZmxvdzogaGlkZGVuIHNjcm9sbDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogNDclOyBoZWlnaHQ6IDIwMHB4OyBwYWRkaW5nOiAycHg7IG1hcmdpbi1yaWdodDogOHB4OyBtYXJnaW4tbGVmdDogOHB4OyBib3JkZXItcmFkaXVzOiA1cHg7Iik7CiAgICBib3guc3R5bGUuYm9yZGVyID0gYHNvbGlkICR7ZGFya0dVSSA/ICIjMzQzNDM0IiA6ICIjRDlEOUQ5In0gMnB4YDsKICAgIHJldHVybiBib3g7CiAgfQoKICBmdW5jdGlvbiBtYWtlQnV0dG9uKGltZywgY2xhc1MpIHsKICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoY2xhc1MpOwogICAgYnV0dG9uLnNyYyA9IGltZzsKICAgIGJ1dHRvbi53aWR0aCA9ICIzMiI7CiAgICBidXR0b24uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgcmV0dXJuIGJ1dHRvbjsKICB9CgogIGZ1bmN0aW9uIG1ha2VJbnB1dCh0eXBlLCBkZWZhdWx0Viwgb3B0cykgewogICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgaW5wdXQudHlwZSA9IHR5cGU7CiAgICBpbnB1dC52YWx1ZSA9IGRlZmF1bHRWOwogICAgaW5wdXQuc3R5bGUud2lkdGggPSBvcHRzPy53aWR0aCA/PyAiMTMwcHgiOwogICAgaW5wdXQuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgwJSwgLTQ1JSkiOwogICAgaW5wdXQuc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgcmV0dXJuIGlucHV0OwogIH0KCiAgZnVuY3Rpb24gZ2hvc3RJbnB1dFJlbW92ZShzZWxlY3RvcikgewogICAgLy8gQmxvY2sgVGV4dCBpbnB1dCBEb2VzbnQgc2hvdyBpbW1lZGlhdGVseSA6KAogICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7CiAgICBlbHNlIHNldFRpbWVvdXQoKCkgPT4gZ2hvc3RJbnB1dFJlbW92ZShzZWxlY3RvciksIDUpOwogIH0KCiAgZnVuY3Rpb24gbWFrZU1lbnVOYW1lUm93KG5hbWUsIG5hbWVzQXJyYXksIGlzRGFyaywgY29udGFpbikgewogICAgY29uc3Qgcm93RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICByb3dEaXYuc3R5bGUuaGVpZ2h0ID0gIjE3JSI7CiAgICBpZiAobmFtZXNBcnJheS5pbmRleE9mKG5hbWUpICUgMiAhPT0gMCkgcm93RGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgJHtpc0RhcmsgPyAiIzM0MzQzNCIgOiAiI0Q5RDlEOSJ9IDgwJSwgcmdiYSgwLDAsMCwwKSlgOwoKICAgIC8vIERlbGV0ZSBCdXR0b24KICAgIGNvbnN0IGRlbCA9IG1ha2VCdXR0b24oZGVsZXRlU1ZHLCAiZGVsZXRlIik7CiAgICByb3dEaXYuYXBwZW5kQ2hpbGQoZGVsKTsKICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgLy8gU3VwZXIgc2VjcmV0IGNvbW1lbnQgZnJvbSBhc2hpbWUgPDMKICAgICAgZGVsZXRlIGN1c3RvbU1lbnVzW25hbWVdOwogICAgICBuYW1lc0FycmF5LnNwbGljZShuYW1lc0FycmF5LmluZGV4T2YobmFtZSksIDEpOwogICAgICByb3dEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyb3dEaXYpOwogICAgICBwYXRjaERpdkNvbG9yKGNvbnRhaW4sIGlzRGFyayk7CgogICAgICAvLyBSZW1vdmUgSXRlbXMgQ29udGFpbmVyCiAgICAgIGNvbnN0IGl0ZW1Db24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY2xhc3M9Iml0ZW1zIl1gKTsKICAgICAgaXRlbUNvbi5pbm5lckhUTUwgPSAiIjsKICAgIH0pOwoKICAgIC8vIEVkaXQgQnV0dG9uCiAgICBjb25zdCBlZGl0ID0gbWFrZUJ1dHRvbihlZGl0U1ZHLCAiZWRpdCIpOwogICAgcm93RGl2LmFwcGVuZENoaWxkKGVkaXQpOwogICAgZWRpdC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgcGF0Y2hEaXZDb2xvcihjb250YWluLCBpc0RhcmspOwogICAgICByb3dEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjYTNhM2EzIDgwJSwgcmdiYSgwLDAsMCwwKSlgOwogICAgICByZW5kZXJJdGVtTGlzdChjdXN0b21NZW51c1tuYW1lXSwgaXNEYXJrLCBuYW1lKTsKICAgIH0pOwoKICAgIC8vIFRleHQgJiBJbnB1dAogICAgY29uc3QgbGlzdEl0ZW0gPSBtYWtlSW5wdXQoInRleHQiLCBuYW1lKTsKICAgIGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsKICAgICAgY29uc3Qgb2xkVmFsdWUgPSBjdXN0b21NZW51c1tuYW1lXTsKICAgICAgZGVsZXRlIGN1c3RvbU1lbnVzW25hbWVdOwogICAgICBjb25zdCBuZXdOYW1lID0gcGF0Y2hOYW1lKGxpc3RJdGVtLnZhbHVlLCBuYW1lc0FycmF5KTsKICAgICAgY3VzdG9tTWVudXNbbmV3TmFtZV0gPSBvbGRWYWx1ZTsKICAgICAgbmFtZXNBcnJheVtuYW1lc0FycmF5LmluZGV4T2YobmFtZSldID0gbmV3TmFtZTsKCiAgICAgIC8vIHJlZnJlc2ggbW9kYWwgKHdpbGwgYnVnIG91dCBpZiBub3QgcmVmcmVzaGVkKQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBwYXJlbnQgPSByb3dEaXYucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICAgIGZvciAobGV0IGkgPSBwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpLS07ICkgcGFyZW50LmNoaWxkTm9kZXNbaV0ucmVtb3ZlKCk7CiAgICAgICAgY3JlYXRlTWVudUxpc3QoT2JqZWN0LmtleXMoY3VzdG9tTWVudXMpLCBwYXJlbnQsIGlzRGFyayk7CiAgICAgIH0sIDUpOwogICAgfSk7CiAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgcGF0Y2hEaXZDb2xvcihjb250YWluLCBpc0RhcmspOwogICAgICByb3dEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjYTNhM2EzIDgwJSwgcmdiYSgwLDAsMCwwKSlgOwogICAgICByZW5kZXJJdGVtTGlzdChjdXN0b21NZW51c1tuYW1lXSwgaXNEYXJrLCBuYW1lKTsKICAgIH0pOwogICAgcm93RGl2LmFwcGVuZChtYWtlTGFiZWwoIk5hbWU6IiksIGxpc3RJdGVtKTsKICAgIHJldHVybiByb3dEaXY7CiAgfQoKICBmdW5jdGlvbiBtYWtlSXRlbVJvdyhpdGVtLCBpbmRleCwgaXNEYXJrLCBjb250YWluLCBuYW1lKSB7CiAgICBjb25zdCByb3dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHJvd0Rpdi5zdHlsZS5oZWlnaHQgPSAiMTclIjsKICAgIGlmIChpbmRleCAlIDIgIT09IDApIHJvd0Rpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJhZGlhbC1ncmFkaWVudChjaXJjbGUsICR7aXNEYXJrID8gIiMzNDM0MzQiIDogIiNEOUQ5RDkifSA4MCUsIHJnYmEoMCwwLDAsMCkpYDsKCiAgICAvLyBEZWxldGUgQnV0dG9uCiAgICBjb25zdCBkZWwgPSBtYWtlQnV0dG9uKGRlbGV0ZVNWRywgImRlbGV0ZSIpOwogICAgcm93RGl2LmFwcGVuZENoaWxkKGRlbCk7CiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgIGN1c3RvbU1lbnVzW25hbWVdLml0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHJlbmRlckl0ZW1MaXN0KGN1c3RvbU1lbnVzW25hbWVdLCBpc0RhcmssIG5hbWUpOwogICAgfSk7CgogICAgLy8gVGV4dCAmIElucHV0CiAgICBjb25zdCB0ZXh0ID0gbWFrZUlucHV0KCJ0ZXh0IiwgaXRlbS50ZXh0LCB7IHdpZHRoOiAiNjVweCIgfSk7CiAgICB0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsgY3VzdG9tTWVudXNbbmFtZV0uaXRlbXNbaW5kZXhdLnRleHQgPSB0ZXh0LnZhbHVlIH0pOwogICAgY29uc3QgdmFsdWUgPSBtYWtlSW5wdXQoInRleHQiLCBpdGVtLnZhbHVlLCB7IHdpZHRoOiAiNjVweCIgfSk7CiAgICB2YWx1ZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoKSA9PiB7IGN1c3RvbU1lbnVzW25hbWVdLml0ZW1zW2luZGV4XS52YWx1ZSA9IHZhbHVlLnZhbHVlIH0pOwogICAgcm93RGl2LmFwcGVuZChtYWtlTGFiZWwoIlRleHQ6IiksIHRleHQsIG1ha2VMYWJlbCgiVmFsdWU6IiksIHZhbHVlKTsKICAgIHJldHVybiByb3dEaXY7CiAgfQoKICAvLyBJbnRlcm5hbCBHVUkKICBmdW5jdGlvbiBjcmVhdGVNZW51TGlzdChuYW1lc0FycmF5LCBwYXJlbnQsIGlzRGFyaykgewogICAgLy8gSW5uZXIgVGl0bGVzIGFuZCBDb250YWluZXJzCiAgICBjb25zdCB0aXRsZTEgPSBtYWtlVGl0bGUoIkNyZWF0ZWQgRHJvcGRvd25zIiksIHRpdGxlMiA9IG1ha2VUaXRsZSgiSXRlbXMgaW4gRHJvcGRvd24iKTsKICAgIGNvbnN0IGxpc3RDb24gPSBjcmVhdGVDb250YWluKCJtZW51cyIsIGlzRGFyayk7CiAgICBuYW1lc0FycmF5LmZvckVhY2goKG5hbWUpID0+IHsKICAgICAgbGlzdENvbi5hcHBlbmRDaGlsZChtYWtlTWVudU5hbWVSb3cobmFtZSwgbmFtZXNBcnJheSwgaXNEYXJrLCBsaXN0Q29uKSk7CiAgICB9KTsKCiAgICAvLyBBZGQgQnV0dG9uCiAgICBjb25zdCBhZGQgPSBtYWtlQnV0dG9uKGFkZFNWRywgImFkZCIpOwogICAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBjb25zdCBuZXdOID0gcGF0Y2hOYW1lKGBuZXctbWVudS0ke25hbWVzQXJyYXkubGVuZ3RoICsgMX1gLCBuYW1lc0FycmF5KTsKICAgICAgY3VzdG9tTWVudXNbbmV3Tl0gPSB7IGl0ZW1zOiBbeyB0ZXh0OiAiZm9vIiwgdmFsdWU6ICJiYXIiIH1dLCBhY2NlcHRSZXBvcnRlcnM6IGZhbHNlIH07CiAgICAgIG5hbWVzQXJyYXkucHVzaChuZXdOKTsKICAgICAgbGlzdENvbi5pbnNlcnRCZWZvcmUobWFrZU1lbnVOYW1lUm93KG5ld04sIG5hbWVzQXJyYXksIGlzRGFyaywgbGlzdENvbiksIGFkZCk7CiAgICAgIHBhdGNoRGl2Q29sb3IobGlzdENvbiwgaXNEYXJrKTsKICAgIH0pOwogICAgbGlzdENvbi5hcHBlbmRDaGlsZChhZGQpOwoKICAgIC8vIE1lbnUgSXRlbXMgQ29udGFpbmVyIChJbml0aWFsbHkgQmxhbmspCiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZUNvbnRhaW4oIml0ZW1zIiwgaXNEYXJrKSwgcGFyZW50LmNoaWxkcmVuWzBdKTsKICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobGlzdENvbiwgcGFyZW50LmNoaWxkcmVuWzBdKTsKICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGl0bGUyLCBwYXJlbnQuY2hpbGRyZW5bMF0pOwogICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aXRsZTEsIHBhcmVudC5jaGlsZHJlblswXSk7CiAgfQoKICBmdW5jdGlvbiByZW5kZXJJdGVtTGlzdChpdGVtcywgaXNEYXJrLCBrZXkpIHsKICAgIGNvbnN0IGl0ZW1Db24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY2xhc3M9Iml0ZW1zIl1gKTsKICAgIGl0ZW1Db24uaW5uZXJIVE1MID0gIiI7IC8vIGNsZWFuc2UgaXRlbXMKICAgIGl0ZW1zID0gaXRlbXMuaXRlbXM7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSBpdGVtQ29uLmFwcGVuZENoaWxkKG1ha2VJdGVtUm93KGl0ZW1zW2ldLCBpLCBpc0RhcmssIGl0ZW1Db24sIGtleSkpOwoKICAgIC8vIEFkZCBCdXR0b24KICAgIGNvbnN0IGFkZCA9IG1ha2VCdXR0b24oYWRkU1ZHLCAiYWRkSXRlbSIpOwogICAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBjdXN0b21NZW51c1trZXldLml0ZW1zLnB1c2goeyB0ZXh0OiAibmV3IGl0ZW0iLCB2YWx1ZTogIm5ldyB2YWx1ZSIgfSk7CiAgICAgIHJlbmRlckl0ZW1MaXN0KGN1c3RvbU1lbnVzW2tleV0sIGlzRGFyaywga2V5KTsKICAgIH0pOwogICAgaXRlbUNvbi5hcHBlbmRDaGlsZChhZGQpOwogIH0KCiAgZnVuY3Rpb24gaW5pdE1lbnVNYWtlcigpIHsKICAgIGV4dFJldm1vdmFibGUgPSBmYWxzZTsKICAgIGNvbnN0IGFsbEJsb2NrcyA9IFNjcmF0Y2hCbG9ja3MubWFpbldvcmtzcGFjZS5ibG9ja0RCXzsgLy8gQ3VzdG9tIEJsb2NrIE1vZGFsIE92ZXJyaWRlcyBCbG9ja0RCCiAgICBTY3JhdGNoQmxvY2tzLlByb2NlZHVyZXMuY3JlYXRlUHJvY2VkdXJlRGVmQ2FsbGJhY2tfKCk7CiAgICBjb25zdCBpc0RhcmsgPSBpc1BNID8gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoInRoZW1lIikgPT09ICJkYXJrIiA6IFJlZHV4U3RvcmUuZ2V0U3RhdGUoKS5zY3JhdGNoR3VpLnRoZW1lLnRoZW1lLmd1aSA9PT0gImRhcmsiOwoKICAgIC8vIENsZWFuIE1vZGFsCiAgICBjb25zdCBibG9ja1NwYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2NsYXNzXj0iY3VzdG9tLXByb2NlZHVyZXNfd29ya3NwYWNlXyJdYCk7CiAgICBibG9ja1NwYWNlLnJlbW92ZSgpOwogICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtjbGFzcyo9ImN1c3RvbS1wcm9jZWR1cmVzX2JvZHlfIl1gKTsKICAgIGZvciAobGV0IGkgPSBidXR0b25zLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGktLTspIGJ1dHRvbnMucmVtb3ZlQ2hpbGQoYnV0dG9ucy5maXJzdENoaWxkKTsKCiAgICAvLyBOZXcgVGl0bGUKICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2NsYXNzKj0ibW9kYWxfaGVhZGVyLWl0ZW0tdGl0bGVfIl1gKTsKICAgIHRpdGxlLnRleHRDb250ZW50ID0gIk1ha2UgYSBEcm9wZG93biI7CgogICAgY3JlYXRlTWVudUxpc3QoT2JqZWN0LmtleXMoY3VzdG9tTWVudXMpLCBidXR0b25zLCBpc0RhcmspOwogICAgZ2hvc3RJbnB1dFJlbW92ZShgW2NsYXNzKj0icmVtb3ZhYmxlVGV4dElucHV0Il1gKTsKCiAgICAvLyBPdmVycmlkZSAiT0siIEJ1dHRvbgogICAgY29uc3Qgb2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY2xhc3NePSJjdXN0b20tcHJvY2VkdXJlc19vay1idXR0b25fIl1gKTsKICAgIGNvbnN0IGNsb25lZE9rQnRuID0gb2tCdG4uY2xvbmVOb2RlKHRydWUpOwogICAgb2tCdG4ucmVwbGFjZVdpdGgoY2xvbmVkT2tCdG4pOwogICAgY2xvbmVkT2tCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgIC8vIEFsbCBNZW51cyBzaG91bGQgSGF2ZSBBdCBsZWFzdCAxIGluIGEgTWVudQogICAgICBmb3IgKGNvbnN0IFtrZXksIG1lbnVdIG9mIE9iamVjdC5lbnRyaWVzKGN1c3RvbU1lbnVzKSkgewogIAlpZiAobWVudS5pdGVtcy5sZW5ndGggPT09IDApIG1lbnUuaXRlbXMgPSBbeyB0ZXh0OiAiZm9vIiwgdmFsdWU6ICJiYXIiIH1dOwogICAgICB9CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtjbGFzc149ImNsb3NlLWJ1dHRvbl9jbG9zZS1idXR0b25fIl1gKS5jbGljaygpOwogICAgICByZWZyZXNoTWFnaWMoKTsKCiAgICAgIC8vIFJlbW92ZSBNZW51IEJsb2NrcyB0aGF0IG5vIExvbmdlciBFeGlzdAogICAgICBjb25zdCBtZW51TmFtZXMgPSBPYmplY3Qua2V5cyhjdXN0b21NZW51cyk7CiAgICAgIGZvciAoY29uc3QgW2tleSwgYmxvY2tdIG9mIE9iamVjdC5lbnRyaWVzKGFsbEJsb2NrcykpIHsKICAgICAgICBpZiAoYmxvY2sudHlwZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnVfIikpIHsKICAgICAgICAgIGlmIChtZW51TmFtZXMuaW5kZXhPZihibG9jay50eXBlLnJlcGxhY2UoIlNQMHpNZW51TWFrZXJfbWVudV8iLCAiIikpID09PSAtMSkgYmxvY2suZGlzcG9zZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQoKICAvLyBNZW51IEJsb2NrIENvbG9yIFNldHRlcnMKICBmdW5jdGlvbiB1cGRhdGVNZW51Q29sb3IoaWQsIG1haW5Xb3Jrc3BhY2UsIHRyZWUpIHsKICAgIGNvbnN0IGJsb2NrID0gbWFpbldvcmtzcGFjZS5nZXRCbG9ja0J5SWQoaWQpOwogICAgaWYgKCFibG9jayB8fCAhYmxvY2sudHlwZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnUiKSkgewogICAgICBpZiAoYmxvY2sgJiYgdHJlZSAmJiBibG9jay5jaGlsZEJsb2Nrc18pIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrLmNoaWxkQmxvY2tzXy5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3QgY2hpbGQgPSBibG9jay5jaGlsZEJsb2Nrc19baV07CiAgICAgICAgICBpZiAoY2hpbGQudHlwZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnUiKSkgdXBkYXRlTWVudUNvbG9yKGNoaWxkLmlkLCBtYWluV29ya3NwYWNlLCBmYWxzZSk7CiAgICAgICAgICBlbHNlIGlmIChjaGlsZC5jaGlsZEJsb2Nrc18pIHVwZGF0ZU1lbnVDb2xvcihjaGlsZC5pZCwgbWFpbldvcmtzcGFjZSwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IHBhcmVudCA9IGJsb2NrLnBhcmVudEJsb2NrXzsKICAgIGNvbnN0IGJveCA9IGJsb2NrLmlucHV0TGlzdFswXT8uZmllbGRSb3dbMF0/LmJveF87CiAgICBpZiAoIWJveCkgcmV0dXJuOwogICAgaWYgKHBhcmVudCkgewogICAgICBibG9jay5zZXRDb2xvdXIocGFyZW50LmNvbG91cl8sIHBhcmVudC5jb2xvdXJTZWNvbmRhcnlfLCBwYXJlbnQuY29sb3VyVGVydGlhcnlfKTsKICAgICAgYm94LnNldEF0dHJpYnV0ZSgiZmlsbCIsIHBhcmVudC5jb2xvdXJfKTsKICAgICAgYm94LnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwgcGFyZW50LmNvbG91clRlcnRpYXJ5Xyk7CiAgICB9IGVsc2UgewogICAgICBibG9jay5zZXRDb2xvdXIoIiMwRkJEOEMiLCAiIzBlYWE3ZSIsICIjMGM5NzcwIik7CiAgICAgIGJveC5zZXRBdHRyaWJ1dGUoImZpbGwiLCAiIzBGQkQ4QyIpOwogICAgICBib3guc2V0QXR0cmlidXRlKCJzdHJva2UiLCAiIzBjOTc3MCIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkgewogICAgaWYgKFNjcmF0Y2guZ3VpKSBTY3JhdGNoLmd1aS5nZXRCbG9ja2x5KCkudGhlbihTQiA9PiB7CiAgICAgIGNvbnN0IG1haW5Xb3Jrc3BhY2UgPSBTQi5tYWluV29ya3NwYWNlOwogICAgICBpZiAoIW1haW5Xb3Jrc3BhY2U/LnJlbmRlcmVkKSByZXR1cm47CiAgICAgIGNvbnN0IHdvcmtzcGFjZUV2ZW50cyA9IChlKSA9PiB7CiAgICAgICAgaWYgKGUudHlwZSA9PSBTQi5FdmVudHMuRU5EX0RSQUcgJiYgT2JqZWN0Lmhhc093bihlLCAiYmxvY2tJZCIpKSB7CiAgICAgICAgICBpZiAobWFpbldvcmtzcGFjZS5pZCA9PT0gZS53b3Jrc3BhY2VJZCkgdXBkYXRlTWVudUNvbG9yKGUuYmxvY2tJZCwgbWFpbldvcmtzcGFjZSwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIG1haW5Xb3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIod29ya3NwYWNlRXZlbnRzKTsKICAgICAgY29uc3QgdXBkYXRlQWxsQmxvY2tzID0gKCkgPT4gewogICAgICAgIGZvciAoY29uc3QgW2tleSwgYmxvY2tdIG9mIE9iamVjdC5lbnRyaWVzKG1haW5Xb3Jrc3BhY2UuYmxvY2tEQl8pKSB1cGRhdGVNZW51Q29sb3IoYmxvY2suaWQsIG1haW5Xb3Jrc3BhY2UsIGZhbHNlKTsKICAgICAgfTsKICAgICAgdm0ub24oIndvcmtzcGFjZVVwZGF0ZSIsIHVwZGF0ZUFsbEJsb2Nrcyk7CiAgICAgIHVwZGF0ZUFsbEJsb2NrcygpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHN0YXJ0TGlzdGVuZXJXb3JrZXIoKSB7CiAgICBpZiAodHlwZW9mIFJlZHV4U3RvcmUgPT09ICJ1bmRlZmluZWQiKSByZXR1cm47CiAgICBjb25zdCBjaGVja0luRWRpdG9yID0gKCkgPT4gIVJlZHV4U3RvcmUuZ2V0U3RhdGUoKS5zY3JhdGNoR3VpLm1vZGUuaXNQbGF5ZXJPbmx5OwogICAgbGV0IGluRWRpdG9yID0gY2hlY2tJbkVkaXRvcigpOwogICAgaWYgKGluRWRpdG9yKSBhdHRhY2hFdmVudHMoKTsKICAgIFJlZHV4U3RvcmUuc3Vic2NyaWJlKCgpID0+IHsKICAgICAgY29uc3QgY3VycmVudGx5SW5FZGl0b3IgPSBjaGVja0luRWRpdG9yKCk7CiAgICAgIGlmIChpbkVkaXRvciAhPT0gY3VycmVudGx5SW5FZGl0b3IpIHsKICAgICAgICBpbkVkaXRvciA9IGN1cnJlbnRseUluRWRpdG9yOwogICAgICAgIGlmIChpbkVkaXRvcikgYXR0YWNoRXZlbnRzKCk7CiAgICAgIH0KICAgIH0pOwogIH0KICBpZiAodHlwZW9mIHNjYWZmb2xkaW5nID09PSAidW5kZWZpbmVkIikgc3RhcnRMaXN0ZW5lcldvcmtlcigpOwoKICBjbGFzcyBTUDB6TWVudU1ha2VyIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAvKiB1c2VkIGJ5IE15IEJsb2NrcysgKi8KICAgICAgdGhpcy5yZWZyZXNoQ2F0ZWdvcnkgPSByZWZyZXNoTWFnaWM7CiAgICAgIHRoaXMuZ2V0TWVudXMgPSAoKSA9PiBjdXN0b21NZW51czsKICAgICAgdGhpcy5zZXRNZW51cyA9IChtZW51LCB2YWx1ZSkgPT4gewogICAgICAgIGlmIChjdXN0b21NZW51c1ttZW51XSkgY3VzdG9tTWVudXNbbWVudV0uaXRlbXMgPSB2YWx1ZTsKICAgICAgICBlbHNlIGN1c3RvbU1lbnVzW21lbnVdID0geyBpdGVtczogdmFsdWUsIGFjY2VwdFJlcG9ydGVyczogZmFsc2UgfTsKICAgICAgfQoKICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7IC8vIFRvIGF2b2lkIHNsb3cgd3JpdGVzIGV2ZXJ5IHRpbWUgYSBtZW51IGlzIGNoYW5nZWQKICAgICAgY29uc3Qgb2xkVG9KU09OID0gdm0uY29uc3RydWN0b3IucHJvdG90eXBlLnRvSlNPTjsKICAgICAgdm0uY29uc3RydWN0b3IucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICguLi5hcmdzKSB7CiAgICAgICAgaWYgKGV4dFJldm1vdmFibGUpIHJldHVybiBvbGRUb0pTT04uYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgaWYgKCFpc1BNKSBydW50aW1lLmV4dGVuc2lvblN0b3JhZ2UuU1Awek1lbnVNYWtlciA9IHNlbGYuc2VyaWFsaXplKCkuU1Awek1lbnVNYWtlcjsKCiAgICAgICAgLy8gTWFrZSB0aGUgZXh0ZW5zaW9uIHN0YXkgYnkgYWRkaW5nIGEgZHVtbXkgYmxvY2sKICAgICAgICBjb25zdCBibG9ja3MgPSBydW50aW1lLnRhcmdldHNbMF0uYmxvY2tzOwogICAgICAgIGJsb2Nrcy5fYmxvY2tzW1RFTVBfQkxPQ0tfT1BDT0RFXSA9IHsKICAgICAgICAgIG9wY29kZTogVEVNUF9CTE9DS19PUENPREUsIGlkOiBURU1QX0JMT0NLX09QQ09ERSwgZmllbGRzOiB7fSwKICAgICAgICAgIG5leHQ6IG51bGwsIHBhcmVudDogbnVsbCwgc2hhZG93OiBmYWxzZSwgdG9MZXZlbDogdHJ1ZSwKICAgICAgICAgIHg6IHVuZGVmaW5lZCwgeTogdW5kZWZpbmVkCiAgICAgICAgfQogICAgICAgIGNvbnN0IGpzb25TdHIgPSBvbGRUb0pTT04uYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgLy8gQmxvY2sgSURzIG1heSBoYXZlIGJlZW4gY29tcHJlc3NlZCBhdCB0aGlzIHBvaW50CiAgICAgICAgY29uc3QgdGVtcEJsb2NrSWQgPSBPYmplY3QudmFsdWVzKGJsb2Nrcy5fYmxvY2tzKS5maW5kKG8gPT4gby5vcGNvZGUgPT09IFRFTVBfQkxPQ0tfT1BDT0RFKT8uaWQ7CiAgICAgICAgaWYgKHRlbXBCbG9ja0lkKSBkZWxldGUgYmxvY2tzLl9ibG9ja3NbdGVtcEJsb2NrSWRdOwogICAgICAgIHJldHVybiBqc29uU3RyOwogICAgICB9OwoKICAgICAgY29uc3Qgb2xkaW5zdGFsbFRhcmdldHMgPSB2bS5pbnN0YWxsVGFyZ2V0czsKICAgICAgdm0uaW5zdGFsbFRhcmdldHMgPSBmdW5jdGlvbiAoLi4uYXJncykgewogICAgICAgIC8vIFJlbW92ZSB0aGUgZHVtbXkgYmxvY2sKICAgICAgICBpZiAoYXJnc1swXSAmJiBhcmdzWzBdWzBdKSB7CiAgICAgICAgICBjb25zdCB0ZW1wQmxvY2tJZCA9IE9iamVjdC52YWx1ZXMoYXJnc1swXVswXS5ibG9ja3MuX2Jsb2NrcykuZmluZChvID0+IG8ub3Bjb2RlID09PSBURU1QX0JMT0NLX09QQ09ERSk/LmlkOwogICAgICAgICAgaWYgKHRlbXBCbG9ja0lkKSBkZWxldGUgYXJnc1swXVswXS5ibG9ja3MuX2Jsb2Nrc1t0ZW1wQmxvY2tJZF07CiAgICAgICAgfQogICAgICAgIHJldHVybiBvbGRpbnN0YWxsVGFyZ2V0cy5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgfTsKCiAgICAgIC8vIExvYWQgdGhlIG1lbnVzCiAgICAgIHRoaXMucmVmcmVzaFN0b3JhZ2UoKTsKICAgICAgdm0ucnVudGltZS5vbigiUFJPSkVDVF9MT0FERUQiLCAoKSA9PiB7CiAgICAgICAgY29uc3QgcmVmcmVzaFdvcmtzcGFjZSA9IHZtLnJlZnJlc2hXb3Jrc3BhY2U7CiAgICAgICAgdm0ucmVmcmVzaFdvcmtzcGFjZSA9ICgpID0+IHt9OwogICAgICAgIHRoaXMucmVmcmVzaFN0b3JhZ2UoKTsKICAgICAgICB2bS5leHRlbnNpb25NYW5hZ2VyLnJlZnJlc2hCbG9ja3MoIlNQMHpNZW51TWFrZXIiKTsKICAgICAgICB2bS5yZWZyZXNoV29ya3NwYWNlID0gcmVmcmVzaFdvcmtzcGFjZTsKICAgICAgICB2bS5vbmNlKCJCRUZPUkVfRVhFQ1VURSIsICgpID0+IHZtLnJlZnJlc2hXb3Jrc3BhY2UoKSk7CiAgICAgIH0pOwogICAgfQoKICAgIHJlZnJlc2hTdG9yYWdlKCkgeyAvLyBUdXJib1dhcnAgc3VwcG9ydAogICAgICBpZiAoIWlzUE0pIHRoaXMuZGVzZXJpYWxpemUocnVudGltZS5leHRlbnNpb25TdG9yYWdlKTsKICAgIH0KICAgIGdldEluZm8oKSB7CiAgICAgIC8vIFVzZWQgdG8gTG9hZCB0aGUgTWVudXMKICAgICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoKSB7CiAgICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSBmYWxzZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlZnJlc2hNYWdpYygpLCAwKTsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIGlkOiAiU1Awek1lbnVNYWtlciIsCiAgICAgICAgbmFtZTogIkRyb3Bkb3duIE1ha2VyIiwKICAgICAgICBtZW51SWNvblVSSSwKICAgICAgICBibG9ja3M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgZnVuYzogIm1ha2VNZW51IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CVVRUT04sCiAgICAgICAgICAgIHRleHQ6ICJPcGVuIE1lbnUgRWRpdG9yIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgZnVuYzogInJlbW92ZUV4dCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQlVUVE9OLAogICAgICAgICAgICB0ZXh0OiAiUmVtb3ZlIHRoaXMgRXh0ZW5zaW9uIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiaW1wb3J0TWVudXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6ICJpbXBvcnQgY3VzdG9tIGRyb3Bkb3duIEpTT04gW01FTlVTXSIsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIE1FTlVTOiB7IHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywgZGVmYXVsdFZhbHVlOiBgeyAibXlNZW51LTEiOiB7ICJpdGVtcyI6IFt7ICJ0ZXh0IjogIm9uZSIsICJ2YWx1ZSI6ICIxIiB9XSB9IH1gIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZXhwb3J0TWVudXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiAiY3VzdG9tIGRyb3Bkb3ducyBKU09OIgogICAgICAgICAgfSwKICAgICAgICAgIHsgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwgdGV4dDogIk15IE1lbnVzIiB9LAogICAgICAgICAgeyBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlhNTCwgeG1sOiBtZW51c1hNTCB9CiAgICAgICAgXSwKICAgICAgICBtZW51czogY3VzdG9tTWVudXMsCiAgICAgIH07CiAgICB9CgogICAgbWFrZU1lbnUoKSB7IGluaXRNZW51TWFrZXIoKSB9CgogICAgcmVtb3ZlRXh0KCkgewogICAgICBleHRSZXZtb3ZhYmxlID0gdHJ1ZTsKICAgICAgY29uc3QgZGVsZXRlQmxvY2sgPSAodGFyZ2V0LCBibG9ja0lkKSA9PiB7CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdm0uZWRpdGluZ1RhcmdldCAmJiBTY3JhdGNoLmd1aSkgU2NyYXRjaC5ndWkuZ2V0QmxvY2tseSgpLnRoZW4oU0IgPT4gU0IuZ2V0TWFpbldvcmtzcGFjZSgpLmdldEJsb2NrQnlJZChibG9ja0lkKT8uZGlzcG9zZSh0cnVlLCBmYWxzZSkpOwogICAgICAgIGVsc2UgdGFyZ2V0LmJsb2Nrcy5kZWxldGVCbG9jayhibG9ja0lkKTsKICAgICAgfTsKICAgICAgY3VzdG9tTWVudXMgPSB7fTsKICAgICAgbWVudXNYTUwgPSBgPGxhYmVsIHRleHQ9IlRyeSBjcmVhdGluZyBzb21lIG1lbnVzISIgLz5gOwogICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBydW50aW1lLnRhcmdldHMpIHsKICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIE9iamVjdC52YWx1ZXModGFyZ2V0LmJsb2Nrcy5fYmxvY2tzKSkgewogICAgICAgICAgaWYgKGJsb2NrLm9wY29kZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyXyIpKSBkZWxldGVCbG9jayh0YXJnZXQsIGJsb2NrLmlkKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdm0uZXh0ZW5zaW9uTWFuYWdlci5yZWZyZXNoQmxvY2tzKCJTUDB6TWVudU1ha2VyIik7CiAgICAgIGFsZXJ0KCJTYXZlIGFuZCByZWxvYWQgdGhlIHByb2plY3QgZm9yIHRoZSBleHRlbnNpb24gdG8gZnVsbHkgYmUgcmVtb3ZlZC4iKTsKICAgIH0KCiAgICBpbXBvcnRNZW51cyhhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWVudXMgPSBKU09OLnBhcnNlKGFyZ3MuTUVOVVMpOwogICAgICAgIGlmICh0eXBlb2YgbWVudXMgIT09ICJvYmplY3QiIHx8IG1lbnVzID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkobWVudXMpKSByZXR1cm4gYWxlcnQoIkltcG9ydGVkIEpTT04gTXVzdCBiZSBhbiBPYmplY3QiKTsKICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZW51cykgewogICAgICAgICAgaWYgKGhhc093bihtZW51cywga2V5KSkgewogICAgICAgICAgICBjb25zdCBpbm5lck9iamVjdCA9IG1lbnVzW2tleV07CiAgICAgICAgICAgIGlmICghaGFzT3duKGlubmVyT2JqZWN0LCAiaXRlbXMiKSkgcmV0dXJuIGFsZXJ0KGAke2tleX0gTWVudSBOZWVkcyBhbiAiaXRlbXMiIEtleWApOwogICAgICAgICAgICBmb3IgKGNvbnN0IGlubmVyS2V5IGluIGlubmVyT2JqZWN0KSB7CiAgICAgICAgICAgICAgaWYgKGhhc093bihpbm5lck9iamVjdCwgaW5uZXJLZXkpICYmIGlubmVyS2V5ICE9PSAiaXRlbXMiKSBkZWxldGUgaW5uZXJPYmplY3RbaW5uZXJLZXldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1lbnVzW2tleV0uYWNjZXB0UmVwb3J0ZXJzID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gaW5uZXJPYmplY3QuaXRlbXM7CiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHJldHVybiBhbGVydChgIml0ZW1zIiBrZXkgaW4gJHtrZXl9IE1lbnUgTXVzdCBiZSBhbiBBcnJheWApOwogICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gYWxlcnQoYCJpdGVtcyIga2V5IGluICR7a2V5fSBNZW51IE11c3QgaGF2ZSBhdCBMZWFzdCAxIEl0ZW1gKTsKICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtICE9PSAib2JqZWN0IiB8fCBpdGVtID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoaXRlbSkpIHJldHVybiBhbGVydChgaXRlbXMgaW4gIml0ZW1zIiBrZXkgaW4gJHtrZXl9IE1lbnUgTXVzdCBiZSBPYmplY3RzYCk7CiAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGl0ZW0pOwogICAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gMiB8fCAha2V5cy5pbmNsdWRlcygidGV4dCIpIHx8ICFrZXlzLmluY2x1ZGVzKCJ2YWx1ZSIpKSByZXR1cm4gYWxlcnQoYGl0ZW1zIGluICJpdGVtcyIga2V5IGluICR7a2V5fSBNZW51IE11c3QgaGF2ZSAyIGtleXMsICJ0ZXh0IiBhbmQgInZhbHVlImApOwogICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS50ZXh0ICE9PSAic3RyaW5nIiB8fCB0eXBlb2YgaXRlbS52YWx1ZSAhPT0gInN0cmluZyIpIHJldHVybiBhbGVydChgIml0ZW0iIHZhbHVlcyBpbiAke2tleX0gTWVudSBNdXN0IGJlIFN0cmluZ3NgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjdXN0b21NZW51cyA9IG1lbnVzOwogICAgICAgIHJlZnJlc2hNYWdpYygpOwoKICAgICAgICAvLyBSZW1vdmUgTWVudSBCbG9ja3MgdGhhdCBubyBMb25nZXIgRXhpc3QKICAgICAgICBjb25zdCBtZW51TmFtZXMgPSBPYmplY3Qua2V5cyhjdXN0b21NZW51cyk7CiAgICAgICAgaWYgKFNjcmF0Y2guZ3VpKSBTY3JhdGNoLmd1aS5nZXRCbG9ja2x5KCkudGhlbihTQiA9PiB7CiAgICAgICAgICBjb25zdCBhbGxCbG9ja3MgPSBTQi5tYWluV29ya3NwYWNlLmJsb2NrREJfOwogICAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiBPYmplY3QudmFsdWVzKGFsbEJsb2NrcykpIHsKICAgICAgICAgICAgaWYgKGJsb2NrLnR5cGUuc3RhcnRzV2l0aCgiU1Awek1lbnVNYWtlcl9tZW51XyIpKSB7CiAgICAgICAgICAgICAgaWYgKG1lbnVOYW1lcy5pbmRleE9mKGJsb2NrLnR5cGUucmVwbGFjZSgiU1Awek1lbnVNYWtlcl9tZW51XyIsICIiKSkgPT09IC0xKSBibG9jay5kaXNwb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAodHlwZW9mIHNjYWZmb2xkaW5nID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgcnVudGltZS50YXJnZXRzKSB7CiAgICAgICAgICAgIGNvbnN0IGJsb2NrQ2FjaGUgPSB0YXJnZXQuYmxvY2tzOwogICAgICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIE9iamVjdC52YWx1ZXMoYmxvY2tDYWNoZS5fYmxvY2tzKSkgewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGJsb2NrLm9wY29kZS5zdGFydHNXaXRoKCJTUDB6TWVudU1ha2VyX21lbnVfIikgJiYgCiAgICAgICAgICAgICAgICBtZW51TmFtZXMuaW5kZXhPZihibG9jay5vcGNvZGUucmVwbGFjZSgiU1Awek1lbnVNYWtlcl9tZW51XyIsICIiKSkgPT09IC0xCiAgICAgICAgICAgICAgKSBibG9ja0NhY2hlLmRlbGV0ZUJsb2NrKGJsb2NrLmlkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCB7IGFsZXJ0KCJDb3VsZG50IFBhcnNlIEltcG9ydGVkIEN1c3RvbSBNZW51IEpTT04iKSB9CiAgICB9CgogICAgZXhwb3J0TWVudXMoKSB7IHJldHVybiBKU09OLnN0cmluZ2lmeShjdXN0b21NZW51cykgfQoKICAgIC8vIFBlbmd1aW5Nb2QgKyBJbnRlcm1lZGlhcnlUVyBTdG9yYWdlCiAgICBzZXJpYWxpemUoKSB7IHJldHVybiB7IFNQMHpNZW51TWFrZXIgOiB7IG1lbnVzIDogY3VzdG9tTWVudXMgfSB9IH0KICAgIGRlc2VyaWFsaXplKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuU1Awek1lbnVNYWtlciAhPT0gdW5kZWZpbmVkKSBjdXN0b21NZW51cyA9IGRhdGEuU1Awek1lbnVNYWtlci5tZW51czsKICAgICAgZWxzZSBzdGFydExpc3RlbmVyV29ya2VyKCk7CiAgICAgIHRoaXMubmVlZHNSZWZyZXNoID0gdHJ1ZTsKICAgIH0KICB9CiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKChleHRlbnNpb25JbnN0YW5jZSA9IG5ldyBTUDB6TWVudU1ha2VyKCkpKTsKICBpZiAoaXNQTSAmJiB0eXBlb2Ygc2NhZmZvbGRpbmcgPT09ICJ1bmRlZmluZWQiKSB7CiAgICByZWZyZXNoTWFnaWMoKTsKICAgIHN0YXJ0TGlzdGVuZXJXb3JrZXIoKTsKICB9CiAgcnVudGltZS5leHRfU1Awek1lbnVNYWtlciA9IGV4dGVuc2lvbkluc3RhbmNlOwp9KShTY3JhdGNoKTsK","skyhigh173JSON":"https://extensions.turbowarp.org/Skyhigh173/json.js","strings":"https://extensions.turbowarp.org/text.js","dtbyxeroname":"https://extensions.turbowarp.org/XeroName/Deltatime.js","shovelcss":"https://extensions.turbowarp.org/TheShovel/CustomStyles.js","navigatorinfo":"https://extensions.turbowarp.org/navigator.js","MistiumEval":"https://extensions.mistium.com/featured/EvalPlus.js","lmsTimers":"https://extensions.turbowarp.org/Lily/MoreTimers.js","mobilekeyboard0419":"https://extensions.turbowarp.org/veggiecan/mobilekeyboard.js","utilities":"https://extensions.turbowarp.org/utilities.js","lmsCast":"https://extensions.turbowarp.org/Lily/Cast.js","xmerclosecontrol":"https://extensions.turbowarp.org/XmerOriginals/closecontrol.js","runtimeoptions":"https://extensions.turbowarp.org/runtime-options.js","truefantommath":"https://extensions.turbowarp.org/true-fantom/math.js","MistKeyHistoryExtension":"https://extensions.mistium.com/featured/KeyHistory.js","filesExpanded":"data:text/javascript;base64,Ly8gTmFtZTogRmlsZXMgRXhwYW5kZWQKLy8gSUQ6IGZpbGVzRXhwYW5kZWQKLy8gRGVzY3JpcHRpb246IFJlYWQsIHVwbG9hZCwgYW5kIGRvd25sb2FkIGZpbGVzLgovLyBCeTogR2FyYm9NdWZmaW4KLy8gQnk6IFNoYXJrUG9vbAovLyBCeTogRHJhZ28gQ3V2ZW4gPGh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzL01BUlRJTkVMUExBWVovPgovLyBCeTogMHpuencgPGh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzLzB6bnp3Lz4KLy8gTGljZW5zZTogTUlUIEFORCBNUEwtMi4wCgovLyBWZXJzaW9uOiAxLjcuMTEKCihmdW5jdGlvbiAoU2NyYXRjaCkgewogICJ1c2Ugc3RyaWN0IjsKICBpZiAoIVNjcmF0Y2guZXh0ZW5zaW9ucy51bnNhbmRib3hlZCkgdGhyb3cgbmV3IEVycm9yKCJGaWxlcyBFeHBhbmRlZCBleHRlbnNpb24gbXVzdCBiZSBydW4gdW5zYW5kYm94ZWQiKTsKCiAgY29uc3QgbWVudUljb25VUkkgPQoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TXpNdU1UWTBJaUJvWldsbmFIUTlJakV6TXk0eE5qUWlJSFpwWlhkQ2IzZzlJakFnTUNBeE16TXVNVFkwSURFek15NHhOalFpUGp4bklITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0krUEhCaGRHZ2daRDBpVFRNZ05qWXVOVGd5UXpNZ016RXVORFkzSURNeExqUTJOeUF6SURZMkxqVTRNaUF6Y3pZekxqVTRNaUF5T0M0ME5qY2dOak11TlRneUlEWXpMalU0TWkweU9DNDBOamNnTmpNdU5UZ3lMVFl6TGpVNE1pQTJNeTQxT0RKVE15QXhNREV1TmprM0lETWdOall1TlRneWVpSWdabWxzYkQwaUkyWmpZakV3TXlJZ2MzUnliMnRsUFNJalltWTRZakV4SWlCemRISnZhMlV0ZDJsa2RHZzlJallpTHo0OGNHRjBhQ0JrUFNKTk9Ua3VPRGt5SURRNUxqa3lOM1kwT1M0NU5qUmpNQ0EwTGpVNExUTXVOelE0SURndU16STRMVGd1TXpJNElEZ3VNekk0U0RReExqVTFPR010TkM0MU9DQXdMVGd1TWpnMUxUTXVOelE0TFRndU1qZzFMVGd1TXpJNGJDNHdOREV0TmpZdU5qRTRZekF0TkM0MU9DQXpMamN3TmkwNExqTXlPQ0E0TGpJNE5pMDRMak15T0dnek15NHpNWG9pSUdacGJHdzlJbTV2Ym1VaUlITjBjbTlyWlMxdmNHRmphWFI1UFNJdU1UUTVJaUJ6ZEhKdmEyVTlJaU13TURBaUlITjBjbTlyWlMxM2FXUjBhRDBpTVRBaUx6NDhjR0YwYUNCa1BTSk5PVGt1T0RreUlEUTVMamt5TjNZME9TNDVOalJqTUNBMExqVTRMVE11TnpRNElEZ3VNekk0TFRndU16STRJRGd1TXpJNFNEUXhMalUxT0dNdE5DNDFPQ0F3TFRndU1qZzFMVE11TnpRNExUZ3VNamcxTFRndU16STRiQzR3TkRFdE5qWXVOakU0WXpBdE5DNDFPQ0F6TGpjd05pMDRMak15T0NBNExqSTROaTA0TGpNeU9HZ3pNeTR6TVhvaUlHWnBiR3c5SWlObVptWWlMejQ4Y0dGMGFDQmtQU0pOTnpBdU56SXlJRFUwTGpFeE5WWXpNUzR4Tmpkc01qSXVPVFEzSURJeUxqazBPSG9pSUdacGJHdzlJaU5tWTJJeE1ETWlMejQ4Y0dGMGFDQmtQU0pOT0RRdU5qWTRJRFk1TGpreE5HTXRMakF5TGpBNE9DMHVNRE0yTGpFM05TMHVNRFl5TGpJMk1pMHVNRGMzTGpNeU5DMHVNak0ySURFdU1Ea3RMak01TmlBeUxqVTROM0V1TURBeExqQXpPQzB1TURBMUxqQTJNV011T0RnZ015NDFNemd0TGpZd01pQTFMalk1TWkweExqVTROQ0EyTGpZM05HRXlJRElnTUNBd0lERXRMakl1TVRsakxTNDVOakl1T0RjMUxUSXVOalF6SURFdU9URTRMVFV1TVRVeUlERXVPVEU0WVRjdU5qVWdOeTQyTlNBd0lEQWdNUzB6TGpRek5TMHVOemcyWXk0d01qWWdNUzQwTURNdU1EUXhJRE11TXpNM0xqQTBNU0EyTGpBeVlUWXVPU0EyTGprZ01DQXdJREVnTWk0ME9UUWdNUzQxTXpnZ055NHhJRGN1TVNBd0lEQWdNU0F5TGpJeElEVXVNVFkzWXpBZ01pNDVNUzB4TGpZM05TQTFMalEwTFRRdU16YzFJRFl1TlRrM2NTMHVNVEF6TGpBME9DMHVNakExTGpBNE9HTXRMamt3TlM0ek5EUXRNUzQ1TWpNdU5URTBMVE11TVRFMkxqVXhOQzB1TkRNeUlEQXRMamc1TlMwdU1ESXRNUzR6T1RrdExqQTJOMkV4T0NBeE9DQXdJREFnTUMweExqSTVOUzR3TURWakxTNDVOekl1TVRBNExUSXVNelF1TWpFMkxUUXVNVGN1TXpFNUxTNHdNellnTUMwdU1EY3lMakF3TlMwdU1URTBMakF3TlhFdExqTTJMakF4TlMwdU5qazVMakF4TldNdE15NHlOelVnTUMwMUxqWTJOaTB4TGpBek9DMDNMakV4TFRNdU1EaHhMUzR3TkRZdExqQTJMUzR3T0RNdExqRXlNMk10TVM0ME55MHlMakU1TlMweExqVXhNaTAwTGprM01pMHVNVEV6TFRjdU1qUnhMakF4TnkwdU1ETTFMakEwTVMwdU1EY3hZeTQ0T1MweExqTTVPU0F5TGpFNUxUSXVNemsySURNdU9EYzNMVEl1T1RnekxqQXlMUzQ1T1RJdU1ERTFMVEl1TWpNMkxTNHdNVFl0TXk0M01USmhOeTQxSURjdU5TQXdJREFnTVMweUxqZzVMalUxTldNdE1pNDROak1nTUMwMUxqSXlPQzB4TGpjd01TMDJMakExTVMwMExqSTRPQzB1TVRjdExqVXlOQzB1TXpNdE1TNHlPUzB1TnkwekxqQXhPR0V5SURJZ01DQXdJREV0TGpBek5TMHVNVGcxYkMwdU56WXhMVFF1TWpVeVlUY2dOeUF3SURBZ01DMHVNVEF6TFM0ek1qUmpMUzR6T1RZdE1TNHhNall0TGpVNE1TMHlMakE0TXkwdU5UZ3hMVE11TURBNElEQXRNUzR4TkRjdU16TTBMVEl1T0RnZ01TNDVNVGd0TkM0Mk1EY3VOemszTFM0NE56UWdNaTR5TkRjdE1pNHdNRFVnTkM0MU9ERXRNaTR6TjNFdU5ETXpMUzR3TnpFdU9EYzBMUzR3TnpKb05TNDJPRGR4TGpFNU1pQXdJQzR6T0RVdU1ERTFZVGN5SURjeUlEQWdNQ0F3SURVdU56Z3RMakF3TlNBNE15QTRNeUF3SURBZ01DQTJMamt6TFM0MU9UWmpMakkxT0MwdU1EZ3pMalV6TmkwdU1UWTFMamd6TkMwdU1qTTNMakk0TXkwdU1EY3lMalUzTFM0eE1UZ3VPRFU0TFM0eE5TQXlMakU1TFM0eUlEUXVNak15TGpRek15QTFMamd5SURFdU56a2dNUzQ1TnlBeExqWTVNaUF5TGpnMElEUXVNalV5SURJdU16SWdOaTQ0TlRRaUlHWnBiR3c5SWlOaVpqaGlNVEVpTHo0OGNHRjBhQ0JrUFNKTk56a3VNVEl4SURZNExqZ3dObkV0TGpNeE5pQXhMakkyTmkwdU5UUXpJRE11TkRNM0xTNHdPU0F4TGpBNE5pNHdPU0F4TGpjMk5DNHpNVFlnTVM0eE16RXRMakEwTkNBeExqUTVNeTB1TkRrNUxqUTFNUzB4TGpNMU55NDBOVEl0TGprNU5pQXdMVEV1TXpFeUxTNDFPVEpCTkRFZ05ERWdNQ0F3SURFZ056WWdOekV1T1RRemNTNHdPUzB4TGprMkxqQTVMVEl1TURVdExqQTBOU0F3TFM0eE16VXRMakE1TWkwMExqSXdOeTR4T0RNdE55NDVNVFV1TlRRMUxTNHdPUzQwTlRNZ01DQXhMalExTGpFNElERXVOREEwTGpFNElERXVOak10TGpFNElERXVOREEyTFM0eE9DQTBMakUzTGpFNElERXVNVGM1TGpFNElERXdMakV3Tm5ZekxqTXdPWEV3SUM0M055NHlNalVnTVM0d09EZG9NaTQzTnpkeExqYzJNaTB1TURrZ01TNHlNekl1TXpZeUxqUTNMalExTXk0ME55QXhMakE0TlNBd0lDNDVPVFF0TGprMUlERXVOREF6TFM0MU9EZ3VNakkxTFRJdU1EZ3VNRGt0TGpjeU15MHVNRFExTFRJdU1USTJJREF0TVM0eU5qVXVNVFUzTFRRdU1EY3VNekUyTFRJdU5EUXpMakE1TFRJdU9UZzFMUzQyTnpndExqTTJNeTB1TlRReUlEQXRNUzR4TXk0Mk16SXRMams1TlNBekxqTXdNaTB1T1RrMUxqazBPQ0F3SURFdU1UYzFMUzR4TlRndU1qSTJMUzR4Tmk0eU1qWXRMall4VmpnNUxqQXpjUzR4TXpVdE1pNHpNRElnTUMwMkxqZzJNUzB1TVRndE5pNDFORFF1TVRneExURXhMalV3T1d3dExqRXpOeTB1TVRNMmNTMHhMall6Tnk0d09TMDFMakkzTlMwdU1Ea3RMalF4SURBdE1pNDNOelF1TVRneExqVTROeUEwTGpFeE55NDNNak1nTmk0eE9UWWdNQ0F1TWpjeUxTNHdPU0F4TGpJeU1TMHVNRFEyTGpZM09DMHhMakV6TVM0Mk56a3RMalU0T1NBd0xTNDJOemd0TGpRd05DMHVNRFEyTFM0d09TMHVOVFF6TFRJdU5ESXliQzB1TnpZNUxUUXVNekEyY1RBdExqRTNPUzB1TXpFMkxURXVNVEl4TFM0eU55MHVOelkwTFM0eU55MHhMakUyTmkwdU1EQXhMUzR6TVRVdU5ETXRMamM0TlM0ME15MHVORGN4SURFdU1qZzVMUzQyTURab05TNDJNRGh4TXk0Mk5qTXVNVE0xSURZdU5URXlJREJoT0RnZ09EZ2dNQ0F3SURBZ09DNHdOUzB1TnpJMGNTNHlOek10TGpFek5TNDRNVFF0TGpJM0xqazVOUzB1TURrZ01TNDJNamt1TkRVeUxqWXpNeTQxTkM0ME5USWdNUzQwTkRjaUlHWnBiR3c5SWlObVptWWlMejQ4TDJjK1BDOXpkbWMrIjsKCiAgY29uc3Qgdm0gPSBTY3JhdGNoLnZtOwogIGNvbnN0IHJ1bnRpbWUgPSB2bS5ydW50aW1lOwogIGNvbnN0IGlzUE0gPSBTY3JhdGNoLmV4dGVuc2lvbnMuaXNQZW5ndWluTW9kOwoKICBjb25zdCBidWlsdEluRm9udHMgPSBbCiAgICAiU2FucyBTZXJpZiIsICJTZXJpZiIsICJIYW5kd3JpdGluZyIsICJNYXJrZXIiLAogICAgIkN1cmx5IiwgIlBpeGVsIiwgIlNjcmF0Y2giLCAiaW5oZXJpdCIKICBdOwogIGNvbnN0IE1PREVfTU9EQUwgPSAibW9kYWwiOwogIGNvbnN0IE1PREVfSU1NRURJQVRFTFlfU0hPV19TRUxFQ1RPUiA9ICJzZWxlY3RvciI7CiAgY29uc3QgTU9ERV9PTkxZX1NFTEVDVE9SID0gIm9ubHktc2VsZWN0b3IiOwogIGNvbnN0IEFMTF9NT0RFUyA9IFsKICAgIE1PREVfTU9EQUwsCiAgICBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1IsCiAgICBNT0RFX09OTFlfU0VMRUNUT1IsCiAgXTsKICBjb25zdCBBU19URVhUID0gInRleHQiLCBBU19EQVRBX1VSTCA9ICJ1cmwiLCBBU19IRVggPSAiaGV4IjsKICBjb25zdCBBU19CQVNFNjQgPSAiYmFzZTY0IiwgQVNfQlVGRkVSID0gImFycmF5QnVmZmVyIjsKCiAgbGV0IGVuYWJsZVZpcyA9IHRydWU7CiAgbGV0IG9wZW5GaWxlU2VsZWN0b3JNb2RlID0gTU9ERV9NT0RBTDsKICBsZXQgc3RvcmVkRmlsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogIGxldCBGaWxlTmFtZSA9ICIiLCBGaWxlU2l6ZSA9ICIwa2IiLCBSYXdGaWxlU2l6ZSA9ICIwIiwgZmlsZURhdGUgPSAiIiwgbGFzdERhdGEgPSAiIjsKICBsZXQgb3Blbk1vZGFscyA9IDA7CiAgbGV0IHNlbGVjdG9yT3B0aW9ucyA9IHsKICAgIGJvcmRlckNvbG9yOiAiIzg4OCIsIHRleHRDb2xvcjogIiMwMDAiLCBvdXRlcjogIiNmZmYiLAogICAgc2l6ZUZvbnQ6IDEuNSwgYm9yZGVyUmFkaXVzOiAxNiwgYm9yZGVyVHlwZTogImRhc2hlZCIsCiAgICBmb250OiAiaW5oZXJpdCIsIHNoYWRvdzogMC41LCBpbWFnZTogIiIsIHRleHRWOiAiIiwKICAgIGZvbnRXZWlnaHQ6IDQwLCBsZXR0ZXJTcGFjaW5nOiAibm9ybWFsIiwKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGlucHV0CiAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICovCiAgY29uc3QgaXNDYW5jZWxFdmVudFN1cHBvcnRlZCA9IChpbnB1dCkgPT4gewogICAgaWYgKCJvbmNhbmNlbCIgaW4gaW5wdXQpIHsKICAgICAgLy8gQ2hyb21lIDExMyssIFNhZmFyaSAxNi40KwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8vIEZpcmVmb3ggaXMgd2VpcmQuIGNhbmNlbCBpcyBzdXBwb3J0ZWQgc2luY2UgRmlyZWZveCA5MSwgYnV0IG9uY2FuY2VsIGRvZXNuJ3QgZXhpc3QuCiAgICAvLyBGaXJlZm94IDkxIGlzIGZyb20gQXVndXN0IDIwMjEuIFRoYXQncyBvbGQgZW5vdWdoIHRvIG5vdCBjYXJlIGFib3V0IHByZXZpb3VzIHZlcnNpb25zLgogICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIkZpcmVmb3giKTsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXB0IFNlZSBNT0RFXyBjb25zdGFudHMgYWJvdmUKICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgU2VlIEFTXyBjb25zdGFudHMgYWJvdmUKICAgKiBAcGFyYW0ge29iamVjdH0gb3ZlcnJpZGUgbWFrZXMgbW9kYWwgdXNlIHRoZSBGaWxlIEFQSSBpZiBleGlzdHMKICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBmb3JtYXQgZ2l2ZW4gYnkgYXMgcGFyYW1ldGVyCiAgICovCiAgY29uc3Qgc2hvd0ZpbGVQcm9tcHQgPSAoYWNjZXB0LCBhcywgb3ZlcnJpZGUpID0+CiAgICBuZXcgUHJvbWlzZSgoX3Jlc29sdmUpID0+IHsKICAgICAgLy8gV2UgY2FuJ3QgcmVsaWFibHkgc2hvdyBhbiA8aW5wdXQ+IHBpY2tlciB3aXRob3V0ICJ1c2VyIGludGVyYWN0aW9uIiBpbiBhbGwgZW52aXJvbm1lbnRzLAogICAgICAvLyBzbyB3ZSBoYXZlIHRvIHNob3cgb3VyIG93biBVSSBhbnl3YXlzLiBXZSBtYXkgYXMgd2VsbCB1c2UgdGhpcyB0byBpbXBsZW1lbnQgc29tZSBuaWNlIGZlYXR1cmVzCiAgICAgIC8vIHRoYXQgbmF0aXZlIGZpbGUgcGlja2VycyBkb24ndCBoYXZlOgogICAgICAvLyAgLSBFYXN5IGRyYWcrZHJvcAogICAgICAvLyAgLSBSZWxpYWJsZSBjYW5jZWwgYnV0dG9uIChpbnB1dCBjYW5jZWwgZXZlbnQgaXMgc3RpbGwgbm90IHBlcmZlY3QpCiAgICAgIC8vICAgIFRoaXMgaXMgaW1wb3J0YW50IHNvIHdlIGNhbiBtYWtlIHRoaXMganVzdCBhIHJlcG9ydGVyIGluc3RlYWQgb2YgYSBjb21tYW5kK2hhdCBibG9jay4KICAgICAgLy8gICAgV2l0aG91dCBhbiBpbnRlcmZhY2UsIHRoZSBzY3JpcHQgd291bGQgYmUgc3RhbGxlZCBpZiB0aGUgcHJvbXB0IHdhcyBjYW5jZWxsZWQuCgogICAgICAvKiogQHBhcmFtIHtzdHJpbmd9IHRleHQgKi8KICAgICAgY29uc3QgY2FsbGJhY2sgPSAodGV4dCkgPT4gewogICAgICAgIGxldCBjbGVhbnNlZFR4dCA9IHRleHQ7CiAgICAgICAgaWYgKG92ZXJyaWRlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChbQVNfSEVYLCBBU19CQVNFNjRdLmluY2x1ZGVzKGFzKSkgewogICAgICAgICAgICBsZXQgdXJpID0gY2xlYW5zZWRUeHQuc3BsaXQoIiwiKTsKICAgICAgICAgICAgY2xlYW5zZWRUeHQgPSB1cmkuc3BsaWNlKDEsIHVyaS5sZW5ndGgpLmpvaW4oIiwiKTsKICAgICAgICAgICAgaWYgKGFzID09PSBBU19IRVgpIGNsZWFuc2VkVHh0ID0gYmFzZTY0VG9IZXgoY2xlYW5zZWRUeHQsICIgIik7CiAgICAgICAgICB9CiAgICAgICAgICBsYXN0RGF0YSA9IGNsZWFuc2VkVHh0OwogICAgICAgIH0KICAgICAgICBvcGVuTW9kYWxzLS07CiAgICAgICAgX3Jlc29sdmUoY2xlYW5zZWRUeHQpOwogICAgICAgIHZtLnJlbmRlcmVyLnJlbW92ZU92ZXJsYXkob3V0ZXIpOwogICAgICAgIHJ1bnRpbWUub2ZmKCJQUk9KRUNUX1NUT1BfQUxMIiwgaGFuZGxlUHJvamVjdFN0b3BwZWQpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUtleURvd24sIHsKICAgICAgICAgIGNhcHR1cmU6IHRydWUsCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBvcGVuTW9kYWxzKys7CiAgICAgIGxldCBpc1JlYWRpbmdGaWxlID0gZmFsc2U7CgogICAgICAvKiogQHBhcmFtIHtGaWxlfSBmaWxlICovCiAgICAgIGNvbnN0IHJlYWRGaWxlID0gKGZpbGUpID0+IHsKICAgICAgICBpZiAoaXNSZWFkaW5nRmlsZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpc1JlYWRpbmdGaWxlID0gdHJ1ZTsKCiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgICAgRmlsZU5hbWUgPSBmaWxlLm5hbWU7CiAgICAgICAgICBGaWxlU2l6ZSA9IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSk7CiAgICAgICAgICBSYXdGaWxlU2l6ZSA9IGZpbGUuc2l6ZTsKICAgICAgICAgIGNvbnN0IHJhd0RhdGUgPSBuZXcgRGF0ZShmaWxlLmxhc3RNb2RpZmllZCk7CiAgICAgICAgICBmaWxlRGF0ZSA9IHJhd0RhdGUudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgIGNhbGxiYWNrKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocmVhZGVyLnJlc3VsdCkpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVhZCBmaWxlIGFzIHRleHQiLCByZWFkZXIuZXJyb3IpOwogICAgICAgICAgY2FsbGJhY2soIiIpOwogICAgICAgIH07CiAgICAgICAgaWYgKG92ZXJyaWRlICE9PSB1bmRlZmluZWQpIGNhbGxiYWNrKGZpbGUpOwogICAgICAgIGVsc2UgaWYgKGFzID09PSBBU19URVhUKSByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgICBlbHNlIGlmIChhcyA9PT0gQVNfQlVGRkVSKSByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgICAgICAgZWxzZSByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgfTsKCiAgICAgIC8qKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgKi8KICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7CiAgICAgICAgaWYgKGUua2V5ID09PSAiRXNjYXBlIikgewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUtleURvd24sIHsKICAgICAgICBjYXB0dXJlOiB0cnVlLAogICAgICB9KTsKCiAgICAgIGNvbnN0IGhhbmRsZVByb2plY3RTdG9wcGVkID0gKCkgPT4gewogICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgfTsKICAgICAgcnVudGltZS5vbigiUFJPSkVDVF9TVE9QX0FMTCIsIGhhbmRsZVByb2plY3RTdG9wcGVkKTsKCiAgICAgIGNvbnN0IGhhbmRsZU92ZXJyaWRlID0gYXN5bmMgKCkgPT4gewogICAgICAgIGxldCBmaWxlSW5mbzsKICAgICAgICBpZiAob3ZlcnJpZGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy8gZXhlY3V0ZSBub3JtYWwgYmVoYXZpb3VyCiAgICAgICAgICBpbnB1dC5jbGljaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAob3ZlcnJpZGUudHlwZSA9PT0gImZvbGRlciIpIHsKICAgICAgICAgICAgICBmaWxlSW5mbyA9IGF3YWl0IHdpbmRvdy5zaG93RGlyZWN0b3J5UGlja2VyKHsKICAgICAgICAgICAgICAgIG11bHRpcGxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGVzOiBbeyBhY2NlcHQ6IHsgIiovKiI6IFtdIH0gfV0sCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmlsZUluZm8gPSBhd2FpdCB3aW5kb3cuc2hvd09wZW5GaWxlUGlja2VyKHsKICAgICAgICAgICAgICAgIG11bHRpcGxlOiBvdmVycmlkZS5hbGxvd011bHRpLAogICAgICAgICAgICAgICAgdHlwZXM6IFt7IGFjY2VwdDogeyAiKi8qIjogYWNjZXB0IH0gfV0sCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FsbGJhY2soZmlsZUluZm8pOwogICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBjb25zdCBJTklUSUFMX0JPUkRFUl9DT0xPUiA9IHNlbGVjdG9yT3B0aW9ucy5ib3JkZXJDb2xvcjsKICAgICAgY29uc3QgRFJPUFBJTkdfQk9SREVSX0NPTE9SID0gIiMwM2E5ZmMiOwoKICAgICAgY29uc3Qgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb3V0ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJhdXRvIjsKICAgICAgb3V0ZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIG91dGVyLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgb3V0ZXIuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgb3V0ZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICBvdXRlci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwogICAgICBvdXRlci5zdHlsZS5jb2xvclNjaGVtZSA9ICJsaWdodCI7CiAgICAgIGlmIChvdmVycmlkZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gdGhlIEZpbGUgQVBJIGNhbnQgZXhhY3RseSBzdXBwb3J0IGRyYWdnaW5nIGZpbGVzCiAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ292ZXIiLCAoZSkgPT4gewogICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKCJGaWxlcyIpKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICJjb3B5IjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBEUk9QUElOR19CT1JERVJfQ09MT1I7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIiwgKCkgPT4gewogICAgICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBJTklUSUFMX0JPUkRFUl9DT0xPUjsKICAgICAgICB9KTsKICAgICAgICBvdXRlci5hZGRFdmVudExpc3RlbmVyKCJkcm9wIiwgKGUpID0+IHsKICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1swXTsKICAgICAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgcmVhZEZpbGUoZmlsZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewogICAgICAgIGlmIChlLnRhcmdldCA9PT0gb3V0ZXIpIHsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgbW9kYWwuaWQgPSAidHctZmlsZXMtbW9kYWwiOwogICAgICBtb2RhbC5zdHlsZS5ib3hTaGFkb3cgPSAiMCAwIDEwcHggLTVweCBjdXJyZW50Q29sb3IiOwogICAgICBtb2RhbC5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICAgIG1vZGFsLnN0eWxlLmJhY2tncm91bmRTaXplID0gImNvdmVyIjsKICAgICAgbW9kYWwuc3R5bGUucGFkZGluZyA9ICIxNnB4IjsKICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyID0gYDhweCBkYXNoZWQgJHtJTklUSUFMX0JPUkRFUl9DT0xPUn1gOwogICAgICBtb2RhbC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICAgIG1vZGFsLnN0eWxlLnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jICgpID0+IHsKICAgICAgICAvLyB3aWxsIGV4ZWN1dGUgImlucHV0LmNsaWNrKCkiIGlmIG92ZXJyaWRlIGlzICJ1bmRlZmluZWQiCiAgICAgICAgYXdhaXQgaGFuZGxlT3ZlcnJpZGUoKTsKICAgICAgfSk7CiAgICAgIG1vZGFsLmZvY3VzKCk7CiAgICAgIG91dGVyLmFwcGVuZENoaWxkKG1vZGFsKTsKCiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaW5wdXQudHlwZSA9ICJmaWxlIjsKICAgICAgaW5wdXQuYWNjZXB0ID0gYWNjZXB0OwogICAgICBpZiAob3ZlcnJpZGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKSA9PiB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICBpZiAoZmlsZSkgewogICAgICAgICAgICByZWFkRmlsZShmaWxlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGl0bGUudGV4dENvbnRlbnQgPQogICAgICAgIG92ZXJyaWRlID09PSB1bmRlZmluZWQKICAgICAgICAgID8gU2NyYXRjaC50cmFuc2xhdGUoIlNlbGVjdCBvciBkcm9wIGZpbGUiKQogICAgICAgICAgOiBTY3JhdGNoLnRyYW5zbGF0ZSgiU2VsZWN0IGZpbGUiKTsKICAgICAgdGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gIjhweCI7CiAgICAgIG1vZGFsLmFwcGVuZENoaWxkKHRpdGxlKTsKCiAgICAgIGNvbnN0IHN1YnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGNvbnN0IGZvcm1hdHRlZEFjY2VwdCA9IGFjY2VwdCB8fCBTY3JhdGNoLnRyYW5zbGF0ZSgiYW55Iik7CiAgICAgIHN1YnRpdGxlLnRleHRDb250ZW50ID0gU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgewogICAgICAgICAgZGVmYXVsdDogIkFjY2VwdGVkIGZvcm1hdHM6IHtmb3JtYXRzfSIsCiAgICAgICAgICBkZXNjcmlwdGlvbjogIltmb3JtYXRzXSBpcyByZXBsYWNlZCB3aXRoIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmlsZSB0eXBlcyBlZzogLnR4dCwgLm1wMywgLnBuZyBvciB0aGUgd29yZCBhbnkiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgZm9ybWF0czogZm9ybWF0dGVkQWNjZXB0LAogICAgICAgIH0KICAgICAgKTsKICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQoc3VidGl0bGUpOwoKICAgICAgLy8gVG8gYXZvaWQgdGhlIHNjcmlwdCBnZXR0aW5nIHN0YWxsZWQgZm9yZXZlciwgaWYgY2FuY2VsIGlzbid0IHN1cHBvcnRlZCwgd2UnbGwganVzdCBmb3JjaWJseQogICAgICAvLyBzaG93IG91ciBtb2RhbC4KICAgICAgaWYgKAogICAgICAgIG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IgJiYKICAgICAgICAhaXNDYW5jZWxFdmVudFN1cHBvcnRlZChpbnB1dCkKICAgICAgKSB7CiAgICAgICAgb3BlbkZpbGVTZWxlY3Rvck1vZGUgPSBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1I7CiAgICAgIH0KCiAgICAgIGlmIChvcGVuRmlsZVNlbGVjdG9yTW9kZSAhPT0gTU9ERV9PTkxZX1NFTEVDVE9SKSB7CiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHZtLnJlbmRlcmVyLmFkZE92ZXJsYXkob3V0ZXIsICJzY2FsZSIpOwogICAgICAgIG92ZXJsYXkuY29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICIxMDAiOwogICAgICB9CgogICAgICBpZiAoCiAgICAgICAgb3BlbkZpbGVTZWxlY3Rvck1vZGUgPT09IE1PREVfSU1NRURJQVRFTFlfU0hPV19TRUxFQ1RPUiB8fAogICAgICAgIG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IKICAgICAgKSB7CiAgICAgICAgLy8gd2lsbCBydW4gImlucHV0LmNsaWNrKCkiIGlmIG92ZXJyaWRlIGlzICJ1bmRlZmluZWQiCiAgICAgICAgaGFuZGxlT3ZlcnJpZGUoKTsKICAgICAgfQoKICAgICAgaWYgKG9wZW5GaWxlU2VsZWN0b3JNb2RlID09PSBNT0RFX09OTFlfU0VMRUNUT1IpIHsKICAgICAgICAvLyBOb3RlIHRoYXQgYnJvd3NlciBzdXBwb3J0IGZvciBjYW5jZWwgaXMgY3VycmVudGx5IHF1aXRlIGJhZAogICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNhbmNlbCIsICgpID0+IHsKICAgICAgICAgIGNhbGxiYWNrKCIiKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdXBkYXRlTW9kYWxWaXN1YWxzKCk7CiAgICB9KTsKCiAgY29uc3QgdXBkYXRlTW9kYWxWaXN1YWxzID0gKCkgPT4gewogICAgY29uc3QgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgYnV0dG9uW2lkPSJ0dy1maWxlcy1tb2RhbCJdYCk7CiAgICBhbGxNb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHsKICAgICAgbW9kYWwucGFyZW50Tm9kZS5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYmEoMCwgMCwgMCwgJHtzZWxlY3Rvck9wdGlvbnMuc2hhZG93fSlgOwogICAgICBtb2RhbC5wYXJlbnROb2RlLnN0eWxlLmNvbG9yID0gc2VsZWN0b3JPcHRpb25zLnRleHRDb2xvcjsKCiAgICAgIG1vZGFsLnN0eWxlLmZvbnQgPSBzZWxlY3Rvck9wdGlvbnMuZm9udDsKICAgICAgbW9kYWwuc3R5bGUuZm9udEZhbWlseSA9IHNlbGVjdG9yT3B0aW9ucy5mb250OwogICAgICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gc2VsZWN0b3JPcHRpb25zLmltYWdlCiAgICAgICAgPyBzZWxlY3Rvck9wdGlvbnMuaW1hZ2UKICAgICAgICA6IHNlbGVjdG9yT3B0aW9ucy5vdXRlcjsKICAgICAgbW9kYWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gYCR7c2VsZWN0b3JPcHRpb25zLmJvcmRlclJhZGl1c31weGA7CiAgICAgIG1vZGFsLnN0eWxlLmJvcmRlclN0eWxlID0gc2VsZWN0b3JPcHRpb25zLmJvcmRlclR5cGU7CiAgICAgIG1vZGFsLnN0eWxlLmJvcmRlckNvbG9yID0gc2VsZWN0b3JPcHRpb25zLmJvcmRlckNvbG9yOwoKICAgICAgY29uc3QgdGl0bGUgPSBtb2RhbC5jaGlsZHJlblswXTsKICAgICAgaWYgKHNlbGVjdG9yT3B0aW9ucy50ZXh0VikgdGl0bGUudGV4dENvbnRlbnQgPSBzZWxlY3Rvck9wdGlvbnMudGV4dFY7CiAgICAgIHRpdGxlLnN0eWxlLmNvbG9yID0gc2VsZWN0b3JPcHRpb25zLnRleHRDb2xvcjsKICAgICAgdGl0bGUuc3R5bGUuZm9udFNpemUgPSBgJHtzZWxlY3Rvck9wdGlvbnMuc2l6ZUZvbnR9ZW1gOwogICAgICB0aXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gc2VsZWN0b3JPcHRpb25zLmZvbnRXZWlnaHQgKiA5OwogICAgICB0aXRsZS5zdHlsZS5sZXR0ZXJTcGFjaW5nID0gYCR7c2VsZWN0b3JPcHRpb25zLmxldHRlclNwYWNpbmd9cHhgOwoKICAgICAgY29uc3Qgc3VidGl0bGUgPSBtb2RhbC5jaGlsZHJlblsxXTsKICAgICAgc3VidGl0bGUuc3R5bGUuY29sb3IgPSBzZWxlY3Rvck9wdGlvbnMudGV4dENvbG9yOwogICAgICBzdWJ0aXRsZS5zdHlsZS5mb250U2l6ZSA9IGAke3NlbGVjdG9yT3B0aW9ucy5zaXplRm9udCAtIDAuNX1lbWA7CiAgICAgIHN1YnRpdGxlLnN0eWxlLmZvbnRXZWlnaHQgPSBzZWxlY3Rvck9wdGlvbnMuZm9udFdlaWdodCAqIDk7CiAgICAgIHN1YnRpdGxlLnN0eWxlLmxldHRlclNwYWNpbmcgPSBgJHtzZWxlY3Rvck9wdGlvbnMubGV0dGVyU3BhY2luZ31weGA7CiAgICB9KTsKICB9OwoKICAvLyBiYWNrdXAgZG93bmxvYWQgc3lzdGVtIChQZW5ndWlubW9kIGRvZXMgbm90IGhhdmUgU2NyYXRjaC5kb3dubG9hZCkKICBjb25zdCBkb3dubG9hZEJhY2t1cFVSTCA9ICh1cmwsIGZpbGUpID0+IHsKICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICBsaW5rLmRvd25sb2FkID0gZmlsZTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICBsaW5rLmNsaWNrKCk7CiAgICBsaW5rLnJlbW92ZSgpOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7QmxvYn0gYmxvYiBEYXRhIHRvIGRvd25sb2FkCiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUgTmFtZSBvZiB0aGUgZmlsZQogICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAqLwogIGNvbnN0IGRvd25sb2FkQmxvYiA9IGFzeW5jIChibG9iLCBmaWxlKSA9PiB7CiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgdHJ5IHsKICAgICAgaWYgKGlzUE0pIHsKICAgICAgICBkb3dubG9hZEJhY2t1cFVSTCh1cmwsIGZpbGUpOwogICAgICAgIChyZXF1ZXN0SWRsZUNhbGxiYWNrID8/IHNldFRpbWVvdXQpKCgpID0+IFVSTC5yZXZva2VPYmplY3RVUkwodXJsKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgYXdhaXQgU2NyYXRjaC5kb3dubG9hZCh1cmwsIGZpbGUpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgfQogICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogIH07CgogIC8qKgogICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwKICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgKi8KICBjb25zdCBpc0RhdGFVUkwgPSAodXJsKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCBwYXJzZWQgPSBuZXcgVVJMKHVybCk7CiAgICAgIHJldHVybiBwYXJzZWQucHJvdG9jb2wgPT09ICJkYXRhOiI7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsCiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUKICAgKi8KICBjb25zdCBkb3dubG9hZFVudHJ1c3RlZFVSTCA9IGFzeW5jICh1cmwsIGZpbGUpID0+IHsKICAgIGlmIChpc0RhdGFVUkwodXJsKSkgewogICAgICBpZiAoaXNQTSkgewogICAgICAgIGRvd25sb2FkQmFja3VwVVJMKHVybCwgZmlsZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRPRE86IFNjcmF0Y2guZmV0Y2gncyBiZXR0ZXIgaGFuZGxpbmcgb2YgZGF0YTogbWVhbnMgdGhpcyBpcyBwcm9iYWJseSBub3QgbmVlZGVkIGFueW1vcmUKICAgICAgICAvLyBhbmQgaXQgdGhlIGJsb2I6IHByb2JhYmx5IHdvcmtzIGJldHRlciB3aXRoIGJpZyBmaWxlcwogICAgICAgIHJldHVybiBTY3JhdGNoLmRvd25sb2FkKHVybCwgZmlsZSk7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCByZXMgPSBhd2FpdCBTY3JhdGNoLmZldGNoKHVybCk7CiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTsKICAgIGF3YWl0IGRvd25sb2FkQmxvYihibG9iLCBmaWxlKTsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZQogICAqIEByZXR1cm5zIHtzdHJpbmd9IGZvcm1hdHRlZCBieXRlIHNpemUKICAgKi8KICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChzaXplKSA9PiB7CiAgICBjb25zdCB1bml0cyA9IFsiQiIsICJLQiIsICJNQiIsICJHQiIsICJUQiJdOwogICAgbGV0IGkgPSAwOwogICAgd2hpbGUgKHNpemUgPj0gMTAyNCAmJiBpIDwgdW5pdHMubGVuZ3RoIC0gMSkgewogICAgICBzaXplIC89IDEwMjQ7CiAgICAgIGkrKzsKICAgIH0KICAgIHJldHVybiBgJHtzaXplLnRvRml4ZWQoMil9ICR7dW5pdHNbaV19YDsKICB9OwoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyCiAgICogQHBhcmFtIHtzdHJpbmd9IGRlbGltCiAgICogQHJldHVybnMge3N0cmluZ30gaGV4IHNwbGl0IGJ5IGRlbGltaXRlcgogICAqLwogIGZ1bmN0aW9uIGJhc2U2NFRvSGV4KHN0ciwgZGVsaW0pIHsKICAgIGNvbnN0IHJhdyA9IGF0b2Ioc3RyKTsKICAgIGxldCByZXN1bHQgPSAiIjsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGhleCA9IHJhdy5jaGFyQ29kZUF0KGkpLnRvU3RyaW5nKDE2KTsKICAgICAgcmVzdWx0ICs9IGRlbGltLnRvU3RyaW5nKCkgKyAoaGV4Lmxlbmd0aCA9PT0gMiA/IGhleCA6ICIwIiArIGhleCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7CiAgfQoKICAvKioKICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlcgogICAqIEByZXR1cm5zIHtzdHJpbmd9IGJhc2U2NAogICAqLwogIGZ1bmN0aW9uIGJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikgewogICAgdmFyIGJpbmFyeSA9ICIiOwogICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICAgIHZhciBsZW4gPSBieXRlcy5ieXRlTGVuZ3RoOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7CiAgICB9CiAgICByZXR1cm4gYnRvYShiaW5hcnkpOwogIH0KCiAgY2xhc3MgZmlsZXNFeHBhbmRlZCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5fc2hvd1Vuc2FmZU9wdGlvbnMgPSBmYWxzZTsKICAgIH0KICAgIGdldEluZm8oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6ICJmaWxlc0V4cGFuZGVkIiwKICAgICAgICBuYW1lOiBTY3JhdGNoLnRyYW5zbGF0ZSgiRmlsZXMgRXhwYW5kZWQiKSwKICAgICAgICBtZW51SWNvblVSSSwKICAgICAgICBjb2xvcjE6ICIjZmNiMTAzIiwKICAgICAgICBjb2xvcjI6ICIjZGI5YTM3IiwKICAgICAgICBjb2xvcjM6ICIjZGI4OTM3IiwKICAgICAgICBibG9ja3M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlVwbG9hZGluZyIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvcGVuIGEgZmlsZSIpLAogICAgICAgICAgICBkaXNhYmxlTW9uaXRvcjogdHJ1ZSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlckV4dGVuc2lvbnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3BlbiBhIFtleHRlbnNpb25dIGZpbGUiKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBleHRlbnNpb246IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogIi50eHQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJzaG93UGlja2VyQXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3BlbiBhIGZpbGUgYXMgW2FzXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBhczogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2hvd1BpY2tlckV4dGVuc2lvbnNBcyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvcGVuIGEgW2V4dGVuc2lvbl0gZmlsZSBhcyBbYXNdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIGV4dGVuc2lvbjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiLnR4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhczogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIkRvd25sb2FkaW5nIiksCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJkb3dubG9hZCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRvd25sb2FkIFt0ZXh0XSBhcyBbZmlsZV0iKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgiSGVsbG8sIHdvcmxkISIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZmlsZTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgic2F2ZS50eHQiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiZG93bmxvYWRVUkwiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkb3dubG9hZCBVUkwgW3VybF0gYXMgW2ZpbGVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIHVybDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiZGF0YTp0ZXh0L3BsYWluO2Jhc2U2NCxTR1ZzYkc4c0lIZHZjbXhrSVE9PSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBmaWxlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJzYXZlLnR4dCIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkxBQkVMLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiRXh0cmEiKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInNldE9wZW5Nb2RlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IG9wZW4gZmlsZSBzZWxlY3RvciBtb2RlIHRvIFttb2RlXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBtb2RlOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IE1PREVfTU9EQUwsCiAgICAgICAgICAgICAgICBtZW51OiAiYXV0b21hdGljYWxseU9wZW4iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJmaWxlSW5mbyIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJsYXN0IG9wZW5lZCBmaWxlIFtGT1JNQVRdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPUk1BVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkZJTEVfSU5GTyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAiLS0tIiwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAibW9kYWxPcGVuIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5CT09MRUFOLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaXMgbW9kYWwgb3Blbj8iKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZpbmRGaWxlU2l6ZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuUkVQT1JURVIsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJbVFlQRV0gZmlsZSBzaXplIG9mIFtGSUxFXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBUWVBFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAiRklMRV9TSVpFUyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBGSUxFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJIZWxsbywgd29ybGQhIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7IGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuTEFCRUwsIHRleHQ6ICJTdG9yZWQgRmlsZXMiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImNoZWNrRmlsZUFQSSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQk9PTEVBTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImlzIGZpbGUgd3JpdGluZyBzdXBwb3J0ZWQ/IiksCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJhbGxTdG9yZWQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYWxsIHN0b3JlZCBmaWxlcyIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2V0U3RvcmVkRmlsZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgIm9wZW4gW01VTFRJXSBbRklMRV0gZmlsZShzKSBhbmQgc3RvcmUgYXMgW1RZUEVdIG5hbWVkIFtOQU1FXSIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgTVVMVEk6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJtdWx0aU1vZGUiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibXktZmlsZS0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBGSUxFOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICIudHh0IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIFRZUEU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJlbmNvZGluZyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN0b3JlZEZvbGRlciIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgIm9wZW4gZm9sZGVyIGFuZCBzdG9yZSBmaWxlcyBhcyBbVFlQRV0gd2l0aCBuYW1lIFtOQU1FXSIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVFlQRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogImVuY29kaW5nIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE5BTUU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15LWZvbGRlci0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImRlbGV0ZVN0b3JlZEZpbGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkZWxldGUgZmlsZSBbTkFNRV0gZnJvbSBbT1BUSU9OXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJteS1maWxlLTEiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE9QVElPTjogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkRFTEVUSU9OIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVGaWxlIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid3JpdGUgW1RYVF0gdG8gc3RvcmVkIGZpbGUgW05BTUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRYVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibmV3IGNvbnRlbnQiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIE5BTUU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogU2NyYXRjaC50cmFuc2xhdGUoIm15LWZpbGUtMSIpLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJ1cGRhdGVGaWxlVVJMIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgid3JpdGUgVVJMIFtVUkxdIHRvIHN0b3JlZCBmaWxlIFtOQU1FXSIpLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBVUkw6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogImRhdGE6dGV4dC9wbGFpbjtiYXNlNjQsU0dWc2JHOHNJSGR2Y214a0lRPT0iLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgTkFNRTogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBTY3JhdGNoLnRyYW5zbGF0ZSgibXktZmlsZS0xIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInN0b3JlZEluZm8iLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLlJFUE9SVEVSLAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiW0ZPUk1BVF0gaW4gc3RvcmVkIGZpbGUgW05BTUVdIiksCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPUk1BVDogewogICAgICAgICAgICAgICAgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuU1RSSU5HLAogICAgICAgICAgICAgICAgbWVudTogIkZJTEVfSU5GTyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBOQU1FOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJteS1maWxlLTEiKSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJtb3ZlU3RvcmFnZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm1pZ3JhdGUgZmlsZXMgdG8gQ1NUJ3MgWklQIEV4dGVuc2lvbiIpLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5MQUJFTCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIlZpc3VhbHMiKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGZ1bmM6ICJ0b2dnbGVWaXMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkJVVFRPTiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoCiAgICAgICAgICAgICAgYCR7ZW5hYmxlVmlzID8gIkVuIiA6ICJEaXMifWFibGUgQ3VzdG9taXphdGlvbmAKICAgICAgICAgICAgKSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogInJlc2V0U3R5bGUiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyZXNldCBzZWxlY3RvciBzdHlsZSB0byBkZWZhdWx0IiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgfSwKICAgICAgICAgICItLS0iLAogICAgICAgICAgewogICAgICAgICAgICBvcGNvZGU6ICJib3JkZXJDb2xvcnMiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2VsZWN0b3IgW09QVElPTl0gY29sb3IgdG8gW0NPTE9SXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1BUSU9OOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAidmlzdWFsQ29sb3JzIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIENPTE9SOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5DT0xPUiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidmlzdWFsc1NlbGVjdCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzZWxlY3RvciBbT1BUSU9OXSB0byBbQU1UXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgT1BUSU9OOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBtZW51OiAidmlzdWFsT3B0aW9ucyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBBTVQ6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLk5VTUJFUiwKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMTUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImltYWdlU2V0IiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5DT01NQU5ELAogICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgic2V0IHNlbGVjdG9yIGltYWdlIHRvIFtJTUddIiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBJTUc6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogImh0dHBzOi8vZXh0ZW5zaW9ucy50dXJib3dhcnAub3JnL2RhbmdvLnBuZyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICAvKiBEZXByZWNhdGlvbiBNYXJrZXIgKi8KICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAic2NhbGVJbWFnZSIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogInNjYWxlIHNlbGVjdG9yIGltYWdlIHRvIFtTQ0FMRV0lIiwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiB0cnVlLAogICAgICAgICAgICBhcmd1bWVudHM6IHsgU0NBTEU6IHsgdHlwZTogU2NyYXRjaC5Bcmd1bWVudFR5cGUuTlVNQkVSIH0gfQogICAgICAgICAgfSwKICAgICAgICAgIC8qIE1hcmtlciBFbmQgKi8KICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAiYm9yZGVyVHlwZVNldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBzZWxlY3RvciBib3JkZXIgdHlwZSB0byBbVFlQRV0iKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBlbmFibGVWaXMsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIFRZUEU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJib3JkZXJUeXBlcyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImZvbnRTZXQiLAogICAgICAgICAgICBibG9ja1R5cGU6IFNjcmF0Y2guQmxvY2tUeXBlLkNPTU1BTkQsCiAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzZXQgc2VsZWN0b3IgZm9udCB0byBbRk9OVF0iKSwKICAgICAgICAgICAgaGlkZUZyb21QYWxldHRlOiBlbmFibGVWaXMsCiAgICAgICAgICAgIGFyZ3VtZW50czogewogICAgICAgICAgICAgIEZPTlQ6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJmb250IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgb3Bjb2RlOiAidGV4dFNldCIsCiAgICAgICAgICAgIGJsb2NrVHlwZTogU2NyYXRjaC5CbG9ja1R5cGUuQ09NTUFORCwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNldCBmaWxlIHNlbGVjdG9yIHRleHQgdG8gW1RFWFRdIiksCiAgICAgICAgICAgIGhpZGVGcm9tUGFsZXR0ZTogZW5hYmxlVmlzLAogICAgICAgICAgICBhcmd1bWVudHM6IHsKICAgICAgICAgICAgICBURVhUOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBTY3JhdGNoLkFyZ3VtZW50VHlwZS5TVFJJTkcsCiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFNjcmF0Y2gudHJhbnNsYXRlKCJJbnNlcnQgRmlsZSBIZXJlIiksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG9wY29kZTogImN1cnJlbnRYIiwKICAgICAgICAgICAgYmxvY2tUeXBlOiBTY3JhdGNoLkJsb2NrVHlwZS5SRVBPUlRFUiwKICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImN1cnJlbnQgc2VsZWN0b3IgW1RISU5HXSIpLAogICAgICAgICAgICBoaWRlRnJvbVBhbGV0dGU6IGVuYWJsZVZpcywKICAgICAgICAgICAgYXJndW1lbnRzOiB7CiAgICAgICAgICAgICAgVEhJTkc6IHsKICAgICAgICAgICAgICAgIHR5cGU6IFNjcmF0Y2guQXJndW1lbnRUeXBlLlNUUklORywKICAgICAgICAgICAgICAgIG1lbnU6ICJtb2RhbFZpc3VhbHMiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgbWVudXM6IHsKICAgICAgICAgIGZvbnQ6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogImdldEZvbnRzIiwKICAgICAgICAgIH0sCiAgICAgICAgICBlbmNvZGluZzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiAiZ2V0RW5jb2RpbmdzIiwKICAgICAgICAgIH0sCiAgICAgICAgICBhdXRvbWF0aWNhbGx5T3BlbjogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNob3cgbW9kYWwiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiBNT0RFX01PREFMLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm9wZW4gc2VsZWN0b3IgaW1tZWRpYXRlbHkiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiBNT0RFX0lNTUVESUFURUxZX1NIT1dfU0VMRUNUT1IsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBXaWxsIG5vdCB3b3JrIGlmIHRoZSBicm93c2VyIGRvZXNuJ3QgdGhpbmsgd2UgYXJlIHJlc3BvbmRpbmcgdG8gYSBjbGljayBldmVudC4KICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJvbmx5IHNob3cgc2VsZWN0b3IgKHVucmVsaWFibGUpIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogTU9ERV9PTkxZX1NFTEVDVE9SLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgRklMRV9TSVpFUzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImZvcm1hdHRlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb3JtYXR0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInVuZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInVuZm9ybWF0dGVkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIEZJTEVfSU5GTzogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRhdGEiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZGF0YSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibmFtZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJuYW1lIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJtb2RpZmllZCBkYXRlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogIm1vZGlmaWVkIGRhdGUiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNpemUgZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpemUgZm9ybWF0dGVkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzaXplIHVuZm9ybWF0dGVkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpemUgdW5mb3JtYXR0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgREVMRVRJT046IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJzdG9yYWdlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInN0b3JhZ2UiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRoaXMgZGV2aWNlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInRoaXMgZGV2aWNlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJib3RoIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImJvdGgiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgICAgbXVsdGlNb2RlOiB7CiAgICAgICAgICAgIGFjY2VwdFJlcG9ydGVyczogZmFsc2UsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImEgc2luZ2xlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNpbmdsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJtdWx0aXBsZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJtdWx0aXBsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIG1vZGFsVmlzdWFsczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciBjb2xvciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXIiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQgY29sb3IiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAidGV4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFja2dyb3VuZCBjb2xvciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJvdXRlciIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3ZlcmxheSBvcGFjaXR5IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNoYWRvdyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiZm9udCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb250IiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHNpemUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAic2l6ZUZvbnQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImZvbnQgdGhpY2tuZXNzIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImZvbnRXZWlnaHQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImxldHRlciBzcGFjaW5nIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImxldHRlclNwYWNpbmciLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciByYWRpdXMiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiYm9yZGVyUmFkaXVzIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJib3JkZXIgdHlwZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXJUeXBlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJiYWNrZ3JvdW5kIGltYWdlIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogImltYWdlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJ0ZXh0IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInRleHRWIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIHZpc3VhbENvbG9yczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJib3JkZXIiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInRleHQiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAidGV4dCIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiYmFja2dyb3VuZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJiYWNrZ3JvdW5kIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICAgIHZpc3VhbE9wdGlvbnM6IHsKICAgICAgICAgICAgYWNjZXB0UmVwb3J0ZXJzOiB0cnVlLAogICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHNpemUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZm9udCBzaXplIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJmb250IHRoaWNrbmVzcyIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJmb250IHRoaWNrbmVzcyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgibGV0dGVyIHNwYWNpbmciKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAibGV0dGVyIHNwYWNpbmciLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImJvcmRlciByYWRpdXMiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiYm9yZGVyIHJhZGl1cyIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgib3ZlcmxheSBvcGFjaXR5IiksCiAgICAgICAgICAgICAgICB2YWx1ZTogIm92ZXJsYXkgb3BhY2l0eSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgICBib3JkZXJUeXBlczogewogICAgICAgICAgICBhY2NlcHRSZXBvcnRlcnM6IHRydWUsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRvdHRlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJkb3R0ZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoImRhc2hlZCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJkYXNoZWQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoInNvbGlkIiksCiAgICAgICAgICAgICAgICB2YWx1ZTogInNvbGlkIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJkb3VibGUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZG91YmxlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJncm9vdmUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiZ3Jvb3ZlIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRleHQ6IFNjcmF0Y2gudHJhbnNsYXRlKCJyaWRnZSIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJyaWRnZSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgiaW5zZXQiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAiaW5zZXQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm91dHNldCIpLAogICAgICAgICAgICAgICAgdmFsdWU6ICJvdXRzZXQiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGV4dDogU2NyYXRjaC50cmFuc2xhdGUoIm5vbmUiKSwKICAgICAgICAgICAgICAgIHZhbHVlOiAibm9uZSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfTsKICAgIH0KCiAgICAvLyBIZWxwZXIgRnVuY3MKICAgIGdldEZvbnRzKCkgewogICAgICBjb25zdCBjdXN0b21Gb250cyA9IHJ1bnRpbWUuZm9udE1hbmFnZXIgPyBydW50aW1lLmZvbnRNYW5hZ2VyLmdldEZvbnRzKCkubWFwKChpKSA9PiAoeyB0ZXh0OiBpLm5hbWUsIHZhbHVlOiBpLmZhbWlseSB9KSkgOiBbXTsKICAgICAgcmV0dXJuIFsuLi5idWlsdEluRm9udHMsIC4uLmN1c3RvbUZvbnRzXTsKICAgIH0KCiAgICBnZXRFbmNvZGluZ3Mob25seVNhZmUpIHsKICAgICAgY29uc3QgdHlwZXMgPSBbCiAgICAgICAgeyB0ZXh0OiBTY3JhdGNoLnRyYW5zbGF0ZSgidGV4dCIpLCB2YWx1ZTogQVNfVEVYVCB9LAogICAgICAgIHsgdGV4dDogImRhdGE6IFVSTCIsIHZhbHVlOiBBU19EQVRBX1VSTCB9LAogICAgICAgIHsgdGV4dDogImJhc2U2NCIsIHZhbHVlOiBBU19CQVNFNjQgfSwKICAgICAgICB7IHRleHQ6ICJoZXgiLCB2YWx1ZTogQVNfSEVYIH0sCiAgICAgIF07CiAgICAgIGlmICh0aGlzLl9zaG93VW5zYWZlT3B0aW9ucykgdHlwZXMucHVzaCh7IHRleHQ6ICJhcnJheUJ1ZmZlciIsIHZhbHVlOiBBU19CVUZGRVIgfSk7CiAgICAgIHJldHVybiB0eXBlczsKICAgIH0KCiAgICB0b2dnbGVWaXMoKSB7CiAgICAgIChlbmFibGVWaXMgPSBlbmFibGVWaXMgPyBmYWxzZSA6IHRydWUpLAogICAgICAgIHZtLmV4dGVuc2lvbk1hbmFnZXIucmVmcmVzaEJsb2NrcygpOwogICAgfQoKICAgIHVwZGF0ZVN0b3JlKG5hbWUsIGRhdGEsIG1ldGFEYXRhKSB7CiAgICAgIGNvbnN0IHJhd0RhdGUgPSBuZXcgRGF0ZShtZXRhRGF0YS5sYXN0TW9kaWZpZWQpOwogICAgICBzdG9yZWRGaWxlc1tuYW1lXS5kYXRhID0gewogICAgICAgIHNpemU6IG1ldGFEYXRhLnNpemUsCiAgICAgICAgc2l6ZUZvcm1hdDogZm9ybWF0RmlsZVNpemUobWV0YURhdGEuc2l6ZSksCiAgICAgICAgZGF0ZUZvcm1hdDogcmF3RGF0ZS50b0xvY2FsZVN0cmluZygpLAogICAgICAgIGRhdGEsCiAgICAgIH07CiAgICB9CgogICAgYXN5bmMgZW5jb2RlRGF0YShtZXRhLCBmb3JtYXQpIHsKICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IG1ldGEudGV4dCgpOwogICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBtZXRhLmFycmF5QnVmZmVyKCk7CiAgICAgIGlmIChmb3JtYXQgPT09IEFTX1RFWFQpIHJldHVybiB0ZXh0OwogICAgICBlbHNlIGlmIChmb3JtYXQgPT09IEFTX0JVRkZFUikgcmV0dXJuIGJ1ZmZlcjsKICAgICAgY29uc3QgYmFzZTY0ID0gYnVmZmVyVG9CYXNlNjQoYnVmZmVyKTsKICAgICAgaWYgKGZvcm1hdCA9PT0gQVNfQkFTRTY0KSByZXR1cm4gYmFzZTY0OwogICAgICBlbHNlIGlmIChmb3JtYXQgPT09IEFTX0RBVEFfVVJMKSByZXR1cm4gYGRhdGE6JHttZXRhLnR5cGV9O2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCR7YmFzZTY0fWA7CiAgICAgIGVsc2UgaWYgKGZvcm1hdCA9PT0gQVNfSEVYKSByZXR1cm4gYmFzZTY0VG9IZXgoYmFzZTY0LCAiICIpOwogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICAvLyBCbG9jayBGdW5jcyAoVXBsb2FkICYgRG93bmxvYWQpCiAgICBzaG93UGlja2VyKCkgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoIiIsIEFTX1RFWFQpOwogICAgfQoKICAgIHNob3dQaWNrZXJFeHRlbnNpb25zKGFyZ3MpIHsKICAgICAgcmV0dXJuIHNob3dGaWxlUHJvbXB0KGFyZ3MuZXh0ZW5zaW9uLCBBU19URVhUKTsKICAgIH0KCiAgICBzaG93UGlja2VyQXMoYXJncykgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoIiIsIGFyZ3MuYXMpOwogICAgfQoKICAgIHNob3dQaWNrZXJFeHRlbnNpb25zQXMoYXJncykgewogICAgICByZXR1cm4gc2hvd0ZpbGVQcm9tcHQoYXJncy5leHRlbnNpb24sIGFyZ3MuYXMpOwogICAgfQoKICAgIGFzeW5jIGRvd25sb2FkKGFyZ3MpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBkb3dubG9hZEJsb2IoCiAgICAgICAgICBuZXcgQmxvYihbU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MudGV4dCldKSwKICAgICAgICAgIFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLmZpbGUpCiAgICAgICAgKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBkb3dubG9hZFVSTChhcmdzKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgZG93bmxvYWRVbnRydXN0ZWRVUkwoCiAgICAgICAgICBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy51cmwpLAogICAgICAgICAgU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuZmlsZSkKICAgICAgICApOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgfQogICAgfQoKICAgIHNldE9wZW5Nb2RlKGFyZ3MpIHsKICAgICAgaWYgKEFMTF9NT0RFUy5pbmNsdWRlcyhhcmdzLm1vZGUpKSBvcGVuRmlsZVNlbGVjdG9yTW9kZSA9IGFyZ3MubW9kZTsKICAgICAgZWxzZSBjb25zb2xlLndhcm4oYHVua25vd24gbW9kZWAsIGFyZ3MubW9kZSk7CiAgICB9CgogICAgZmlsZUluZm8oYXJncykgewogICAgICBpZiAoYXJncy5GT1JNQVQgPT09ICJzaXplIGZvcm1hdHRlZCIpIHJldHVybiBGaWxlU2l6ZTsKICAgICAgZWxzZSBpZiAoYXJncy5GT1JNQVQgPT09ICJzaXplIHVuZm9ybWF0dGVkIikgcmV0dXJuIFJhd0ZpbGVTaXplOwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gIm1vZGlmaWVkIGRhdGUiKSByZXR1cm4gZmlsZURhdGU7CiAgICAgIGVsc2UgaWYgKGFyZ3MuRk9STUFUID09PSAiZGF0YSIpIHJldHVybiBsYXN0RGF0YTsKICAgICAgcmV0dXJuIEZpbGVOYW1lOwogICAgfQoKICAgIG1vZGFsT3BlbigpIHsKICAgICAgcmV0dXJuIG9wZW5Nb2RhbHMgIT09IDA7CiAgICB9CgogICAgLy8gRmlsZSBXcml0aW5nICYgRm9sZGVycwogICAgY2hlY2tGaWxlQVBJKCkgewogICAgICByZXR1cm4gInNob3dPcGVuRmlsZVBpY2tlciIgaW4gd2luZG93OwogICAgfQoKICAgIGFsbFN0b3JlZCgpIHsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHN0b3JlZEZpbGVzKSk7CiAgICB9CgogICAgYXN5bmMgc2V0U3RvcmVkRmlsZShhcmdzKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0ZpbGVBUEkoKSkgcmV0dXJuOwogICAgICBjb25zdCBmaWxlVHlwZXMgPSBhcmdzLkZJTEUgPyBhcmdzLkZJTEUuc3BsaXQoIiAiKSA6IFtdOwogICAgICBjb25zdCBpc011bHRpID0gYXJncy5NVUxUSSA9PT0gIm11bHRpcGxlIjsKICAgICAgY29uc3Qgb3ZlcnJpZGVyID0geyB0eXBlOiAid2luZG93IiwgYWxsb3dNdWx0aTogaXNNdWx0aSB9OwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHBpY2tlciA9IGF3YWl0IHNob3dGaWxlUHJvbXB0KGZpbGVUeXBlcywgIiIsIG92ZXJyaWRlcik7CiAgICAgICAgaWYgKCFwaWNrZXIpIHJldHVybjsKCiAgICAgICAgY29uc3QgbmFtZSA9IFNjcmF0Y2guQ2FzdC50b1N0cmluZyhhcmdzLk5BTUUpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlja2VyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBzcGFjZU5hbWUgPSBpc011bHRpID8gbmFtZSArIChpICsgMSkgOiBuYW1lOwogICAgICAgICAgc3RvcmVkRmlsZXNbc3BhY2VOYW1lXSA9IHsgZmlsZTogcGlja2VyW2ldLCBkYXRhOiB7fSB9OwogICAgICAgICAgY29uc3QgbWV0YURhdGEgPSBhd2FpdCBwaWNrZXJbaV0uZ2V0RmlsZSgpOwogICAgICAgICAgY29uc3QgZW5jb2RlZERhdGEgPSBhd2FpdCB0aGlzLmVuY29kZURhdGEobWV0YURhdGEsIGFyZ3MuVFlQRSk7CiAgICAgICAgICB0aGlzLnVwZGF0ZVN0b3JlKHNwYWNlTmFtZSwgZW5jb2RlZERhdGEsIG1ldGFEYXRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLndhcm4oZSk7CiAgICAgIH0KICAgIH0KCiAgICBhc3luYyBzdG9yZWRGb2xkZXIoYXJncykgewogICAgICBpZiAoIXRoaXMuY2hlY2tGaWxlQVBJKCkpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwaWNrZXIgPSBhd2FpdCBzaG93RmlsZVByb21wdCgiRm9sZGVyIiwgIiIsIHsgdHlwZTogImZvbGRlciIgfSk7CiAgICAgICAgaWYgKCFwaWNrZXIpIHJldHVybjsKCiAgICAgICAgY29uc3QgY3JlYXRlRXh0RmlsZSA9IGFzeW5jIChmb2xkZXJOLCBkYXRhKSA9PiB7CiAgICAgICAgICBjb25zdCBuYW1lID0gYCR7Zm9sZGVyTn0vJHtkYXRhLm5hbWV9YDsKICAgICAgICAgIHN0b3JlZEZpbGVzW25hbWVdID0geyBmaWxlOiBkYXRhLCBkYXRhOiB7fSB9OwogICAgICAgICAgY29uc3QgbWV0YURhdGEgPSBhd2FpdCBkYXRhLmdldEZpbGUoKTsKICAgICAgICAgIGNvbnN0IGVuY29kZWREYXRhID0gYXdhaXQgdGhpcy5lbmNvZGVEYXRhKG1ldGFEYXRhLCBhcmdzLlRZUEUpOwogICAgICAgICAgdGhpcy51cGRhdGVTdG9yZShuYW1lLCBlbmNvZGVkRGF0YSwgbWV0YURhdGEpOwogICAgICAgIH07CgogICAgICAgIGNvbnN0IGRpZ1Rocm91Z2hGb2xkZXIgPSBhc3luYyAoZm9sZGVyQ3R4KSA9PiB7CiAgICAgICAgICBjb25zdCBlbnRyaWVzID0gZm9sZGVyQ3R4LmVudHJpZXMoKTsKICAgICAgICAgIGNvbnN0IGZvbGRlck4gPSBhcmdzLk5BTUUgPyBhcmdzLk5BTUUgOiBmb2xkZXJDdHgubmFtZTsKICAgICAgICAgIGxldCB0aGlzRmlsZSA9ICIiOwogICAgICAgICAgd2hpbGUgKHRoaXNGaWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc3Qgb3V0ZXJEYXRhID0gYXdhaXQgZW50cmllcy5uZXh0KCk7CiAgICAgICAgICAgIHRoaXNGaWxlID0gb3V0ZXJEYXRhLnZhbHVlOwogICAgICAgICAgICBpZiAodGhpc0ZpbGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGNvbnN0IGlubmVyRGF0YSA9IHRoaXNGaWxlWzFdOwogICAgICAgICAgICAgIGlmIChpbm5lckRhdGEua2luZCA9PT0gImRpcmVjdG9yeSIpIGF3YWl0IGRpZ1Rocm91Z2hGb2xkZXIoaW5uZXJEYXRhKTsKICAgICAgICAgICAgICBlbHNlIGF3YWl0IGNyZWF0ZUV4dEZpbGUoZm9sZGVyTiwgaW5uZXJEYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYXdhaXQgZGlnVGhyb3VnaEZvbGRlcihwaWNrZXIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKGUpOwogICAgICB9CiAgICB9CgogICAgZGVsZXRlU3RvcmVkRmlsZShhcmdzKSB7CiAgICAgIGlmIChhcmdzLk9QVElPTiA9PT0gInRoaXMgZGV2aWNlIiB8fCBhcmdzLk9QVElPTiA9PT0gImJvdGgiKSB7CiAgICAgICAgaWYgKCF0aGlzLmNoZWNrRmlsZUFQSSgpIHx8IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0uZmlsZS5yZW1vdmUoKTsKICAgICAgfQogICAgICBpZiAoYXJncy5PUFRJT04gPT09ICJzdG9yYWdlIiB8fCBhcmdzLk9QVElPTiA9PT0gImJvdGgiKSBkZWxldGUgc3RvcmVkRmlsZXNbYXJncy5OQU1FXTsKICAgIH0KCiAgICBhc3luYyB1cGRhdGVGaWxlKGFyZ3MpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrRmlsZUFQSSgpIHx8IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHdyaXRhYmxlID0gYXdhaXQgc3RvcmVkRmlsZXNbYXJncy5OQU1FXS5maWxlLmNyZWF0ZVdyaXRhYmxlKCk7CiAgICAgICAgYXdhaXQgd3JpdGFibGUud3JpdGUoYXJncy5UWFQpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7CiAgICAgICAgdGhpcy51cGRhdGVTdG9yZShhcmdzLk5BTUUsIGFyZ3MuVFhULCB7CiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCksCiAgICAgICAgICBzaXplOiBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5UWFQpLmxlbmd0aCwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihlKTsKICAgICAgfQogICAgfQoKICAgIGFzeW5jIHVwZGF0ZUZpbGVVUkwoYXJncykgewogICAgICBpZiAoIXRoaXMuY2hlY2tGaWxlQVBJKCkgfHwgc3RvcmVkRmlsZXNbYXJncy5OQU1FXSA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXJsID0gU2NyYXRjaC5DYXN0LnRvU3RyaW5nKGFyZ3MuVVJMKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBTY3JhdGNoLmZldGNoKHVybCk7CiAgICAgICAgaWYgKCFyZXMub2spIHJldHVybjsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTsKICAKICAgICAgICBjb25zdCB3cml0YWJsZSA9IGF3YWl0IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV0uZmlsZS5jcmVhdGVXcml0YWJsZSgpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLndyaXRlKGJsb2IpOwogICAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7CiAgICAgICAgdGhpcy51cGRhdGVTdG9yZShhcmdzLk5BTUUsIHVybCwgewogICAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLAogICAgICAgICAgc2l6ZTogdXJsLmxlbmd0aCwKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybihlKTsKICAgICAgfQogICAgfQoKICAgIHN0b3JlZEluZm8oYXJncykgewogICAgICBjb25zdCBmaWxlSW5mbyA9IHN0b3JlZEZpbGVzW2FyZ3MuTkFNRV07CiAgICAgIGlmIChmaWxlSW5mbyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gIiI7CiAgICAgIGVsc2UgaWYgKGFyZ3MuRk9STUFUID09PSAic2l6ZSBmb3JtYXR0ZWQiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5zaXplRm9ybWF0OwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gInNpemUgdW5mb3JtYXR0ZWQiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5zaXplOwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gIm1vZGlmaWVkIGRhdGUiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5kYXRlRm9ybWF0OwogICAgICBlbHNlIGlmIChhcmdzLkZPUk1BVCA9PT0gImRhdGEiKSByZXR1cm4gZmlsZUluZm8uZGF0YS5kYXRhOwogICAgICByZXR1cm4gZmlsZUluZm8uZmlsZS5uYW1lOwogICAgfQoKICAgIG1vdmVTdG9yYWdlKCkgewogICAgICBjb25zdCBleHQgPSBydW50aW1lLmV4dF9jc3QxMjI5emlwOwogICAgICBpZiAoZXh0ID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgZXh0LmNyZWF0ZUVtcHR5QXMoeyBOQU1FOiAiZmlsZXNFeHBhbmRlZF9zdG9yZWRGaWxlcyIgfSk7CiAgICAgIGlmIChleHQuemlwRXJyb3IpIHJldHVybjsKICAgICAgY29uc3QgemlwID0gZXh0LnppcHNbImZpbGVzRXhwYW5kZWRfc3RvcmVkRmlsZXMiXTsKICAgICAgZm9yIChjb25zdCBbbmFtZSwgZmlsZV0gb2YgT2JqZWN0LmVudHJpZXMoc3RvcmVkRmlsZXMpKSB6aXAuZmlsZShuYW1lLCBmaWxlLmRhdGEuZGF0YSk7CiAgICB9CgogICAgLy8gRXh0cmEKICAgIGZpbmRGaWxlU2l6ZShhcmdzKSB7CiAgICAgIGNvbnN0IHNpemUgPSBTY3JhdGNoLkNhc3QudG9TdHJpbmcoYXJncy5GSUxFKS5sZW5ndGg7IC8vIGJ5dGVzCiAgICAgIHJldHVybiBhcmdzLlRZUEUgPT09ICJmb3JtYXR0ZWQiID8gZm9ybWF0RmlsZVNpemUoc2l6ZSkgOiBzaXplOwogICAgfQoKICAgIC8vIFZpc3VhbHMKICAgIHJlc2V0U3R5bGUoKSB7CiAgICAgIHNlbGVjdG9yT3B0aW9ucyA9IHsKICAgICAgICBib3JkZXJDb2xvcjogIiM4ODgiLCB0ZXh0Q29sb3I6ICIjMDAwIiwgb3V0ZXI6ICIjZmZmIiwKICAgICAgICBzaXplRm9udDogMS41LCBib3JkZXJSYWRpdXM6IDE2LCBib3JkZXJUeXBlOiAiZGFzaGVkIiwKICAgICAgICBmb250OiAiaW5oZXJpdCIsIHNoYWRvdzogMC41LCBpbWFnZTogIiIsIHRleHRWOiAiIiwKICAgICAgICBmb250V2VpZ2h0OiA0MCwgbGV0dGVyU3BhY2luZzogIm5vcm1hbCIsCiAgICAgIH07CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQoKICAgIGJvcmRlckNvbG9ycyhhcmdzKSB7CiAgICAgIHN3aXRjaCAoYXJncy5PUFRJT04pIHsKICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy50ZXh0Q29sb3IgPSBhcmdzLkNPTE9SOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiYmFja2dyb3VuZCI6CiAgICAgICAgICBzZWxlY3Rvck9wdGlvbnMub3V0ZXIgPSBhcmdzLkNPTE9SOwogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmltYWdlID0gIiI7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlckNvbG9yID0gYXJncy5DT0xPUjsKICAgICAgfQogICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgIH0KCiAgICB2aXN1YWxzU2VsZWN0KGFyZ3MpIHsKICAgICAgY29uc3QgYW10SW4gPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYXJncy5BTVQpOwogICAgICBzd2l0Y2ggKGFyZ3MuT1BUSU9OKSB7CiAgICAgICAgY2FzZSAiZm9udCBzaXplIjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5zaXplRm9udCA9IGFtdEluIC8gMTA7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmb250IHRoaWNrbmVzcyI6CiAgICAgICAgICBzZWxlY3Rvck9wdGlvbnMuZm9udFdlaWdodCA9IGFtdEluOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAibGV0dGVyIHNwYWNpbmciOgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmxldHRlclNwYWNpbmcgPSBhbXRJbjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImJvcmRlciByYWRpdXMiOgogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlclJhZGl1cyA9IGFtdEluOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAib3ZlcmxheSBvcGFjaXR5IjoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5zaGFkb3cgPSBTY3JhdGNoLkNhc3QudG9OdW1iZXIoYW10SW4pIC8gMTAwOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHNlbGVjdG9yT3B0aW9ucy5ib3JkZXIgPSBhbXRJbjsKICAgICAgfQogICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgIH0KCiAgICBib3JkZXJUeXBlU2V0KGFyZ3MpIHsKICAgICAgc2VsZWN0b3JPcHRpb25zLmJvcmRlclR5cGUgPSBhcmdzLlRZUEU7CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQoKICAgIGZvbnRTZXQoYXJncykgewogICAgICBzZWxlY3Rvck9wdGlvbnMuZm9udCA9IGFyZ3MuRk9OVDsKICAgICAgdXBkYXRlTW9kYWxWaXN1YWxzKCk7CiAgICB9CgogICAgY3VycmVudFgoYXJncykgewogICAgICBpZiAoYXJncy5USElORyA9PT0gInNoYWRvdyIgfHwgYXJncy5USElORyA9PT0gInNpemVGb250IikgewogICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBhcmdzLlRISU5HID09PSAic2hhZG93IiA/IDEwMCA6IDEwOwogICAgICAgIHJldHVybiBzZWxlY3Rvck9wdGlvbnNbYXJncy5USElOR10gKiBtdWx0aXBsaWVyOwogICAgICB9CiAgICAgIHJldHVybiBzZWxlY3Rvck9wdGlvbnNbYXJncy5USElOR107CiAgICB9CgogICAgLyogRGVwcmVjYXRpb24gTWFya2VyICovCiAgICBzY2FsZUltYWdlKCkgeyAvKiBkZXByZWNhdGVkICovIH0KICAgIC8qIE1hcmtlciBFbmQgKi8KICAgIGltYWdlU2V0KGFyZ3MpIHsKICAgICAgU2NyYXRjaC5jYW5GZXRjaChlbmNvZGVVUkkoYXJncy5JTUcpKS50aGVuKChjYW5GZXRjaCkgPT4gewogICAgICAgIGlmIChjYW5GZXRjaCkgewogICAgICAgICAgc2VsZWN0b3JPcHRpb25zLmltYWdlID0gYHVybCgke2VuY29kZVVSSShhcmdzLklNRyl9KWA7CiAgICAgICAgICB1cGRhdGVNb2RhbFZpc3VhbHMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHRleHRTZXQoYXJncykgewogICAgICBzZWxlY3Rvck9wdGlvbnMudGV4dFYgPSBhcmdzLlRFWFQ7CiAgICAgIHVwZGF0ZU1vZGFsVmlzdWFscygpOwogICAgfQogIH0KCiAgU2NyYXRjaC5leHRlbnNpb25zLnJlZ2lzdGVyKChydW50aW1lLmV4dF9maWxlc0V4cGFuZGVkID0gbmV3IGZpbGVzRXhwYW5kZWQoKSkpOwp9KShTY3JhdGNoKTsK"},"meta":{"semver":"3.0.0","platform":{"name":"Mistwarp","url":"https://warp.mistium.com/"}}}